{"version":3,"file":"tutor-front.js","mappings":";;;;;AACAA,MAAM,CAACC,QAAD,CAAN,CAAiBC,KAAjB,CAAuB,UAAUC,CAAV,EAAa;AAChC;AACA;AACJ;AACA;AACA;;AACI,iBAA4BC,EAAE,CAACC,IAA/B;AAAA,MAAQC,EAAR,YAAQA,EAAR;AAAA,MAAYC,EAAZ,YAAYA,EAAZ;AAAA,MAAgBC,EAAhB,YAAgBA,EAAhB;AAAA,MAAoBC,GAApB,YAAoBA,GAApB;AACA;AACJ;AACA;AACA;;AACI,MAAIT,MAAM,GAAGU,OAAb,EAAsB;AAClBP,IAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBO,OAApB,CAA4B;AACxBC,MAAAA,YAAY,EAAE,sBAAUC,MAAV,EAAkB;AAC5B,eAAOA,MAAP;AACH;AAHuB,KAA5B;AAKH,GAjB+B,CAkBhC;;AAGA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,GAAC,UAAUC,CAAV,EAAa;AAAE,aAASC,CAAT,CAAWD,CAAX,EAAcE,CAAd,EAAiB;AAAE,UAAI,EAAEF,CAAC,CAACG,aAAF,CAAgBC,OAAhB,CAAwBC,MAAxB,GAAiC,CAAnC,CAAJ,EAA2C;AAAEL,QAAAA,CAAC,CAACM,cAAF;AAAoB,YAAIC,CAAC,GAAGP,CAAC,CAACG,aAAF,CAAgBK,cAAhB,CAA+B,CAA/B,CAAR;AAAA,YAA2CC,CAAC,GAAGrB,QAAQ,CAACsB,WAAT,CAAqB,aAArB,CAA/C;AAAoFD,QAAAA,CAAC,CAACE,cAAF,CAAiBT,CAAjB,EAAoB,CAAC,CAArB,EAAwB,CAAC,CAAzB,EAA4BU,MAA5B,EAAoC,CAApC,EAAuCL,CAAC,CAACM,OAAzC,EAAkDN,CAAC,CAACO,OAApD,EAA6DP,CAAC,CAACQ,OAA/D,EAAwER,CAAC,CAACS,OAA1E,EAAmF,CAAC,CAApF,EAAuF,CAAC,CAAxF,EAA2F,CAAC,CAA5F,EAA+F,CAAC,CAAhG,EAAmG,CAAnG,EAAsG,IAAtG,GAA6GhB,CAAC,CAACiB,MAAF,CAASC,aAAT,CAAuBT,CAAvB,CAA7G;AAAwI;AAAE;;AAAC,QAAIT,CAAC,CAACmB,OAAF,CAAUC,KAAV,GAAkB,gBAAgBhC,QAAlC,EAA4CY,CAAC,CAACmB,OAAF,CAAUC,KAA1D,EAAiE;AAAE,UAAIC,CAAJ;AAAA,UAAOnB,CAAC,GAAGF,CAAC,CAACsB,EAAF,CAAKC,KAAL,CAAWC,SAAtB;AAAA,UAAiCjB,CAAC,GAAGL,CAAC,CAACuB,UAAvC;AAAA,UAAmDhB,CAAC,GAAGP,CAAC,CAACwB,aAAzD;AAAwExB,MAAAA,CAAC,CAACyB,WAAF,GAAgB,UAAU3B,CAAV,EAAa;AAAE,YAAIE,CAAC,GAAG,IAAR;AAAc,SAACmB,CAAD,IAAMnB,CAAC,CAAC0B,aAAF,CAAgB5B,CAAC,CAACG,aAAF,CAAgBK,cAAhB,CAA+B,CAA/B,CAAhB,CAAN,KAA6Da,CAAC,GAAG,CAAC,CAAL,EAAQnB,CAAC,CAAC2B,WAAF,GAAgB,CAAC,CAAzB,EAA4B5B,CAAC,CAACD,CAAD,EAAI,WAAJ,CAA7B,EAA+CC,CAAC,CAACD,CAAD,EAAI,WAAJ,CAAhD,EAAkEC,CAAC,CAACD,CAAD,EAAI,WAAJ,CAAhI;AAAmJ,OAAhM,EAAkME,CAAC,CAAC4B,UAAF,GAAe,UAAU9B,CAAV,EAAa;AAAEqB,QAAAA,CAAC,KAAK,KAAKQ,WAAL,GAAmB,CAAC,CAApB,EAAuB5B,CAAC,CAACD,CAAD,EAAI,WAAJ,CAA7B,CAAD;AAAiD,OAAjR,EAAmRE,CAAC,CAAC6B,SAAF,GAAc,UAAU/B,CAAV,EAAa;AAAEqB,QAAAA,CAAC,KAAKpB,CAAC,CAACD,CAAD,EAAI,SAAJ,CAAD,EAAiBC,CAAC,CAACD,CAAD,EAAI,UAAJ,CAAlB,EAAmC,KAAK6B,WAAL,IAAoB5B,CAAC,CAACD,CAAD,EAAI,OAAJ,CAAxD,EAAsEqB,CAAC,GAAG,CAAC,CAAhF,CAAD;AAAqF,OAArY,EAAuYnB,CAAC,CAACuB,UAAF,GAAe,YAAY;AAAE,YAAIvB,CAAC,GAAG,IAAR;AAAcA,QAAAA,CAAC,CAAC8B,OAAF,CAAUC,IAAV,CAAe;AAAEC,UAAAA,UAAU,EAAElC,CAAC,CAACmC,KAAF,CAAQjC,CAAR,EAAW,aAAX,CAAd;AAAyCkC,UAAAA,SAAS,EAAEpC,CAAC,CAACmC,KAAF,CAAQjC,CAAR,EAAW,YAAX,CAApD;AAA8EmC,UAAAA,QAAQ,EAAErC,CAAC,CAACmC,KAAF,CAAQjC,CAAR,EAAW,WAAX;AAAxF,SAAf,GAAmIK,CAAC,CAAC+B,IAAF,CAAOpC,CAAP,CAAnI;AAA8I,OAAhkB,EAAkkBA,CAAC,CAACwB,aAAF,GAAkB,YAAY;AAAE,YAAIxB,CAAC,GAAG,IAAR;AAAcA,QAAAA,CAAC,CAAC8B,OAAF,CAAUO,MAAV,CAAiB;AAAEL,UAAAA,UAAU,EAAElC,CAAC,CAACmC,KAAF,CAAQjC,CAAR,EAAW,aAAX,CAAd;AAAyCkC,UAAAA,SAAS,EAAEpC,CAAC,CAACmC,KAAF,CAAQjC,CAAR,EAAW,YAAX,CAApD;AAA8EmC,UAAAA,QAAQ,EAAErC,CAAC,CAACmC,KAAF,CAAQjC,CAAR,EAAW,WAAX;AAAxF,SAAjB,GAAqIO,CAAC,CAAC6B,IAAF,CAAOpC,CAAP,CAArI;AAAgJ,OAAhwB;AAAkwB;AAAE,GAAjtC,CAAktCf,MAAltC,CAAD;AAEA;AACJ;AACA;;AAEI,MAAMqD,WAAW,GAAG;AAChBC,IAAAA,OAAO,EAAE7B,MAAM,CAAC8B,YAAP,CAAoBD,OADb;AAEhBE,IAAAA,SAAS,EAAE/B,MAAM,CAAC8B,YAAP,CAAoBC,SAFf;AAGhBC,IAAAA,UAAU,EAAE,sBAAY;AACpB,UAAMC,gBAAgB,GAAGvD,CAAC,CAAC,mCAAD,CAAD,CAAuCwD,GAAvC,EAAzB;AACA,aAAOD,gBAAgB,GAAGE,IAAI,CAACC,KAAL,CAAWH,gBAAX,CAAH,GAAkC,EAAzD;AACH,KANe;AAOhBI,IAAAA,YAAY,EAAE,wBAAY;AACtB,UAAMC,IAAI,GAAG,IAAb;;AACA,UAAI,OAAOC,IAAP,KAAgB,WAApB,EAAiC;AAC7B,YAAMC,MAAM,GAAG,IAAID,IAAJ,CAAS,cAAT,CAAf;AACA,YAAMP,UAAU,GAAGM,IAAI,CAACN,UAAL,EAAnB;AACAQ,QAAAA,MAAM,CAACC,EAAP,CAAU,OAAV,EAAmB,UAAUC,KAAV,EAAiB;AAChC,cAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaC,IAA9B;AACA,cAAQC,eAAR,GAA4Bd,UAA5B,CAAQc,eAAR;;AACA,cAAIA,eAAe,GAAG,CAAlB,IAAuBH,QAAQ,CAACI,QAAT,GAAoBC,IAAI,CAACC,KAAL,CAAWH,eAAX,CAA/C,EAA4E;AACxEH,YAAAA,QAAQ,CAACO,KAAT,CAAeC,WAAf,GAA6BL,eAA7B;AACH;;AACDR,UAAAA,IAAI,CAACc,SAAL,CAAeT,QAAf;AACH,SAPD;AASA,YAAIU,WAAW,GAAG,CAAlB;AACA,YAAIC,eAAe,GAAG,EAAtB,CAb6B,CAaH;;AAC1Bd,QAAAA,MAAM,CAACC,EAAP,CAAU,YAAV,EAAwB,UAAUC,KAAV,EAAiB;AACrC,cAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaC,IAA9B;AACA,cAAMU,gBAAgB,GAAIF,WAAW,GAAG,CAAxC,CAFqC,CAEO;;AAC5C,cAAIE,gBAAgB,IAAID,eAAxB,EAAyC;AACrChB,YAAAA,IAAI,CAACc,SAAL,CAAeT,QAAf;AACAU,YAAAA,WAAW,GAAG,CAAd;AACH;;AACDA,UAAAA,WAAW;AACd,SARD;AAUAb,QAAAA,MAAM,CAACC,EAAP,CAAU,OAAV,EAAmB,UAAUC,KAAV,EAAiB;AAChC,cAAMV,UAAU,GAAGM,IAAI,CAACN,UAAL,EAAnB;AACA,cAAMW,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaC,IAA9B;AACA,cAAMW,IAAI,GAAG;AAAEC,YAAAA,QAAQ,EAAE;AAAZ,WAAb;AACAnB,UAAAA,IAAI,CAACc,SAAL,CAAeT,QAAf,EAAyBa,IAAzB;;AACA,cAAIxB,UAAU,CAAC0B,4BAAf,EAA6C;AACzCpB,YAAAA,IAAI,CAACqB,gBAAL;AACH;AACJ,SARD;AASH;AACJ,KA3Ce;AA4ChBP,IAAAA,SAAS,EAAE,mBAAUT,QAAV,EAAoBiB,OAApB,EAA6B;AACpC,UAAMC,OAAO,GAAG,KAAK7B,UAAL,GAAkB6B,OAAlC,CADoC,CAEpC;;AACA,UAAIL,IAAI,GAAG;AAAEM,QAAAA,MAAM,EAAE,qBAAV;AAAiCX,QAAAA,WAAW,EAAER,QAAQ,CAACQ,WAAvD;AAAoEJ,QAAAA,QAAQ,EAAEJ,QAAQ,CAACI,QAAvF;AAAiGc,QAAAA,OAAO,EAAPA;AAAjG,OAAX;AACAL,MAAAA,IAAI,CAAC,KAAKzB,SAAN,CAAJ,GAAuBD,YAAY,CAAC,KAAKC,SAAN,CAAnC;AACA,UAAIgC,SAAS,GAAGP,IAAhB;;AACA,UAAII,OAAJ,EAAa;AACTG,QAAAA,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcT,IAAd,EAAoBI,OAApB,CAAZ;AACH;;AACDlF,MAAAA,CAAC,CAACwF,IAAF,CAAO,KAAKrC,OAAZ,EAAqBkC,SAArB;AACH,KAtDe;AAuDhBJ,IAAAA,gBAAgB,EAAE,4BAAY;AAC1B,UAAME,OAAO,GAAG,KAAK7B,UAAL,GAAkB6B,OAAlC;AACA,UAAML,IAAI,GAAG;AAAEM,QAAAA,MAAM,EAAE,8BAAV;AAA0CD,QAAAA,OAAO,EAAPA;AAA1C,OAAb;AACAL,MAAAA,IAAI,CAAC,KAAKzB,SAAN,CAAJ,GAAuBD,YAAY,CAAC,KAAKC,SAAN,CAAnC;AACArD,MAAAA,CAAC,CAACwF,IAAF,CAAO,KAAKrC,OAAZ,EAAqB2B,IAArB,EAA2BW,IAA3B,CAAgC,UAAUC,QAAV,EAAoB;AAChD,YAAIA,QAAQ,CAACC,OAAT,IAAoBD,QAAQ,CAACZ,IAAT,CAAcc,QAAtC,EAAgD;AAC5CC,UAAAA,QAAQ,CAACC,IAAT,GAAgBJ,QAAQ,CAACZ,IAAT,CAAcc,QAA9B;AACH;AACJ,OAJD;AAKH,KAhEe;AAiEhBG,IAAAA,IAAI,EAAE,gBAAY;AACd,WAAKpC,YAAL;AACH;AAnEe,GAApB;AAsEA;AACJ;AACA;AACA;;AACI,MAAI3D,CAAC,CAAC,cAAD,CAAD,CAAkBe,MAAtB,EAA8B;AAC1BmC,IAAAA,WAAW,CAAC6C,IAAZ;AACH;;AAED/F,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,oBAAf,EAAqC,kBAArC,EAAyD,YAAY;AACjE/D,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,CAAYwC,aAAa,CAAChG,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAAD,CAAzB;AACH,GAFD;;AAIA,WAASwC,aAAT,CAAuBC,IAAvB,EAA6B;AACzB,WAAOA,IAAI,CAACC,QAAL,GAAgBC,WAAhB,GACFC,OADE,CACM,MADN,EACc,GADd,EAC6B;AAD7B,KAEFA,OAFE,CAEM,WAFN,EAEmB,EAFnB,EAE6B;AAF7B,KAGFA,OAHE,CAGM,QAHN,EAGgB,GAHhB,EAG6B;AAH7B,KAIFA,OAJE,CAIM,KAJN,EAIa,EAJb,EAI6B;AAJ7B,KAKFA,OALE,CAKM,KALN,EAKa,EALb,CAAP,CADyB,CAMW;AACvC;;AAED,WAASC,YAAT,CAAsBC,IAAtB,EAA2B;AACvBA,IAAAA,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,OAAL,EAAT,EAAyBC,MAAzB,CAAgC,GAAhC,EAAqCC,QAArC,CAA8C,sBAA9C,EAAsEC,WAAtE,CAAkF,sBAAlF;AACAL,IAAAA,IAAI,CAACM,OAAL,GAAeH,MAAf,CAAsB,GAAtB,EAA2BE,WAA3B,CAAuC,sBAAvC,EAA+DD,QAA/D,CAAwE,sBAAxE;AACH;AAED;AACJ;AACA;;;AACI1G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,WAAf,EAA4B,yDAA5B,EAAuF,YAAY;AAC/FsC,IAAAA,YAAY,CAACrG,CAAC,CAAC,IAAD,CAAF,CAAZ;AACH,GAFD;AAIAA,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,yDAAxB,EAAmF,YAAY;AAC3F,QAAI8C,MAAM,GAAG7G,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,mBAAb,CAAb;AACA9G,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,0BAAhB,EAA4CC,IAA5C,CAAiD,sCAAjD,EAAyFxD,GAAzF,CAA6FqD,MAA7F;AAEAR,IAAAA,YAAY,CAACrG,CAAC,CAAC,IAAD,CAAF,CAAZ;AACH,GALD;AAOAA,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,UAAf,EAA2B,uDAA3B,EAAoF,YAAU;AAC1F,QAAIkD,KAAK,GAAGjH,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,sCAAb,EAAqDxD,GAArD,EAAZ;AACA,QAAIqD,MAAM,GAAGK,QAAQ,CAACD,KAAD,CAArB;AAEA,QAAIE,QAAQ,GAAGnH,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,yBAAuBH,MAAvB,GAA8B,IAA3C,CAAf;AACCA,IAAAA,MAAM,IAAIM,QAAV,IAAsBA,QAAQ,CAACpG,MAAT,GAAgB,CAAvC,GAA4CsF,YAAY,CAACc,QAAD,CAAxD,GAAqEnH,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,GAAb,EAAkBL,WAAlB,CAA8B,sBAA9B,EAAsDD,QAAtD,CAA+D,sBAA/D,CAArE;AACH,GAND;AAQA1G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,0BAAxB,EAAoD,UAAUhC,CAAV,EAAa;AAC7DA,IAAAA,CAAC,CAACf,cAAF;AACA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI6G,MAAM,GAAGO,KAAK,CAACL,OAAN,CAAc,MAAd,EAAsBC,IAAtB,CAA2B,sCAA3B,EAAmExD,GAAnE,EAAb;AACA,QAAI6D,MAAM,GAAGD,KAAK,CAACL,OAAN,CAAc,MAAd,EAAsBC,IAAtB,CAA2B,yBAA3B,EAAsDxD,GAAtD,EAAb;AACA6D,IAAAA,MAAM,GAAGA,MAAM,CAACC,IAAP,EAAT;AAEA,QAAIC,SAAS,GAAGvH,CAAC,CAAC,+BAAD,CAAD,CAAmCwD,GAAnC,EAAhB;AACA,QAAIsB,IAAI,GAAG;AAAEyC,MAAAA,SAAS,EAAEA,SAAb;AAAwBV,MAAAA,MAAM,EAAEA,MAAhC;AAAwCQ,MAAAA,MAAM,EAAEA,MAAhD;AAAwDjC,MAAAA,MAAM,EAAE;AAAhE,KAAX;;AAEA,QAAG,CAACyB,MAAD,IAAWA,MAAM,IAAE,CAAnB,IAAwB,CAACQ,MAA5B,EAAoC;AAChCG,MAAAA,KAAK,CAACrH,EAAE,CAAC,4BAAD,EAA+B,OAA/B,CAAH,CAAL;AACA;AACH;;AAED,QAAIkH,MAAJ,EAAY;AACRrH,MAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,QAAAA,IAAI,EAAE,MAFH;AAGH7C,QAAAA,IAAI,EAAEA,IAHH;AAIH8C,QAAAA,UAAU,EAAE,sBAAY;AACpBR,UAAAA,KAAK,CAACV,QAAN,CAAe,eAAf;AACH,SANE;AAOHf,QAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,cAAI+C,SAAS,GAAG/C,IAAI,CAACA,IAAL,CAAU+C,SAA1B;AACA,cAAIR,MAAM,GAAGvC,IAAI,CAACA,IAAL,CAAUuC,MAAvB;AACArH,UAAAA,CAAC,CAAC,mBAAmB6H,SAAnB,GAA+B,kBAAhC,CAAD,CAAqDC,IAArD,CAA0DT,MAA1D,EAHqB,CAKrB;;AACA,cAAI/F,MAAM,CAACyG,WAAX,CAAuB/H,CAAvB,EAA0B,aAA1B,EAAyC,EAAzC,EAA6CgI,KAA7C,CAAmD;AAC/CC,YAAAA,KAAK,EAAE9H,EAAE,CAAC,mCAAD,EAAsC,OAAtC,CADsC;AAE/C+H,YAAAA,WAAW,EAAG/H,EAAE,CAAC,oDAAD,EAAuD,OAAvD;AAF+B,WAAnD;AAKAgI,UAAAA,UAAU,CAAC,YAAU;AACjBtC,YAAAA,QAAQ,CAACuC,MAAT;AACH,WAFS,EAEP,IAFO,CAAV;AAGH;AArBE,OAAP;AAuBH;AACJ,GAxCD,EAwCGrE,EAxCH,CAwCM,OAxCN,EAwCe,0BAxCf,EAwC2C,YAAW;AAClD;AACA/D,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,MAAhB,EAAwBsB,IAAxB;AACH,GA3CD;AA6CArI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,+BAAxB,EAAyD,UAAUhC,CAAV,EAAa;AAClEA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQsI,QAAR,CAAiB,0BAAjB,EAA6CC,WAA7C;AACH,GAHD;AAKAvI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,yBAAxB,EAAmD,UAAUhC,CAAV,EAAa;AAC5DA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BuI,WAA9B;AACH,GAHD;AAIAvI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,wBAAxB,EAAkD,UAAUhC,CAAV,EAAa;AAC3DA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BwI,MAA9B;AACH,GAHD;AAKAxI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,0BAAzB,EAAqD,UAAUhC,CAAV,EAAa;AAC9DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIyH,KAAK,GAAGzI,CAAC,CAAC,IAAD,CAAb;AAEA,QAAI8E,IAAI,GAAG9E,CAAC,CAAC,IAAD,CAAD,CAAQ0I,eAAR,EAAX;AACA5D,IAAAA,IAAI,CAACM,MAAL,GAAc,oBAAd;AAEApF,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEA,IAHH;AAIH8C,MAAAA,UAAU,EAAE,sBAAY;AACpBa,QAAAA,KAAK,CAACzB,IAAN,CAAW,yBAAX,EAAsCN,QAAtC,CAA+C,eAA/C;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd3F,UAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BqI,IAA9B;AACA/G,UAAAA,MAAM,CAACuE,QAAP,CAAgBuC,MAAhB;AACH;AACJ,OAZE;AAaHO,MAAAA,QAAQ,EAAE,oBAAY;AAClBF,QAAAA,KAAK,CAACzB,IAAN,CAAW,yBAAX,EAAsCL,WAAtC,CAAkD,eAAlD;AACH;AAfE,KAAP;AAiBH,GAzBD;AA2BA3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,wBAAzB,EAAmD,UAAUhC,CAAV,EAAa;AAC5DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIyH,KAAK,GAAGzI,CAAC,CAAC,IAAD,CAAb;AACA,QAAI8E,IAAI,GAAG9E,CAAC,CAAC,IAAD,CAAD,CAAQ0I,eAAR,EAAX;AACA5D,IAAAA,IAAI,CAACM,MAAL,GAAc,kBAAd;AAEApF,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEA,IAHH;AAIH8C,MAAAA,UAAU,EAAE,sBAAY;AACpBa,QAAAA,KAAK,CAACzB,IAAN,CAAW,uBAAX,EAAoCN,QAApC,CAA6C,eAA7C;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACdrE,UAAAA,MAAM,CAACuE,QAAP,CAAgBuC,MAAhB;AACH;AACJ,OAXE;AAYHO,MAAAA,QAAQ,EAAE,oBAAY;AAClBF,QAAAA,KAAK,CAACzB,IAAN,CAAW,uBAAX,EAAoCL,WAApC,CAAgD,eAAhD;AACH;AAdE,KAAP;AAgBH,GAvBD;AAyBA3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,4BAAxB,EAAsD,UAAUhC,CAAV,EAAa;AAC/DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAI4H,WAAW,GAAG5I,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,wBAAhB,EAA0CD,IAA1C,CAA+C,kBAA/C,CAAlB;AACA,QAAI+B,IAAI,GAAG;AACPC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,IADJ;AAEL;AACAC,QAAAA,QAAQ,EAAE;AAHL;AADF,KAAX;AAOA/I,IAAAA,EAAE,CAACgJ,MAAH,CAAUC,UAAV,CAAqB,kBAAkBN,WAAvC,EAAoDC,IAApD;AACH,GAZD;AAcA7I,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,yBAAxB,EAAmD,UAAUhC,CAAV,EAAa;AAC5DA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,uBAAhB,EAAyCyB,MAAzC;AACAxI,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,wBAAhB,EAA0CC,IAA1C,CAA+C,gCAA/C,EAAiFwB,MAAjF;AACA,QAAII,WAAW,GAAG5I,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,wBAAhB,EAA0CD,IAA1C,CAA+C,kBAA/C,CAAlB;AACA7G,IAAAA,EAAE,CAACgJ,MAAH,CAAUE,MAAV,CAAiB,kBAAkBP,WAAnC;AACH,GAND;AAQA5I,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,2BAAxB,EAAqD,UAAUhC,CAAV,EAAa;AAC9DA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,wBAAhB,EAA0CC,IAA1C,CAA+C,uBAA/C,EAAwEwB,MAAxE;AACAxI,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,gCAAhB,EAAkDyB,MAAlD;AACH,GAJD;AAMA;AACJ;AACA;;AAEI,MAAIY,uBAAuB,GAAGpJ,CAAC,CAAC,yBAAD,CAA/B;AACA,MAAIqJ,gBAAgB,GAAG,IAAvB;;AACA,MAAID,uBAAuB,CAACrI,MAA5B,EAAoC;AAChCsI,IAAAA,gBAAgB,GAAG5F,IAAI,CAACC,KAAL,CAAW0F,uBAAuB,CAACtC,IAAxB,CAA6B,uBAA7B,CAAX,CAAnB;AACA,QAAIwC,YAAY,GAAG7F,IAAI,CAACC,KAAL,CAAW0F,uBAAuB,CAACtC,IAAxB,CAA6B,mBAA7B,CAAX,CAAnB;;AAEA,QAAIwC,YAAY,CAACC,UAAb,CAAwBC,kBAAxB,GAA6C,CAAjD,EAAoD;AAChD;AACA,UAAIC,aAAa,GAAG,IAAIC,IAAJ,CAASL,gBAAgB,CAACM,kBAA1B,EAA8CC,OAA9C,KAA2DN,YAAY,CAACC,UAAb,CAAwBC,kBAAxB,GAA6C,IAA5H;AACA,UAAIK,QAAQ,GAAG,IAAIH,IAAJ,CAASJ,YAAY,CAACQ,aAAtB,EAAqCF,OAArC,EAAf;AAEA,UAAIG,mBAAmB,GAAGC,WAAW,CAAC,YAAY;AAC9C,YAAIC,QAAQ,GAAGR,aAAa,GAAGI,QAA/B;AAEA,YAAIK,IAAI,GAAG5F,IAAI,CAAC6F,KAAL,CAAWF,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAnB,CAAX;AACA,YAAIG,KAAK,GAAG9F,IAAI,CAAC6F,KAAL,CAAYF,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAT,IAAsC,OAAO,EAAP,GAAY,EAAlD,CAAX,CAAZ;AACA,YAAII,OAAO,GAAG/F,IAAI,CAAC6F,KAAL,CAAYF,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAT,IAAiC,OAAO,EAAxC,CAAX,CAAd;AACA,YAAIK,OAAO,GAAGhG,IAAI,CAAC6F,KAAL,CAAYF,QAAQ,IAAI,OAAO,EAAX,CAAT,GAA2B,IAAtC,CAAd;AAEA,YAAIM,eAAe,GAAG,EAAtB;;AAEA,YAAIL,IAAJ,EAAU;AACNK,UAAAA,eAAe,IAAIL,IAAI,GAAG,IAA1B;AACH;;AACD,YAAIE,KAAJ,EAAW;AACPG,UAAAA,eAAe,IAAIH,KAAK,GAAG,IAA3B;AACH;;AACD,YAAIC,OAAJ,EAAa;AACTE,UAAAA,eAAe,IAAIF,OAAO,GAAG,IAA7B;AACH;;AACD,YAAIC,OAAJ,EAAa;AACTC,UAAAA,eAAe,IAAID,OAAO,GAAG,IAA7B;AACH;;AAED,YAAIL,QAAQ,GAAG,CAAf,EAAkB;AACdO,UAAAA,aAAa,CAACT,mBAAD,CAAb;AACAQ,UAAAA,eAAe,GAAG,SAAlB,CAFc,CAGd;;AACA,cAAInH,YAAY,CAACqH,YAAb,CAA0BC,sBAA1B,KAAqD,YAAzD,EAAuE;AACnE;AACxB;AACA;AACwB1K,YAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+B2K,MAA/B;AAEH,WAND,MAMO,IAAIvH,YAAY,CAACqH,YAAb,CAA0BC,sBAA1B,KAAqD,aAAzD,EAAwE;AAE3E;AACxB;AACA;AACA;AACA;AACA;AAEwB,gBAAIE,OAAO,GAAG5K,CAAC,CAAC,gBAAD,CAAD,CAAoBwD,GAApB,EAAd;AACA,gBAAIqH,8BAA8B,GAAG7K,CAAC,CAAC,iCAAD,CAAD,CAAqCwD,GAArC,EAArC;AACA,gBAAIsH,iBAAiB,GAAG;AAAEF,cAAAA,OAAO,EAAEA,OAAX;AAAoBxF,cAAAA,MAAM,EAAE;AAA5B,aAAxB;AAEA,gBAAI2F,GAAG,GAAG/K,CAAC,CAAC,iCAAD,CAAD,CAAqC8G,IAArC,CAA0C,wBAA1C,CAAV,CAb2E,CAe3E;;AACA9G,YAAAA,CAAC,CAAC,sFAAD,CAAD,CAA0FgL,IAA1F,CAA+F,UAA/F,EAA2G,IAA3G,EAhB2E,CAkB3E;;AACAhL,YAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BiL,GAA1B,CAA8B,OAA9B,EAAuC,SAAvC;AAEAjL,YAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,cAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,cAAAA,IAAI,EAAE,MAFH;AAGH7C,cAAAA,IAAI,EAAEgG,iBAHH;AAIHnF,cAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AAErB,oBAAIoG,cAAc,GAAGlL,CAAC,CAAC,iCAAD,CAAD,CAAqC8E,IAArC,CAA0C,iBAA1C,CAArB;AACA,oBAAIqG,gBAAgB,GAAGnL,CAAC,CAAC,iCAAD,CAAD,CAAqC8E,IAArC,CAA0C,mBAA1C,CAAvB;AAEA,oBAAIsG,QAAQ,GAAG,8CAAf;AACApL,gBAAAA,CAAC,CAACoL,QAAD,CAAD,CAAY1E,QAAZ,CAAqB,MAArB;;AACA,oBAAKqE,GAAG,GAAG,CAAX,EAAe;AACX/K,kBAAAA,CAAC,WAAIoL,QAAJ,YAAD,CAAuBtD,IAAvB,CACI3H,EAAE,CAAE,+FAA8FgL,gBAA9F,GAA+G,GAA/G,GAAmHD,cAArH,EAAqI,OAArI,CADN;AAGH,iBAJD,MAIO;AACHlL,kBAAAA,CAAC,CAACoL,QAAD,CAAD,CAAY1E,QAAZ,CAAqB,oBAArB;AACA1G,kBAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBqI,IAAvB;AACArI,kBAAAA,CAAC,WAAIoL,QAAJ,YAAD,CAAuBtD,IAAvB,WACO3H,EAAE,CAAE,wDAAF,EAA4D,OAA5D,CADT;AAGH;AAEJ,eAvBE;AAwBHwI,cAAAA,QAAQ,EAAE,oBAAY,CAErB;AA1BE,aAAP;AA4BH;AAEJ;;AACDkB,QAAAA,QAAQ,GAAGA,QAAQ,GAAG,IAAtB;AACAT,QAAAA,uBAAuB,CAACtB,IAAxB,CAA6ByC,eAA7B;AACH,OAvFoC,EAuFlC,IAvFkC,CAArC;AAwFH,KA7FD,MA6FO;AACHnB,MAAAA,uBAAuB,CAACrC,OAAxB,CAAgC,iBAAhC,EAAmDoC,MAAnD;AACH;AACJ;;AAED,MAAIkC,gBAAgB,GAAGrL,CAAC,CAAC,wCAAD,CAAxB;;AACA,MAAIqL,gBAAgB,CAACtK,MAArB,EAA6B;AACzB,QAAIqC,YAAY,CAACqH,YAAb,CAA0Ba,eAA1B,KAA8C,GAAlD,EAAuD;AACnDD,MAAAA,gBAAgB,CAACV,MAAjB;AACH;AACJ;AAED;AACJ;AACA;AACA;;;AACI3K,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,4BAAxB,EAAsD,UAAUhC,CAAV,EAAa;AAC/DA,IAAAA,CAAC,CAACf,cAAF;AACA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AAAA,QACIuL,UAAU,GAAGnE,KAAK,CAACN,IAAN,CAAW,iBAAX,CADjB;AAAA,QAEI0E,iBAAiB,GAAGpE,KAAK,CAACN,IAAN,CAAW,wBAAX,CAFxB;AAAA,QAGI2E,OAAO,GAAGrE,KAAK,CAACN,IAAN,CAAW,cAAX,CAHd;AAKA9G,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,KAFH;AAGH7C,MAAAA,IAAI,EAAE;AAAEM,QAAAA,MAAM,EAAE,oBAAV;AAAgCmG,QAAAA,UAAU,EAAEA,UAA5C;AAAwDC,QAAAA,iBAAiB,EAAEA,iBAA3E;AAA8FC,QAAAA,OAAO,EAAEA;AAAvG,OAHH;AAIH7D,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACJ,IAAN,CAAW,GAAX,EAAgBN,QAAhB,CAAyB,eAAzB;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrBe,QAAAA,QAAQ,CAACuC,MAAT;AACH,OATE;AAUHO,MAAAA,QAAQ,EAAE,oBAAY;AAClBvB,QAAAA,KAAK,CAACJ,IAAN,CAAW,GAAX,EAAgBL,WAAhB,CAA4B,eAA5B;AACH;AAZE,KAAP;AAcH,GArBD,EA7ZgC,CAobhC;;AACA3G,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkB+D,EAAlB,CAAqB,OAArB,EAA8B,UAAUhC,CAAV,EAAa;AACvC/B,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ0L,WAAR,CAAoB,QAApB;AACH,GAFD,EArbgC,CAybhC;;AAEA;AACJ;AACA;AACA;;AACI1L,EAAAA,CAAC,CAAC,iDAAD,CAAD,CAAqD+D,EAArD,CAAwD,OAAxD,EAAiE,UAAUhC,CAAV,EAAa;AAC1E/B,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,gCAAhB,EAAkDC,IAAlD,CAAuD,uBAAvD,EAAgFuB,WAAhF;AACAxG,IAAAA,CAAC,CAAC4J,eAAF;AACH,GAHD;AAKA3L,EAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCgH,IAAtC,CAA2C,uBAA3C,EAAoE4E,SAApE;AACA5L,EAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyB+D,EAAzB,CAA4B,OAA5B,EAAqC,YAAY;AAC7C,QAAI8H,MAAM,GAAG7L,CAAC,CAAC,IAAD,CAAD,CAAQsI,QAAR,CAAiB,uBAAjB,CAAb;AACAtI,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,qBAAhB,EAAuC2E,WAAvC,CAAmD,cAAnD;AACAG,IAAAA,MAAM,CAACtD,WAAP;AACH,GAJD;AAMAvI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,iDAAxB,EAA2E,UAAUhC,CAAV,EAAa;AACpF/B,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,gCAAhB,EAAkDC,IAAlD,CAAuD,uBAAvD,EAAgFuB,WAAhF;AACAxG,IAAAA,CAAC,CAAC4J,eAAF;AACH,GAHD;AAKA3L,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,4BAAxB,EAAsD,UAAUhC,CAAV,EAAa;AAC/DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIuH,SAAS,GAAGH,KAAK,CAACN,IAAN,CAAW,gBAAX,CAAhB;AAEA9G,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE;AAAEyC,QAAAA,SAAS,EAAEA,SAAb;AAAwB,kBAAU;AAAlC,OAHH;AAIHK,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACV,QAAN,CAAe,eAAf;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd,cAAIb,IAAI,CAACA,IAAL,CAAUgH,MAAV,KAAqB,OAAzB,EAAkC;AAC9B1E,YAAAA,KAAK,CAACV,QAAN,CAAe,iBAAf;AACH,WAFD,MAEO;AACHU,YAAAA,KAAK,CAACT,WAAN,CAAkB,iBAAlB;AACH;AACJ,SAND,MAMO;AACHrF,UAAAA,MAAM,CAACuE,QAAP,GAAkBf,IAAI,CAACA,IAAL,CAAUiH,WAA5B;AACH;AACJ,OAjBE;AAkBHpD,MAAAA,QAAQ,EAAE,oBAAY;AAClBvB,QAAAA,KAAK,CAACT,WAAN,CAAkB,eAAlB;AACH;AApBE,KAAP;AAsBH,GA5BD;AA8BA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AACI,MAAI,CAACvD,YAAY,CAAC4I,4BAAlB,EAAgD;AAE5ChM,IAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,wBAAxB,EAAkD,UAAUhC,CAAV,EAAa;AAC3DA,MAAAA,CAAC,CAACf,cAAF;AAEA,UAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,UAAIiM,SAAS,GAAG7E,KAAK,CAACN,IAAN,CAAW,gBAAX,CAAhB;AACA,UAAIoF,KAAK,GAAGlM,CAAC,CAAC,6BAAD,CAAb;AAEAA,MAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,QAAAA,IAAI,EAAE,MAFH;AAGH7C,QAAAA,IAAI,EAAE;AAAEmH,UAAAA,SAAS,EAAEA,SAAb;AAAwB,oBAAU;AAAlC,SAHH;AAIHrE,QAAAA,UAAU,EAAE,sBAAY;AACpB,cAAIuE,UAAU,GAAG/E,KAAK,CAACJ,IAAN,CAAW,eAAX,EAA4Bf,IAA5B,EAAjB;AACAjG,UAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBiG,IAAhB,CAAqBkG,UAArB;AACA7K,UAAAA,MAAM,CAAC8K,OAAP,CAAeC,SAAf,CAAyB,KAAzB,EAAgCF,UAAhC,EAA4C/E,KAAK,CAACN,IAAN,CAAW,MAAX,CAA5C;AACAoF,UAAAA,KAAK,CAACxF,QAAN,CAAe,gBAAf;AACA1G,UAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgC2G,WAAhC,CAA4C,QAA5C;AACAS,UAAAA,KAAK,CAACL,OAAN,CAAc,4BAAd,EAA4CL,QAA5C,CAAqD,QAArD;AACH,SAXE;AAYHf,QAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrBoH,UAAAA,KAAK,CAACpE,IAAN,CAAWhD,IAAI,CAACA,IAAL,CAAUgD,IAArB;AACA5E,UAAAA,WAAW,CAAC6C,IAAZ;AACA/F,UAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BiL,GAA3B,CAA+B,SAA/B,EAA0C,EAA1C;AACA3J,UAAAA,MAAM,CAACM,aAAP,CAAqB,IAAIN,MAAM,CAACgL,KAAX,CAAiB,0BAAjB,CAArB,EAJqB,CAI+C;AACvE,SAjBE;AAkBH3D,QAAAA,QAAQ,EAAE,oBAAY;AAClBuD,UAAAA,KAAK,CAACvF,WAAN,CAAkB,gBAAlB;AACH;AApBE,OAAP;AAsBH,KA7BD;AA+BA3G,IAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,wBAAxB,EAAkD,UAAUhC,CAAV,EAAa;AAC3DA,MAAAA,CAAC,CAACf,cAAF;AAEA,UAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,UAAI4K,OAAO,GAAGxD,KAAK,CAACN,IAAN,CAAW,cAAX,CAAd;AACA,UAAIqF,UAAU,GAAG/E,KAAK,CAACJ,IAAN,CAAW,eAAX,EAA4Bf,IAA5B,EAAjB;AACA,UAAIiG,KAAK,GAAGlM,CAAC,CAAC,6BAAD,CAAb;AAEAA,MAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,QAAAA,IAAI,EAAE,MAFH;AAGH7C,QAAAA,IAAI,EAAE;AAAE8F,UAAAA,OAAO,EAAEA,OAAX;AAAoB,oBAAU;AAA9B,SAHH;AAIHhD,QAAAA,UAAU,EAAE,sBAAY;AACpB5H,UAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBiG,IAAhB,CAAqBkG,UAArB;AACA7K,UAAAA,MAAM,CAAC8K,OAAP,CAAeC,SAAf,CAAyB,KAAzB,EAAgCF,UAAhC,EAA4C/E,KAAK,CAACN,IAAN,CAAW,MAAX,CAA5C;AACAoF,UAAAA,KAAK,CAACxF,QAAN,CAAe,gBAAf;AACA1G,UAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgC2G,WAAhC,CAA4C,QAA5C;AACAS,UAAAA,KAAK,CAACL,OAAN,CAAc,4BAAd,EAA4CL,QAA5C,CAAqD,QAArD;AACH,SAVE;AAWHf,QAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrBoH,UAAAA,KAAK,CAACpE,IAAN,CAAWhD,IAAI,CAACA,IAAL,CAAUgD,IAArB;AACAyE,UAAAA,iBAAiB;AACjBvM,UAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BiL,GAA3B,CAA+B,SAA/B,EAA0C,EAA1C;AACH,SAfE;AAgBHtC,QAAAA,QAAQ,EAAE,oBAAY;AAClBuD,UAAAA,KAAK,CAACvF,WAAN,CAAkB,gBAAlB;AACH;AAlBE,OAAP;AAoBH,KA5BD;AA6BH;AAED;AACJ;AACA;;;AAEI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,gCAAxB,EAA0D,UAAUhC,CAAV,EAAa;AACnEA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BwI,MAA3B;AACAxI,IAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiC0L,WAAjC,CAA6C,gBAA7C;AAEH,GALD;AAOA1L,EAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6B+D,EAA7B,CAAgC,kBAAhC,EAAoD,UAAUhC,CAAV,EAAa;AAC7DA,IAAAA,CAAC,CAACf,cAAF;AACA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIwM,WAAW,GAAGpF,KAAK,CAACN,IAAN,CAAW,MAAX,CAAlB;AACA9G,IAAAA,CAAC,CAAC,gCAAD,CAAD,CAAoCqI,IAApC;AACArI,IAAAA,CAAC,CAACwM,WAAD,CAAD,CAAeC,IAAf;AAEAzM,IAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6B2G,WAA7B,CAAyC,QAAzC;AACAS,IAAAA,KAAK,CAACV,QAAN,CAAe,QAAf;AACH,GATD;AAUA;AACJ;AACA;AACA;;AAEI,WAAS6F,iBAAT,GAA6B;AACzB,QAAI1M,MAAM,GAAG6M,QAAb,EAAuB;AACnB1M,MAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B0M,QAA9B,CAAuC;AACnCC,QAAAA,MAAM,EAAE,qBAD2B;AAEnCC,QAAAA,KAAK,EAAE,eAAU7K,CAAV,EAAaC,EAAb,EAAiB;AACpBA,UAAAA,EAAE,CAAC6K,WAAH,CAAe5B,GAAf,CAAmB,YAAnB,EAAiC,SAAjC;AACH,SAJkC;AAKnC6B,QAAAA,IAAI,EAAE,cAAU/K,CAAV,EAAaC,EAAb,EAAiB,CACnB;AACH;AAPkC,OAAvC,EAQG+K,gBARH;AAUA/M,MAAAA,CAAC,CAAC,+DAAD,CAAD,CAAmE0M,QAAnE,CAA4E;AACxEM,QAAAA,WAAW,EAAE,iCAD2D;AAExEH,QAAAA,WAAW,EAAE;AAF2D,OAA5E,EAGGE,gBAHH;AAIH;AACJ;;AACDR,EAAAA,iBAAiB;AACjB;AACJ;AACA;AACA;AACA;;AAEIvM,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,8DAAxB,EAAwF,UAAUhC,CAAV,EAAa;AACjGA,IAAAA,CAAC,CAACf,cAAF,GADiG,CAGjG;;AACA,QAAGhB,CAAC,CAAC,IAAD,CAAD,CAAQiN,QAAR,CAAiB,gCAAjB,CAAH,EAAuD;AACnDjN,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,+BAAhB,EAAiDsB,IAAjD,GAAwD6E,IAAxD,GAA+DT,IAA/D;AACA;AACH;;AAED,QAAIrF,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAImN,cAAc,GAAG/F,KAAK,CAACL,OAAN,CAAc,+BAAd,CAArB;AACA;AACR;AACA;AACA;AACA;AACA;;AAEQ,QAAIqG,SAAS,GAAGC,qBAAqB,CAACF,cAAD,CAArC;;AACA,QAAI,CAACC,SAAL,EAAgB;AACZ;AACH;;AAED,QAAIE,YAAY,GAAGC,iBAAiB,CAACJ,cAAD,CAApC;;AACA,QAAI,CAACG,YAAL,EAAmB;AACf;AACH;;AAED,QAAI1E,WAAW,GAAG1B,QAAQ,CAACE,KAAK,CAACL,OAAN,CAAc,+BAAd,EAA+CD,IAA/C,CAAoD,IAApD,EAA0D0G,KAA1D,CAAgE,KAAhE,EAAuE,CAAvE,CAAD,EAA4E,EAA5E,CAA1B;AAEA,QAAIC,gBAAgB,GAAGrG,KAAK,CAACL,OAAN,CAAc,+BAAd,EAA+CD,IAA/C,CAAoD,uBAApD,CAAvB;;AAEA,QAAI2G,gBAAJ,EAAsB;AAClB,UAAIC,aAAa,GAAG1N,CAAC,CAACyN,gBAAD,CAArB;;AACA,UAAIC,aAAa,IAAIA,aAAa,CAAC3M,MAAnC,EAA2C;AACvC;AAChB;AACA;AACA;AACA;AAEgB,YAAI4M,YAAY,GAAGR,cAAc,CAACrG,IAAf,CAAoB,yBAApB,CAAnB;;AACA,YAAG6G,YAAY,KAAK,QAApB,EAA8B;AAC1BxF,UAAAA,UAAU,CAAC,YAAI;AACXnI,YAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCqI,IAAnC;AACCqF,YAAAA,aAAa,CAACjB,IAAd;AACJ,WAHS,EAIV,GAJU,CAAV;AAKH,SAND,MAMO;AACHzM,UAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCqI,IAAnC;AACCqF,UAAAA,aAAa,CAACjB,IAAd;AACJ;AAID;AAChB;AACA;;;AAEgB,YAAIzM,CAAC,CAAC,kCAAD,CAAD,CAAsCe,MAA1C,EAAkD;AAC9Cf,UAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwC2G,WAAxC,CAAoD,QAApD;AACA3G,UAAAA,CAAC,CAAC,8CAA8CyN,gBAA9C,GAAiE,IAAlE,CAAD,CAAyE/G,QAAzE,CAAkF,QAAlF;AACH;AAEJ;AACJ;AACJ,GAlED;AAoEA1G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,uBAAzB,EAAkD,UAAUhC,CAAV,EAAa;AAC3D,QAAI6L,eAAe,GAAG5N,CAAC,CAAC,+BAAD,CAAvB;AACA,QAAIoN,SAAS,GAAG,IAAhB;;AACA,QAAIQ,eAAe,CAAC7M,MAApB,EAA4B;AACxB6M,MAAAA,eAAe,CAACC,IAAhB,CAAqB,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AAC5C;AACA;AACAX,QAAAA,SAAS,GAAGC,qBAAqB,CAACrN,CAAC,CAAC+N,QAAD,CAAF,CAAjC;AACAX,QAAAA,SAAS,GAAGG,iBAAiB,CAACvN,CAAC,CAAC+N,QAAD,CAAF,CAA7B;AAEH,OAND;AAOH;;AAED,QAAI,CAACX,SAAL,EAAgB;AACZrL,MAAAA,CAAC,CAACf,cAAF;AACH;AACJ,GAhBD;AAmBAhB,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,oCAAxB,EAA8D,UAAUhC,CAAV,EAAa;AACvEA,IAAAA,CAAC,CAACf,cAAF;AACA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIgO,SAAS,GAAGhO,CAAC,CAACoH,KAAK,CAACN,IAAN,CAAW,MAAX,CAAD,CAAjB;AACA9G,IAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCqI,IAAnC;AACA2F,IAAAA,SAAS,CAACvB,IAAV,GALuE,CAOvE;;AACAzM,IAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwC2G,WAAxC,CAAoD,QAApD;AACAS,IAAAA,KAAK,CAACV,QAAN,CAAe,QAAf;AACH,GAVD;AAYA;AACJ;AACA;;AACI1G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,wEAAxB,EAAkG,UAAUhC,CAAV,EAAa;AAC3G,QAAIqF,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIiH,KAAK,GAAGG,KAAK,CAAC5D,GAAN,EAAZ;AACA,QAAIyK,KAAK,GAAG7G,KAAK,CAAC6F,QAAN,CAAe,4BAAf,IAA+C7J,YAAY,CAACqH,YAAb,CAA0ByD,6BAAzE,GAAyG9K,YAAY,CAACqH,YAAb,CAA0B0D,kCAA/I;AACA,QAAIC,SAAS,GAAGH,KAAK,GAAGhH,KAAK,CAAClG,MAA9B;;AAEA,QAAIqN,SAAS,GAAG,CAAhB,EAAmB;AACfhH,MAAAA,KAAK,CAAC5D,GAAN,CAAUyD,KAAK,CAACoH,MAAN,CAAa,CAAb,EAAgBJ,KAAhB,CAAV;AACAG,MAAAA,SAAS,GAAG,CAAZ;AACH;;AACDhH,IAAAA,KAAK,CAACL,OAAN,CAAc,0BAAd,EAA0CC,IAA1C,CAA+C,uBAA/C,EAAwEc,IAAxE,CAA6EsG,SAA7E;AACH,GAXD;AAaA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACI,MAAIE,qBAAqB,GAAGtO,CAAC,CAAC,8BAAD,CAAD,CAAkCe,MAA9D;;AACA,MAAIuN,qBAAJ,EAA2B;AACvBtO,IAAAA,CAAC,CAAC,8BAAD,CAAD,CAAkC6N,IAAlC,CAAuC,YAAY;AAC/C,UAAIzG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,UAAIuO,kBAAkB,GAAGnH,KAAK,CAACoH,MAAN,EAAzB;AAEApH,MAAAA,KAAK,CAAC6D,GAAN,CAAU;AAAE,kBAAUsD;AAAZ,OAAV;AACH,KALD;AAMH;AAGD;AACJ;AACA;AACA;AACA;;;AAEI,WAASlB,qBAAT,CAA+BF,cAA/B,EAA+C;AAC3C,QAAIC,SAAS,GAAG,IAAhB;AAEA,QAAIqB,qBAAqB,GAAGtB,cAAc,CAACnG,IAAf,CAAoB,uBAApB,CAA5B;;AAEA,QAAIyH,qBAAqB,CAAC1N,MAA1B,EAAkC;AAC9B;AACZ;AACA;AACA;AACA;AACA;AACA;AACY,UAAI2N,OAAO,GAAGD,qBAAqB,CAACzH,IAAtB,CAA2B,OAA3B,CAAd;;AACA,UAAI0H,OAAO,CAAC3N,MAAZ,EAAoB;AAChB,YAAI4N,KAAK,GAAGD,OAAO,CAAC5H,IAAR,CAAa,MAAb,CAAZ;;AACA,YAAI6H,KAAK,KAAK,OAAd,EAAuB;AACnB,cAAIF,qBAAqB,CAACzH,IAAtB,CAA2B,6BAA3B,EAA0DjG,MAA1D,IAAoE,CAAxE,EAA2E;AACvEoM,YAAAA,cAAc,CAACnG,IAAf,CAAoB,oBAApB,EAA0Cc,IAA1C,uCAA4E3H,EAAE,CAAC,mCAAD,EAAsC,OAAtC,CAA9E;AACAiN,YAAAA,SAAS,GAAG,KAAZ;AACH;AACJ,SALD,MAKO,IAAIuB,KAAK,KAAK,UAAd,EAA0B;AAC7B,cAAIF,qBAAqB,CAACzH,IAAtB,CAA2B,gCAA3B,EAA6DjG,MAA7D,IAAuE,CAA3E,EAA8E;AAC1EoM,YAAAA,cAAc,CAACnG,IAAf,CAAoB,oBAApB,EAA0Cc,IAA1C,uCAA4E3H,EAAE,CAAC,8CAAD,EAAiD,OAAjD,CAA9E;AACAiN,YAAAA,SAAS,GAAG,KAAZ;AACH;AACJ,SALM,MAKA,IAAIuB,KAAK,KAAK,MAAd,EAAsB;AACzB;AACAD,UAAAA,OAAO,CAACb,IAAR,CAAa,UAAUC,KAAV,EAAiBc,KAAjB,EAAwB;AACjC,gBAAI,CAAC5O,CAAC,CAAC4O,KAAD,CAAD,CAASpL,GAAT,GAAe8D,IAAf,GAAsBvG,MAA3B,EAAmC;AAC/BoM,cAAAA,cAAc,CAACnG,IAAf,CAAoB,oBAApB,EAA0Cc,IAA1C,uCAA4E3H,EAAE,CAAC,0CAAD,EAA6C,OAA7C,CAA9E;AACAiN,cAAAA,SAAS,GAAG,KAAZ;AACH;AACJ,WALD;AAMH;AAEJ;;AACD,UAAIqB,qBAAqB,CAACzH,IAAtB,CAA2B,UAA3B,EAAuCjG,MAA3C,EAAmD;AAC/C,YAAI0N,qBAAqB,CAACzH,IAAtB,CAA2B,UAA3B,EAAuCxD,GAAvC,GAA6C8D,IAA7C,GAAoDvG,MAApD,GAA6D,CAAjE,EAAoE;AAChEoM,UAAAA,cAAc,CAACnG,IAAf,CAAoB,oBAApB,EAA0Cc,IAA1C,uCAA4E3H,EAAE,CAAC,0CAAD,EAA6C,OAA7C,CAA9E;AACAiN,UAAAA,SAAS,GAAG,KAAZ;AACH;AACJ;AAED;AACZ;AACA;;;AACY,UAAIyB,iBAAiB,GAAGJ,qBAAqB,CAACzH,IAAtB,CAA2B,iCAA3B,CAAxB;;AACA,UAAI6H,iBAAiB,CAAC9N,MAAtB,EAA8B;AAE1B8N,QAAAA,iBAAiB,CAAChB,IAAlB,CAAuB,UAAUC,KAAV,EAAiBgB,QAAjB,EAA2B;AAC9C,cAAI,CAAC9O,CAAC,CAAC8O,QAAD,CAAD,CAAY9H,IAAZ,CAAiB,6BAAjB,EAAgDjG,MAArD,EAA6D;AACzDoM,YAAAA,cAAc,CAACnG,IAAf,CAAoB,oBAApB,EAA0Cc,IAA1C,uCAA4E3H,EAAE,CAAC,4BAAD,EAA+B,OAA/B,CAA9E;AACAiN,YAAAA,SAAS,GAAG,KAAZ;AACH;AACJ,SALD;AAMH;AACJ;;AAED,WAAOA,SAAP;AACH;;AAED,WAASG,iBAAT,CAA2BJ,cAA3B,EAA2C;AACvC,QAAI4B,MAAM,GAAG,KAAb,CADuC,CAGvC;;AACA,QAAIC,YAAY,GAAGvL,IAAI,CAACC,KAAL,CAAWuL,IAAI,CAAC3N,MAAM,CAAC4N,kBAAP,CAA0BC,KAA1B,CAAgC,EAAhC,EAAoCC,OAApC,GAA8CC,IAA9C,CAAmD,EAAnD,CAAD,CAAf,CAAnB;AACA,KAACC,KAAK,CAACC,OAAN,CAAcP,YAAd,CAAD,GAA+BA,YAAY,GAAC,EAA5C,GAAiD,CAAjD,CALuC,CAOvC;;AACA,QAAIrB,YAAY,GAAGR,cAAc,CAACrG,IAAf,CAAoB,yBAApB,CAAnB;AACA9G,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBmJ,MAAvB;AACAnJ,IAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+B2G,WAA/B,CAA2C,2BAA3C;AAEA,QAAI6I,aAAa,GAAG,IAApB;AACA,QAAId,OAAO,GAAGvB,cAAc,CAACnG,IAAf,CAAoB,OAApB,CAAd;AACA,QAAIyI,cAAc,GAAGtC,cAAc,CAACnG,IAAf,CAAoB,6DAApB,CAArB;;AAEA,QAAI2G,YAAY,KAAK,OAArB,EAA8B;AAC1B8B,MAAAA,cAAc,CAAC5B,IAAf,CAAoB,YAAY;AAC5B,YAAI6B,MAAM,GAAG1P,CAAC,CAAC,IAAD,CAAd;AAEA,YAAI2O,KAAK,GAAGe,MAAM,CAAC5I,IAAP,CAAY,MAAZ,CAAZ;;AACA,YAAI6H,KAAK,KAAK,OAAV,IAAqBA,KAAK,KAAK,UAAnC,EAA+C;AAC3C,cAAIgB,MAAM,GAAGX,YAAY,CAACY,OAAb,CAAqBF,MAAM,CAAClM,GAAP,EAArB,IAAmC,CAAC,CAAjD,CAD2C,CACS;;AACpD,cAAK,CAACmM,MAAN,EAAc;AACV,gBAAID,MAAM,CAAC1E,IAAP,CAAY,SAAZ,CAAJ,EAA4B;AACxB0E,cAAAA,MAAM,CAAC3I,OAAP,CAAe,2BAAf,EAA4CL,QAA5C,CAAqD,cAArD,EAAqEmJ,MAArE,oFAAoJ1P,EAAE,CAAC,6BAAD,EAAgC,OAAhC,CAAtJ;AACH;;AACDqP,YAAAA,aAAa,GAAG,KAAhB;AACH;AACJ;AACJ,OAbD;AAeAd,MAAAA,OAAO,CAACb,IAAR,CAAa,YAAY;AACrB,YAAI6B,MAAM,GAAG1P,CAAC,CAAC,IAAD,CAAd;AACA,YAAI2O,KAAK,GAAGe,MAAM,CAAC5I,IAAP,CAAY,MAAZ,CAAZ;;AACA,YAAI6H,KAAK,KAAK,UAAd,EAA0B;AACtB,cAAIgB,MAAM,GAAGX,YAAY,CAACY,OAAb,CAAqBF,MAAM,CAAClM,GAAP,EAArB,IAAmC,CAAC,CAAjD,CADsB,CAC8B;;AACpD,cAAIsM,OAAO,GAAGJ,MAAM,CAACK,EAAP,CAAU,UAAV,CAAd;;AAEA,cAAIJ,MAAM,IAAI,CAACG,OAAf,EAAwB;AACpB3C,YAAAA,cAAc,CAACnG,IAAf,CAAoB,oBAApB,EAA0Cc,IAA1C,uCAA4E3H,EAAE,CAAC,2CAAD,EAA8C,OAA9C,CAA9E;AACAqP,YAAAA,aAAa,GAAG,KAAhB;AACH;AACJ;AACJ,OAZD;AAcH,KA9BD,MA8BO,IAAI7B,YAAY,KAAK,QAArB,EAA+B;AAClC8B,MAAAA,cAAc,CAAC5B,IAAf,CAAoB,YAAY;AAC5B,YAAI6B,MAAM,GAAG1P,CAAC,CAAC,IAAD,CAAd;AACA,YAAI2P,MAAM,GAAGX,YAAY,CAACY,OAAb,CAAqBF,MAAM,CAAClM,GAAP,EAArB,IAAmC,CAAC,CAAjD,CAF4B,CAEwB;;AACpD,YAAI,CAACmM,MAAL,EAAa;AACTH,UAAAA,aAAa,GAAG,KAAhB;AACH;AACJ,OAND;AAQAd,MAAAA,OAAO,CAACb,IAAR,CAAa,YAAY;AACrB,YAAI6B,MAAM,GAAG1P,CAAC,CAAC,IAAD,CAAd;AAEA,YAAI2O,KAAK,GAAGe,MAAM,CAAC5I,IAAP,CAAY,MAAZ,CAAZ;;AACA,YAAI6H,KAAK,KAAK,OAAV,IAAqBA,KAAK,KAAK,UAAnC,EAA+C;AAC3C,cAAIgB,MAAM,GAAGX,YAAY,CAACY,OAAb,CAAqBF,MAAM,CAAClM,GAAP,EAArB,IAAmC,CAAC,CAAjD,CAD2C,CACS;;AACpD,cAAIsM,OAAO,GAAGJ,MAAM,CAACK,EAAP,CAAU,UAAV,CAAd;;AAEA,cAAIJ,MAAJ,EAAY;AACRD,YAAAA,MAAM,CAAC3I,OAAP,CAAe,2BAAf,EAA4CL,QAA5C,CAAqD,cAArD,EAAqEmJ,MAArE,6FAA6J1P,EAAE,CAAC,gBAAD,EAAmB,OAAnB,CAA/J;AACH,WAFD,MAEO;AACH,gBAAIuP,MAAM,CAAC1E,IAAP,CAAY,SAAZ,CAAJ,EAA4B;AACxB0E,cAAAA,MAAM,CAAC3I,OAAP,CAAe,2BAAf,EAA4CL,QAA5C,CAAqD,cAArD;AACH;AACJ;;AAED,cAAIiJ,MAAM,IAAI,CAACG,OAAf,EAAwB;AACpBN,YAAAA,aAAa,GAAG,KAAhB;AACH;AACJ;AACJ,OApBD;AAqBH;;AAED,QAAIA,aAAJ,EAAmB;AACfT,MAAAA,MAAM,GAAG,IAAT;AACH;;AAED,WAAOA,MAAP;AACH;AAGD;AACJ;AACA;AACA;AACA;;;AAEI/O,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,cAAf,EAA+B,yEAA/B,EAA0G,UAAUhC,CAAV,EAAa;AACnHA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIgP,SAAS,GAAGhQ,CAAC,CAAC,IAAD,CAAD,CAAQ8E,IAAR,CAAa,gBAAb,CAAhB;AACAkL,IAAAA,SAAS,GAAG1O,MAAM,CAACuE,QAAP,CAAgBN,MAAhB,CAAuByK,SAAvB,CAAH,GAAuChQ,CAAC,CAAC,4BAAD,CAAD,CAAgCiQ,MAAhC,CAAuC,GAAvC,CAAhD;AACH,GALD;AAOAjQ,EAAAA,CAAC,CAAC,+CAAD,CAAD,CAAmD+D,EAAnD,CAAsD,OAAtD,EAA+D,YAAY;AACvE/D,IAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCkQ,OAAhC,CAAwC,GAAxC;AACH,GAFD;AAIAlQ,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,UAAUhC,CAAV,EAAa;AACjC,QAAIA,CAAC,CAACoO,OAAF,KAAc,EAAlB,EAAsB;AAClBnQ,MAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BqI,IAA3B;AACArI,MAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCkQ,OAAhC,CAAwC,GAAxC;AACH;AACJ,GALD;AAMA;AACJ;AACA;AACA;AACA;;AACI,MAAIlQ,CAAC,CAACoQ,EAAF,CAAKC,SAAT,EAAoB;AAChB,QAAIC,kBAAkB,GAAGtQ,CAAC,CAAC,0BAAD,CAA1B;;AACA,QAAIsQ,kBAAkB,CAACvP,MAAvB,EAA+B;AAC3B,UAAIwP,YAAY,GAAG9M,IAAI,CAACC,KAAL,CAAW4M,kBAAkB,CAACxJ,IAAnB,CAAwB,0BAAxB,CAAX,CAAnB;AAEA9G,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBqQ,SAAlB,CAA4B;AACxBpI,QAAAA,KAAK,EAAEsI,YAAY,CAACtI,KADI;AAExBhC,QAAAA,IAAI,EAAEsK,YAAY,CAACtK,IAFK;AAGxBuK,QAAAA,KAAK,EAAED,YAAY,CAACC,KAHI;AAIxBC,QAAAA,YAAY,EAAE,IAJU;AAKxBC,QAAAA,KAAK,EAAE,GALiB;AAMxBlC,QAAAA,MAAM,EAAE;AANgB,OAA5B;AAQH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;AACI,MAAI3O,MAAM,CAAC8Q,UAAX,EAAuB;AACnB3Q,IAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B2Q,UAA9B,CAAyC;AAAE,oBAAc;AAAhB,KAAzC;AACH;AAGD;AACJ;AACA;AACA;AACA;;;AAEI3Q,EAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmC+D,EAAnC,CAAsC,QAAtC,EAAgD,UAAUhC,CAAV,EAAa;AACzD,QAAIqF,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACAA,IAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BqI,IAA3B;AACArI,IAAAA,CAAC,CAAC,2BAA2BoH,KAAK,CAACL,OAAN,CAAc,yBAAd,EAAyCD,IAAzC,CAA8C,sBAA9C,CAA5B,CAAD,CAAoG2F,IAApG;AACH,GAJD;AAMAzM,EAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmC6N,IAAnC,CAAwC,YAAY;AAChD,QAAIzG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;;AACA,QAAIoH,KAAK,CAAC2I,EAAN,CAAS,UAAT,CAAJ,EAA0B;AACtB/P,MAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BqI,IAA3B;AACArI,MAAAA,CAAC,CAAC,2BAA2BoH,KAAK,CAACL,OAAN,CAAc,yBAAd,EAAyCD,IAAzC,CAA8C,sBAA9C,CAA5B,CAAD,CAAoG2F,IAApG;AACH;AACJ,GAND;AAUA;AACJ;AACA;AACA;AACA;;AACIzM,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,kCAAzB,EAA6D,UAAUhC,CAAV,EAAa;AACtEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIyH,KAAK,GAAGzI,CAAC,CAAC,IAAD,CAAb;AACA,QAAI4Q,IAAI,GAAGnI,KAAK,CAACzB,IAAN,CAAW,iCAAX,CAAX;AACA,QAAIlC,IAAI,GAAG2D,KAAK,CAACC,eAAN,EAAX;AAEA1I,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEA,IAHH;AAIH8C,MAAAA,UAAU,EAAE,sBAAY;AACpBa,QAAAA,KAAK,CAACzB,IAAN,CAAW,oBAAX,EAAiCmC,MAAjC;AACAyH,QAAAA,IAAI,CAAClK,QAAL,CAAc,eAAd;AACH,OAPE;AAQHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd,cAAIkL,UAAU,GAAG,2FAA2F/L,IAAI,CAACA,IAAL,CAAUgM,GAArG,GAA2G,SAA5H;AACAF,UAAAA,IAAI,CAAC7J,OAAL,CAAa,iCAAb,EAAgD8I,MAAhD,CAAuDgB,UAAvD;;AACA,cAAIpI,KAAK,CAACzB,IAAN,CAAW,oBAAX,EAAiCjG,MAArC,EAA6C;AACzC0H,YAAAA,KAAK,CAACzB,IAAN,CAAW,oBAAX,EAAiC4E,SAAjC;AACH;;AACDzD,UAAAA,UAAU,CAAC,YAAY;AACnBM,YAAAA,KAAK,CAACzB,IAAN,CAAW,oBAAX,EAAiC+J,OAAjC;AACH,WAFS,EAEP,IAFO,CAAV;AAGH;AACJ,OAnBE;AAoBHpI,MAAAA,QAAQ,EAAE,oBAAY;AAClBiI,QAAAA,IAAI,CAACjK,WAAL,CAAiB,eAAjB;AACH;AAtBE,KAAP;AAwBH,GA/BD;AAiCA;AACJ;AACA;AACA;AACA;;AAEI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,mDAAxB,EAA6E,UAAUhC,CAAV,EAAa;AACtFA,IAAAA,CAAC,CAACf,cAAF;;AAEA,QAAGhB,CAAC,CAAC,IAAD,CAAD,CAAQ8E,IAAR,CAAa,QAAb,KAAwB,KAA3B,EAAiC;AAC7BxD,MAAAA,MAAM,CAACuE,QAAP,CAAgBuC,MAAhB;AACA;AACH;;AAEDpI,IAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuCwI,MAAvC,GAAgDxB,IAAhD,CAAqD,gCAArD,EAAuFxD,GAAvF,CAA2F,EAA3F;AACAxD,IAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCqI,IAAtC,GAA6C2I,IAA7C,GAAoDvE,IAApD;AACAzM,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBiL,GAAhB,CAAoB,UAApB,EAAiCjL,CAAC,CAAC,mCAAD,CAAD,CAAuC+P,EAAvC,CAA0C,UAA1C,IAAwD,QAAxD,GAAmE,MAApG;AACH,GAXD;AAaA/P,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,8BAAzB,EAAyD,UAAUhC,CAAV,EAAa;AAClEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIyH,KAAK,GAAGzI,CAAC,CAAC,IAAD,CAAb;AACA,QAAI4Q,IAAI,GAAG5Q,CAAC,CAAC,6BAAD,CAAZ;AACA,QAAIiR,YAAY,GAAGjR,CAAC,CAAC,+BAAD,CAApB;AACA,QAAI8E,IAAI,GAAG2D,KAAK,CAACC,eAAN,EAAX;AAEA1I,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEA,IAHH;AAIH8C,MAAAA,UAAU,EAAE,sBAAY;AACpBa,QAAAA,KAAK,CAACzB,IAAN,CAAW,oBAAX,EAAiCmC,MAAjC;AACAyH,QAAAA,IAAI,CAAClK,QAAL,CAAc,eAAd;AACH,OAPE;AAQHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIoM,GAAJ;;AACA,YAAIpM,IAAI,CAACa,OAAT,EAAkB;AAEd,cAAIb,IAAI,CAACA,IAAL,CAAUqM,iBAAV,KAAgC,WAApC,EAAiD;AAC7CnR,YAAAA,CAAC,CAAC,0CAAD,CAAD,CAA8C8H,IAA9C,CAAmDhD,IAAI,CAACA,IAAL,CAAUqM,iBAA7D;AACH;;AAEDnR,UAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCyM,IAAtC,GAA6CuE,IAA7C,GAAoD3I,IAApD;AAEH,SARD,MAQO;AACH6I,UAAAA,GAAG,GAAG;AAC1B,uCAD0B,GACc5P,MAAM,CAAC8B,YAAP,CAAoBgO,SADlC,GAC4C;AACtE;AACA;AACA,uCAJ0B,GAIetM,IAAI,CAACA,IAAL,CAAUgM,GAJzB,GAI+B;AACzD;AACA,+BANoB;AAQAG,UAAAA,YAAY,CAACnJ,IAAb,CAAkBoJ,GAAlB;AACA/I,UAAAA,UAAU,CAAC,YAAY;AACnB8I,YAAAA,YAAY,CAACnJ,IAAb,CAAkB,EAAlB;AACH,WAFS,EAEP,IAFO,CAAV;AAGH;AACJ,OAhCE;AAiCHa,MAAAA,QAAQ,EAAE,oBAAY;AAClBiI,QAAAA,IAAI,CAACjK,WAAL,CAAiB,eAAjB;AACH;AAnCE,KAAP;AAqCH,GA7CD;AA+CA,MAAI0K,aAAa,GAAGrR,CAAC,CAAC,uBAAD,CAArB;AACAqR,EAAAA,aAAa,CAACxD,IAAd,CAAmB,YAAY;AAC3B,QAAIyD,KAAK,GAAGtR,CAAC,CAAC,IAAD,CAAb;AAAA,QACIoF,MAAM,GAAGpF,CAAC,CAAC,IAAD,CAAD,CAAQ8E,IAAR,CAAa,WAAb,CADb;AAEA9E,IAAAA,CAAC,CAAC,YAAYoF,MAAZ,GAAqB,IAAtB,CAAD,CAA6BrB,EAA7B,CAAgC,OAAhC,EAAyC,UAAUhC,CAAV,EAAa;AAClDuP,MAAAA,KAAK,CAACrB,MAAN;AACAlO,MAAAA,CAAC,CAACf,cAAF;AACH,KAHD;AAIH,GAPD;AAQAhB,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,mEAAxB,EAA6F,YAAY;AACrGsN,IAAAA,aAAa,CAACnB,OAAd;AACH,GAFD;AAIA;AACJ;AACA;;AACIlQ,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,qCAAxB,EAA+D,UAAUhC,CAAV,EAAa;AACxEA,IAAAA,CAAC,CAACf,cAAF;AACA,QAAIuQ,UAAU,GAAGvR,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,SAAb,CAAjB;AACA9G,IAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwCwD,GAAxC,CAA4C+N,UAA5C;AACH,GAJD;AAKAvR,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,sCAAzB,EAAiE,UAAUhC,CAAV,EAAa;AAC1EA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIuQ,UAAU,GAAGvR,CAAC,CAAC,oCAAD,CAAD,CAAwCwD,GAAxC,EAAjB;AACA,QAAIoN,IAAI,GAAG5Q,CAAC,CAAC,iCAAD,CAAZ;AACA,QAAI8E,IAAI,GAAG9E,CAAC,CAAC,IAAD,CAAD,CAAQ0I,eAAR,EAAX;AAEA1I,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEA,IAHH;AAIH8C,MAAAA,UAAU,EAAE,sBAAY;AACpBgJ,QAAAA,IAAI,CAAClK,QAAL,CAAc,eAAd;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAU6L,GAAV,EAAe;AACpB,YAAIA,GAAG,CAAC7L,OAAR,EAAiB;AACb3F,UAAAA,CAAC,CAAC,sBAAsBwR,GAAG,CAAC1M,IAAJ,CAASpC,OAA/B,GAAyC,GAAzC,GAA+C6O,UAAhD,CAAD,CAA6DpI,MAA7D;AACH;AACJ,OAXE;AAYHR,MAAAA,QAAQ,EAAE,oBAAY;AAClBiI,QAAAA,IAAI,CAACjK,WAAL,CAAiB,eAAjB;AACA3G,QAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BqI,IAA3B;AACH;AAfE,KAAP;AAiBH,GAxBD;AA0BA;AACJ;AACA;;AAEI,MAAI,CAACrI,CAAC,CAAC,yBAAD,CAAD,CAA6BwD,GAA7B,EAAL,EAAyC;AACrCxD,IAAAA,CAAC,CAAC,iCAAD,CAAD,CAAqCqI,IAArC;AACH;;AAEDrI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,iCAAxB,EAA2D,YAAY;AACnE/D,IAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCgH,IAAtC,CAA2C,KAA3C,EAAkDF,IAAlD,CAAuD,KAAvD,EAA8D1D,YAAY,CAACqO,mBAA3E;AACAzR,IAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BwD,GAA7B,CAAiC,EAAjC;AACAxD,IAAAA,CAAC,CAAC,iCAAD,CAAD,CAAqCqI,IAArC;AAEArI,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE;AAAE,kBAAU;AAAZ;AAHH,KAAP;AAMA,WAAO,KAAP;AACH,GAZD;AAcA;AACJ;AACA;AACA;AACA;;AACI9E,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,8BAAzB,EAAyD,UAAUhC,CAAV,EAAa;AAClEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI0R,SAAS,GAAGtK,KAAK,CAACsB,eAAN,EAAhB;AACAgJ,IAAAA,SAAS,CAACtM,MAAV,GAAmB,wBAAnB;AAEApF,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE4M,SAHH;AAIH9J,MAAAA,UAAU,EAAE,sBAAY;AACpB5H,QAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiC0G,QAAjC,CAA0C,eAA1C;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACdE,UAAAA,QAAQ,CAACuC,MAAT;AACH;AACJ,OAXE;AAYHO,MAAAA,QAAQ,EAAE,oBAAY;AAClB3I,QAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiC2G,WAAjC,CAA6C,eAA7C;AACH;AAdE,KAAP;AAgBH,GAvBD;AAyBA;AACJ;AACA;;AACI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,+BAAzB,EAA0D,UAAUhC,CAAV,EAAa;AACnE,QAAI4P,iBAAiB,GAAG3R,CAAC,CAAC,oCAAD,CAAD,CAAwCwD,GAAxC,EAAxB;;AACA,QAAImO,iBAAiB,CAACrK,IAAlB,GAAyBvG,MAAzB,GAAkC,CAAtC,EAAyC;AACrCf,MAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+B8H,IAA/B,CAAoC,kCAAkC3H,EAAE,CAAC,oCAAD,EAAuC,OAAvC,CAApC,GAAsF,QAA1H;AACA4B,MAAAA,CAAC,CAACf,cAAF;AACH;AACJ,GAND;AAQA;AACJ;AACA;AACA;;AAGIhB,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,mDAAxB,EAA6E,UAAUC,KAAV,EAAiB;AAC1FA,IAAAA,KAAK,CAAChD,cAAN;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI4R,KAAJ,CAJ0F,CAK1F;;AACA,QAAIA,KAAJ,EAAW;AACPA,MAAAA,KAAK,CAACC,IAAN;AACA;AACH;;AACDD,IAAAA,KAAK,GAAG3R,EAAE,CAACuE,KAAH,CAAS;AACbyD,MAAAA,KAAK,EAAE9H,EAAE,CAAE,iDAAF,EAAqD,OAArD,CADI;AAEb2R,MAAAA,MAAM,EAAE;AACJ7L,QAAAA,IAAI,EAAE9F,EAAE,CAAE,WAAF,EAAe,OAAf;AADJ,OAFK;AAKb4R,MAAAA,OAAO,EAAE;AAAEpK,QAAAA,IAAI,EAAE;AAAR,OALI;AAMbqK,MAAAA,QAAQ,EAAE,KANG,CAMI;;AANJ,KAAT,CAAR;AAQAJ,IAAAA,KAAK,CAAC7N,EAAN,CAAS,QAAT,EAAmB,YAAY;AAC3B;AACA,UAAIkO,UAAU,GAAGL,KAAK,CAACM,KAAN,GAAcC,GAAd,CAAkB,WAAlB,EAA+BC,KAA/B,GAAuCC,MAAvC,EAAjB;AACAjL,MAAAA,KAAK,CAACL,OAAN,CAAc,iCAAd,EAAiDC,IAAjD,CAAsD,qBAAtD,EAA6ElC,IAA7E,CAAkF,WAAlF,EAA+FmN,UAAU,CAACvK,GAA1G,EAA+GzB,IAA/G,CAAoHgM,UAAU,CAACK,EAA/H,EAAmIC,OAAnI,CAA2I,OAA3I,EAAoJxL,OAApJ,CAA4J,GAA5J,EAAiK0F,IAAjK;AACArF,MAAAA,KAAK,CAACL,OAAN,CAAc,iCAAd,EAAiDC,IAAjD,CAAsD,OAAtD,EAA+DxD,GAA/D,CAAmEyO,UAAU,CAACK,EAA9E;AACH,KALD;AAMAV,IAAAA,KAAK,CAACC,IAAN;AACH,GAzBD;AA4BA;AACJ;AACA;;AAEI,WAASW,2BAAT,GAAuC;AACnC,QAAI3S,MAAM,GAAG6M,QAAb,EAAuB;AACnB1M,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0M,QAAtB,CAA+B;AAC3BC,QAAAA,MAAM,EAAE,qBADmB;AAE3BC,QAAAA,KAAK,EAAE,eAAU7K,CAAV,EAAaC,EAAb,EAAiB;AACpBA,UAAAA,EAAE,CAAC6K,WAAH,CAAe5B,GAAf,CAAmB,YAAnB,EAAiC,SAAjC;AACH,SAJ0B;AAK3B6B,QAAAA,IAAI,EAAE,cAAU/K,CAAV,EAAaC,EAAb,EAAiB;AACnByQ,UAAAA,+BAA+B;AAClC;AAP0B,OAA/B;AASAzS,MAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuC0M,QAAvC,CAAgD;AAC5CM,QAAAA,WAAW,EAAE,gBAD+B;AAE5C0F,QAAAA,KAAK,EAAE,yBAFqC;AAG5C9F,QAAAA,KAAK,EAAE,eAAU7K,CAAV,EAAaC,EAAb,EAAiB;AACpBA,UAAAA,EAAE,CAAC6K,WAAH,CAAe5B,GAAf,CAAmB,YAAnB,EAAiC,SAAjC;AACH,SAL2C;AAM5C6B,QAAAA,IAAI,EAAE,cAAU/K,CAAV,EAAaC,EAAb,EAAiB;AACnByQ,UAAAA,+BAA+B;AAClC;AAR2C,OAAhD;AAUH;AACJ;;AACDD,EAAAA,2BAA2B;;AAC3B,WAASC,+BAAT,GAA2C;AACvC,QAAIE,MAAM,GAAG,EAAb;AACA3S,IAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwB6N,IAAxB,CAA6B,UAAUC,KAAV,EAAiB8E,IAAjB,EAAuB;AAChD,UAAIC,MAAM,GAAG7S,CAAC,CAAC,IAAD,CAAd;AACA,UAAI8S,SAAS,GAAG5L,QAAQ,CAAC2L,MAAM,CAAC/L,IAAP,CAAY,IAAZ,EAAkB0G,KAAlB,CAAwB,KAAxB,EAA+B,CAA/B,CAAD,EAAoC,EAApC,CAAxB;AACA,UAAIuF,OAAO,GAAG,EAAd;AAEAF,MAAAA,MAAM,CAAC7L,IAAP,CAAY,sBAAZ,EAAoC6G,IAApC,CAAyC,UAAUmF,WAAV,EAAuBC,UAAvB,EAAmC;AACxE,YAAIC,OAAO,GAAGlT,CAAC,CAAC,IAAD,CAAf;AACA,YAAIiM,SAAS,GAAG/E,QAAQ,CAACgM,OAAO,CAACpM,IAAR,CAAa,IAAb,EAAmB0G,KAAnB,CAAyB,KAAzB,EAAgC,CAAhC,CAAD,EAAqC,EAArC,CAAxB;AAEAuF,QAAAA,OAAO,CAACC,WAAD,CAAP,GAAuB/G,SAAvB;AACH,OALD;AAMA0G,MAAAA,MAAM,CAAC7E,KAAD,CAAN,GAAgB;AAAE,oBAAYgF,SAAd;AAAyB,sBAAcC;AAAvC,OAAhB;AACH,KAZD;AAaA/S,IAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCwD,GAAnC,CAAuCC,IAAI,CAAC0P,SAAL,CAAeR,MAAf,CAAvC;AACH;AAED;AACJ;AACA;;;AACI3S,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,0BAAxB,EAAoD,UAAUC,KAAV,EAAiB;AACjEA,IAAAA,KAAK,CAAChD,cAAN;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIoT,OAAJ;AACA,QAAInK,MAAM,GAAGoK,OAAO,CAAClB,GAAR,CAAY,2BAAZ,CAAb;;AACA,QAAIlJ,MAAJ,EAAY;AACRmK,MAAAA,OAAO,GAAGnK,MAAM,CAACqK,UAAP,EAAV;AACH,KAFD,MAEO;AACHF,MAAAA,OAAO,GAAGpT,CAAC,CAAC,MAAMuT,OAAP,CAAD,CAAiB/P,GAAjB,EAAV;AACH;;AAED,QAAIkO,SAAS,GAAG1R,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,MAAhB,EAAwB2B,eAAxB,EAAhB;AACAgJ,IAAAA,SAAS,CAAC8B,cAAV,GAA2BJ,OAA3B;AAEApT,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE4M,SAHH;AAIH9J,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACV,QAAN,CAAe,wBAAf;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd3F,UAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgC8H,IAAhC,CAAqChD,IAAI,CAACA,IAAL,CAAU2O,eAA/C;AACAjB,UAAAA,2BAA2B,GAFb,CAId;;AACAxS,UAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B2G,WAA9B,CAA0C,MAA1C;AAEA+M,UAAAA,WAAW,CAACvT,EAAE,CAAC,MAAD,EAAS,OAAT,CAAH,EAAsBiH,KAAK,CAACtC,IAAN,CAAW,uBAAX,CAAtB,EAA2D,SAA3D,CAAX;AACH,SARD,MASK;AACD4O,UAAAA,WAAW,CAACvT,EAAE,CAAC,QAAD,EAAW,OAAX,CAAH,EAAwBA,EAAE,CAAC,sBAAD,EAAyB,OAAzB,CAA1B,EAA6D,OAA7D,CAAX;AACH;AACJ,OApBE;AAqBHwT,MAAAA,KAAK,EAAE,iBAAW;AACdD,QAAAA,WAAW,CAACvT,EAAE,CAAC,QAAD,EAAW,OAAX,CAAH,EAAwBA,EAAE,CAAC,sBAAD,EAAyB,OAAzB,CAA1B,EAA6D,OAA7D,CAAX;AACH,OAvBE;AAwBHwI,MAAAA,QAAQ,EAAE,oBAAY;AAClBvB,QAAAA,KAAK,CAACT,WAAN,CAAkB,wBAAlB;AACH;AA1BE,KAAP;AA4BH,GA3CD;AA6CA;AACJ;AACA;;AAEI;AACJ;AACA;AACA;;AACI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,2BAAxB,EAAqD,UAAUhC,CAAV,EAAa;AAC9DA,IAAAA,CAAC,CAACf,cAAF;AACAhB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,yBAAhB,EAA2CoC,MAA3C;AACH,GAHD;AAIAnJ,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,2BAAxB,EAAqD,UAAUhC,CAAV,EAAa;AAC9DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI4R,KAAJ;;AACA,QAAIA,KAAJ,EAAW;AACPA,MAAAA,KAAK,CAACC,IAAN;AACA;AACH;;AACDD,IAAAA,KAAK,GAAG3R,EAAE,CAACuE,KAAH,CAAS;AACbyD,MAAAA,KAAK,EAAE9H,EAAE,CAAE,iDAAF,EAAqD,OAArD,CADI;AAEb2R,MAAAA,MAAM,EAAE;AACJ7L,QAAAA,IAAI,EAAE9F,EAAE,CAAE,WAAF,EAAe,OAAf;AADJ,OAFK;AAKb6R,MAAAA,QAAQ,EAAE,IALG,CAKG;;AALH,KAAT,CAAR;AAOAJ,IAAAA,KAAK,CAAC7N,EAAN,CAAS,QAAT,EAAmB,YAAY;AAC3B,UAAI6P,WAAW,GAAGhC,KAAK,CAACM,KAAN,GAAcC,GAAd,CAAkB,WAAlB,EAA+BE,MAA/B,EAAlB;;AACA,UAAIuB,WAAW,CAAC7S,MAAhB,EAAwB;AACpB,aAAK,IAAI8S,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,WAAW,CAAC7S,MAAhC,EAAwC8S,CAAC,EAAzC,EAA6C;AACzC,cAAI5B,UAAU,GAAG2B,WAAW,CAACC,CAAD,CAA5B;AAEA,cAAIC,SAAS,GAAG,6KAA6K7B,UAAU,CAACvK,GAAxL,GAA8L,IAA9L,GAAqMuK,UAAU,CAAC8B,QAAhN,GAA2N,sEAA3N,GAAoS9B,UAAU,CAACK,EAA/S,GAAoT,UAApU;AACAlL,UAAAA,KAAK,CAACL,OAAN,CAAc,mCAAd,EAAmDC,IAAnD,CAAwD,+BAAxD,EAAyF6I,MAAzF,CAAgGiE,SAAhG;AACH;AACJ;AACJ,KAVD;AAWAlC,IAAAA,KAAK,CAACC,IAAN;AACH,GA5BD;AA+BA;AACJ;AACA;AACA;;AACI7R,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAU+D,EAAV,CAAa,QAAb,EAAuB,+BAAvB,EAAwD,YAAY;AAChE/D,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQsI,QAAR,CAAiB,OAAjB,EAA0BtB,IAA1B,CAA+B,MAA/B,EAAuCc,IAAvC,CAA4C9H,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,GAAc4C,OAAd,CAAsB,WAAtB,EAAmC,EAAnC,CAA5C;AACH,GAFD;AAIA;AACJ;AACA;AACA;;AAEIpG,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,0FAAxB,EAAoH,UAAUhC,CAAV,EAAa;AAC7H,QAAIqF,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIgU,OAAO,GAAG5M,KAAK,CAACL,OAAN,CAAc,gCAAd,CAAd;AACAiN,IAAAA,OAAO,CAACtI,WAAR,CAAoB,oBAApB;AACAsI,IAAAA,OAAO,CAAChN,IAAR,CAAa,4BAAb,EAA2CuB,WAA3C;AACH,GALD;AAOAvI,EAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuC+G,OAAvC,CAA+C,4BAA/C,EAA6E0F,IAA7E;AACAzM,EAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuC+G,OAAvC,CAA+C,gCAA/C,EAAiFL,QAAjF,CAA0F,oBAA1F;AACA1G,EAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiC+G,OAAjC,CAAyC,4BAAzC,EAAuE0F,IAAvE;AAGA;AACJ;AACA;AACA;AACA;;AAGI;AACJ;AACA;AACA;;AACIzM,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,+BAAxB,EAAyD,UAAUhC,CAAV,EAAa;AAClEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIiU,QAAQ,GAAGjU,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,eAAb,CAAf;AACA,QAAIS,SAAS,GAAGvH,CAAC,CAAC,UAAD,CAAD,CAAcwD,GAAd,EAAhB;AAEAxD,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE;AAAEmP,QAAAA,QAAQ,EAAEA,QAAZ;AAAsB1M,QAAAA,SAAS,EAAEA,SAAjC;AAA4CnC,QAAAA,MAAM,EAAE;AAApD,OAHH;AAIHwC,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACV,QAAN,CAAe,wBAAf;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB9E,QAAAA,CAAC,CAAC,2CAAD,CAAD,CAA+C8H,IAA/C,CAAoDhD,IAAI,CAACA,IAAL,CAAUoP,MAA9D;AACAlU,QAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B8G,IAA9B,CAAmC,eAAnC,EAAoDmN,QAApD,EAA8DvN,QAA9D,CAAuE,MAAvE;AAEA1G,QAAAA,CAAC,CAACF,QAAD,CAAD,CAAYyS,OAAZ,CAAoB,yBAApB,EAA+C;AAAE0B,UAAAA,QAAQ,EAAEA,QAAZ;AAAsB1M,UAAAA,SAAS,EAAEA;AAAjC,SAA/C;AAEAuB,QAAAA,OAAO,CAAC/C,IAAR,CAAaoO,cAAc,CAACC,OAAf,CAAuBC,kBAApC;AACAvL,QAAAA,OAAO,CAACwL,WAAR,CAAoB,iBAApB,EAAuC,KAAvC,EAA8C,gCAA9C;AACAjB,QAAAA,OAAO,CAACiB,WAAR,CAAoB,cAApB,EAAoC,KAApC,EAA2C,gCAA3C;AACH,OAhBE;AAiBH3L,MAAAA,QAAQ,EAAE,oBAAY;AAClB4L,QAAAA,SAAS,CAAC;AAAEjC,UAAAA,EAAE,EAAE;AAAN,SAAD,CAAT;AACAlL,QAAAA,KAAK,CAACT,WAAN,CAAkB,wBAAlB;AACH;AApBE,KAAP;AAsBH,GA7BD;AA+BA3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,8BAAxB,EAAwD,UAAUhC,CAAV,EAAa;AACjEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIwU,aAAa,GAAGpN,KAAK,CAACN,IAAN,CAAW,oBAAX,CAApB;AACA,QAAImN,QAAQ,GAAG7M,KAAK,CAACN,IAAN,CAAW,eAAX,CAAf;AACA,QAAIS,SAAS,GAAGvH,CAAC,CAAC,UAAD,CAAD,CAAcwD,GAAd,EAAhB;AAEAxD,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE;AAAE0P,QAAAA,aAAa,EAAEA,aAAjB;AAAgCP,QAAAA,QAAQ,EAAEA,QAA1C;AAAoD1M,QAAAA,SAAS,EAAEA,SAA/D;AAA0EnC,QAAAA,MAAM,EAAE;AAAlF,OAHH;AAIHwC,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACV,QAAN,CAAe,wBAAf;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB9E,QAAAA,CAAC,CAAC,2CAAD,CAAD,CAA+C8H,IAA/C,CAAoDhD,IAAI,CAACA,IAAL,CAAUoP,MAA9D;AACAlU,QAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B8G,IAA9B,CAAmC;AAAE,gCAAsB0N,aAAxB;AAAuC,2BAAiBP;AAAxD,SAAnC,EAAuGvN,QAAvG,CAAgH,MAAhH;AAEA1G,QAAAA,CAAC,CAACF,QAAD,CAAD,CAAYyS,OAAZ,CAAoB,yBAApB,EAA+C;AAAEiC,UAAAA,aAAa,EAAEA,aAAjB;AAAgCP,UAAAA,QAAQ,EAAEA,QAA1C;AAAoD1M,UAAAA,SAAS,EAAEA;AAA/D,SAA/C;AAEAuB,QAAAA,OAAO,CAAC/C,IAAR,CAAaoO,cAAc,CAACC,OAAf,CAAuBC,kBAApC;AACAvL,QAAAA,OAAO,CAACwL,WAAR,CAAoB,iBAApB,EAAuC,KAAvC,EAA8C,gCAA9C;AACAjB,QAAAA,OAAO,CAACiB,WAAR,CAAoB,cAApB,EAAoC,KAApC,EAA2C,gCAA3C;AACH,OAhBE;AAiBH3L,MAAAA,QAAQ,EAAE,oBAAY;AAClB4L,QAAAA,SAAS,CAAC;AAAEjC,UAAAA,EAAE,EAAE;AAAN,SAAD,CAAT;AACAlL,QAAAA,KAAK,CAACT,WAAN,CAAkB,wBAAlB;AACH;AApBE,KAAP;AAsBH,GA9BD;AAgCA;AACJ;AACA;;AACI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,8BAAxB,EAAwD,UAAUC,KAAV,EAAiB;AACrEA,IAAAA,KAAK,CAAChD,cAAN;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAIoT,OAAJ;AACA,QAAInK,MAAM,GAAGoK,OAAO,CAAClB,GAAR,CAAY,gCAAZ,CAAb;;AACA,QAAIlJ,MAAJ,EAAY;AACRmK,MAAAA,OAAO,GAAGnK,MAAM,CAACqK,UAAP,EAAV;AACH,KAFD,MAEO;AACHF,MAAAA,OAAO,GAAGpT,CAAC,CAAC,MAAMuT,OAAP,CAAD,CAAiB/P,GAAjB,EAAV;AACH;;AAED,QAAIkO,SAAS,GAAG1R,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,MAAhB,EAAwB2B,eAAxB,EAAhB;AACAgJ,IAAAA,SAAS,CAAC+C,kBAAV,GAA+BrB,OAA/B;AAEApT,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE4M,SAHH;AAIH9J,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACV,QAAN,CAAe,wBAAf;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd3F,UAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgC8H,IAAhC,CAAqChD,IAAI,CAACA,IAAL,CAAU2O,eAA/C;AACAjB,UAAAA,2BAA2B,GAFb,CAId;;AACAxS,UAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B2G,WAA9B,CAA0C,MAA1C;AAEA+M,UAAAA,WAAW,CAACvT,EAAE,CAAC,MAAD,EAAS,OAAT,CAAH,EAAsBiH,KAAK,CAACtC,IAAN,CAAW,uBAAX,CAAtB,EAA2D,SAA3D,CAAX;AACH,SARD,MASK;AACD4O,UAAAA,WAAW,CAACvT,EAAE,CAAC,QAAD,EAAW,OAAX,CAAH,EAAwBA,EAAE,CAAC,0BAAD,EAA6B,OAA7B,CAA1B,EAAiE,OAAjE,CAAX;AACH;AACJ,OApBE;AAqBHwT,MAAAA,KAAK,EAAE,iBAAW;AACdD,QAAAA,WAAW,CAACvT,EAAE,CAAC,QAAD,EAAW,OAAX,CAAH,EAAwBA,EAAE,CAAC,0BAAD,EAA6B,OAA7B,CAA1B,EAAiE,OAAjE,CAAX;AACH,OAvBE;AAwBHwI,MAAAA,QAAQ,EAAE,oBAAY;AAClBvB,QAAAA,KAAK,CAACT,WAAN,CAAkB,wBAAlB;AACH;AA1BE,KAAP;AA4BH,GA3CD;AA6CA;AACJ;AACA;;AACI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,6BAAxB,EAAuD,UAAUC,KAAV,EAAiB;AACpEA,IAAAA,KAAK,CAAChD,cAAN;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI4R,KAAJ,CAJoE,CAKpE;;AACA,QAAIA,KAAJ,EAAW;AACPA,MAAAA,KAAK,CAACC,IAAN;AACA;AACH,KATmE,CAWpE;;;AACAD,IAAAA,KAAK,GAAG3R,EAAE,CAACuE,KAAH,CAAS;AACbyD,MAAAA,KAAK,EAAE9H,EAAE,CAAE,iDAAF,EAAqD,OAArD,CADI;AAEb2R,MAAAA,MAAM,EAAE;AACJ7L,QAAAA,IAAI,EAAE9F,EAAE,CAAE,WAAF,EAAe,OAAf;AADJ,OAFK;AAKb6R,MAAAA,QAAQ,EAAE,KALG,CAKI;;AALJ,KAAT,CAAR,CAZoE,CAoBpE;;AACAJ,IAAAA,KAAK,CAAC7N,EAAN,CAAS,QAAT,EAAmB,YAAY;AAC3B;AACA,UAAIkO,UAAU,GAAGL,KAAK,CAACM,KAAN,GAAcC,GAAd,CAAkB,WAAlB,EAA+BC,KAA/B,GAAuCC,MAAvC,EAAjB;AAEA,UAAIqC,YAAY,GAAG,mFAAmFzC,UAAU,CAAC8B,QAA9F,GAAyG,wEAAzG,GAAoL9B,UAAU,CAACK,EAA/L,GAAoM,sGAAvN;AAEAtS,MAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+B6P,MAA/B,CAAsC6E,YAAtC;AACAtN,MAAAA,KAAK,CAACL,OAAN,CAAc,iCAAd,EAAiDC,IAAjD,CAAsD,OAAtD,EAA+DxD,GAA/D,CAAmEyO,UAAU,CAACK,EAA9E;AACH,KARD,EArBoE,CA8BpE;;AACAV,IAAAA,KAAK,CAACC,IAAN;AACH,GAhCD;AAkCA7R,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,iCAAxB,EAA2D,UAAUC,KAAV,EAAiB;AACxEA,IAAAA,KAAK,CAAChD,cAAN;AACAhB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,mCAAhB,EAAqDoC,MAArD;AACH,GAHD;AAMA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AACI,MAAIwL,oBAAoB,GAAG3U,CAAC,CAAC,4BAAD,CAAD,CAAgCwD,GAAhC,EAA3B;;AACA,MAAImR,oBAAoB,KAAK,0BAA7B,EAAyD;AACrD3K,IAAAA,WAAW,CAAC4K,8BAAD,EAAiC,KAAjC,CAAX;AACH;;AAED,WAASA,8BAAT,GAA0C;AAEtC,QAAIlD,SAAS,GAAG1R,CAAC,CAAC,oCAAD,CAAD,CAAwC0I,eAAxC,EAAhB;AACAgJ,IAAAA,SAAS,CAACmD,iBAAV,GAA8B,iCAA9B;AAEA7U,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACH;AACAE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE4M,SAHH;AAIH9J,MAAAA,UAAU,EAAE,sBAAY;AACpB5H,QAAAA,CAAC,CAAC,yCAAD,CAAD,CAA6CiG,IAA7C,CAAmD9F,EAAE,CAAE,WAAF,EAAe,OAAf,CAArD;AACH,OANE;AAOHwF,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB,CAExB,CATE;AAUH6D,MAAAA,QAAQ,EAAE,oBAAY;AAClB3I,QAAAA,CAAC,CAAC,yCAAD,CAAD,CAA6CiG,IAA7C,CAAmD9F,EAAE,CAAE,MAAF,EAAU,OAAV,CAArD;AACH;AAZE,KAAP;AAcH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEIH,EAAAA,CAAC,CAAC,qCAAD,CAAD,CAAyC+D,EAAzC,CAA4C,OAA5C,EAAqD,YAAY;AAC7D,QAAI/D,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,GAAb,EAAkBiG,QAAlB,CAA2B,eAA3B,CAAJ,EAAiD;AAC7CjN,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,GAAb,EAAkBL,WAAlB,CAA8B,eAA9B,EAA+CD,QAA/C,CAAwD,iBAAxD;AACH,KAFD,MAEO;AACH1G,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,GAAb,EAAkBL,WAAlB,CAA8B,iBAA9B,EAAiDD,QAAjD,CAA0D,eAA1D;AACH;;AACD1G,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgR,IAAR,CAAa,KAAb,EAAoBzI,WAApB;AACH,GAPD;AASA;AACJ;AACA;AACA;;AACIvI,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,+BAAxB,EAAyD,UAAUhC,CAAV,EAAa;AAClEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI6H,SAAS,GAAGT,KAAK,CAACN,IAAN,CAAW,gBAAX,CAAhB;AAEA,QAAIzD,SAAS,GAAGD,YAAY,CAACC,SAA7B;AAEA,QAAIyR,SAAS,GAAG;AAAEjN,MAAAA,SAAS,EAAEA,SAAb;AAAwBzC,MAAAA,MAAM,EAAE;AAAhC,KAAhB;AACA0P,IAAAA,SAAS,CAACzR,SAAD,CAAT,GAAuBD,YAAY,CAACC,SAAD,CAAnC;AAEArD,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEgQ,SAHH;AAIHlN,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACV,QAAN,CAAe,wBAAf;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAI,OAAOA,IAAI,CAACA,IAAZ,KAAqB,WAAzB,EAAsC;AAClC9E,UAAAA,CAAC,CAAC,gDAAD,CAAD,CAAoD8H,IAApD,CAAyDhD,IAAI,CAACA,IAAL,CAAUoP,MAAnE;AACAlU,UAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmC8G,IAAnC,CAAwC,gBAAxC,EAA0De,SAA1D,EAAqEnB,QAArE,CAA8E,MAA9E;AACH;AACJ,OAZE;AAaHiC,MAAAA,QAAQ,EAAE,oBAAY;AAClBvB,QAAAA,KAAK,CAACT,WAAN,CAAkB,wBAAlB;AACH;AAfE,KAAP;AAiBH,GA5BD;AA8BA;AACJ;AACA;AACA;;AACI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,2BAAzB,EAAsD,UAAUhC,CAAV,EAAa;AAC/DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI6H,SAAS,GAAGT,KAAK,CAACL,OAAN,CAAc,gCAAd,EAAgDD,IAAhD,CAAqD,gBAArD,CAAhB;AAEA,QAAIzD,SAAS,GAAGD,YAAY,CAACC,SAA7B;AAEA,QAAIwD,MAAM,GAAGO,KAAK,CAACJ,IAAN,CAAW,sCAAX,EAAmDxD,GAAnD,EAAb;AACA,QAAI6D,MAAM,GAAGD,KAAK,CAACJ,IAAN,CAAW,yBAAX,EAAsCxD,GAAtC,EAAb;AACA6D,IAAAA,MAAM,GAAGA,MAAM,CAACC,IAAP,EAAT;AAEA,QAAIwN,SAAS,GAAG;AAAEjN,MAAAA,SAAS,EAAEA,SAAb;AAAwBhB,MAAAA,MAAM,EAAEA,MAAhC;AAAwCQ,MAAAA,MAAM,EAAEA,MAAhD;AAAwDjC,MAAAA,MAAM,EAAE;AAAhE,KAAhB;AACA0P,IAAAA,SAAS,CAACzR,SAAD,CAAT,GAAuBD,YAAY,CAACC,SAAD,CAAnC;AAEArD,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAEgQ,SAHH;AAIHlN,MAAAA,UAAU,EAAE,sBAAY;AACpBR,QAAAA,KAAK,CAACJ,IAAN,CAAW,uBAAX,EAAoCN,QAApC,CAA6C,wBAA7C;AACH,OANE;AAOHf,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd;AACA3F,UAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmC2G,WAAnC,CAA+C,MAA/C;AACAd,UAAAA,QAAQ,CAACuC,MAAT,CAAgB,IAAhB;AACH;AACJ,OAbE;AAcHO,MAAAA,QAAQ,EAAE,oBAAY;AAClBvB,QAAAA,KAAK,CAACJ,IAAN,CAAW,uBAAX,EAAoCL,WAApC,CAAgD,wBAAhD;AACH;AAhBE,KAAP;AAkBH,GAjCD;AAmCA;AACJ;AACA;AACA;;AAEI3G,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,6BAAxB,EAAuD,UAAUhC,CAAV,EAAa;AAChEA,IAAAA,CAAC,CAACf,cAAF;AAEAhB,IAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BuS,OAA/B,CAAuC,OAAvC;AACH,GAJD;AAMAvS,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,2BAAzB,EAAsD,UAAUC,KAAV,EAAiB;AACnEA,IAAAA,KAAK,CAAChD,cAAN;AAEA,QAAI+T,KAAK,GAAG,IAAZ;;AACA,QAAIA,KAAK,CAACC,KAAN,IAAeD,KAAK,CAACC,KAAN,CAAY,CAAZ,CAAnB,EAAmC;AAC/B,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAgB,UAAUpT,CAAV,EAAa;AACzB/B,QAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCgH,IAAtC,CAA2C,KAA3C,EAAkDF,IAAlD,CAAuD,KAAvD,EAA8D/E,CAAC,CAACJ,MAAF,CAASyT,MAAvE;AACH,OAFD;;AAGAH,MAAAA,MAAM,CAACI,aAAP,CAAqBN,KAAK,CAACC,KAAN,CAAY,CAAZ,CAArB;AACH;AACJ,GAXD;AAaA;AACJ;AACA;AACA;AACA;AACA;;AAEIhV,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,0BAAxB,EAAoD,UAAUhC,CAAV,EAAa;AAC7D,QAAI6O,IAAI,GAAG5Q,CAAC,CAAC,IAAD,CAAZ;AAEA,QAAIsV,SAAS,GAAGpO,QAAQ,CAAC0J,IAAI,CAAC7J,OAAL,CAAa,iBAAb,EAAgCD,IAAhC,CAAqC,gBAArC,CAAD,CAAxB;AAEA,QAAIzD,SAAS,GAAGD,YAAY,CAACC,SAA7B;AACA,QAAIyR,SAAS,GAAG;AAAEQ,MAAAA,SAAS,EAAEA,SAAb;AAAwBlQ,MAAAA,MAAM,EAAE;AAAhC,KAAhB;AACA0P,IAAAA,SAAS,CAACzR,SAAD,CAAT,GAAuBD,YAAY,CAACC,SAAD,CAAnC;AAEArD,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHE,MAAAA,IAAI,EAAE,MADH;AAEHD,MAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OAFtB;AAGH2B,MAAAA,IAAI,EAAEgQ,SAHH;AAIHlN,MAAAA,UAAU,EAAE,sBAAY;AACpB5H,QAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B8H,IAA3B,CAAgC,EAAhC;AACH,OANE;AAOHnC,MAAAA,OAAO,EAAE,iBAAUb,IAAV,EAAgB;AACrB,YAAIA,IAAI,CAACa,OAAT,EAAkB;AACd3F,UAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B8H,IAA3B,CAAgChD,IAAI,CAACA,IAAL,CAAUyQ,gBAA1C;AACAC,UAAAA,sCAAsC;AACzC;AACJ;AAZE,KAAP;AAeH,GAxBD;;AA2BA,WAASA,sCAAT,GAAkD;AAC9CxV,IAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsC6N,IAAtC,CAA2C,YAAY;AACnD,UAAIzG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,UAAIyV,GAAG,GAAGrO,KAAK,CAACJ,IAAN,CAAW,OAAX,CAAV;AACA,UAAI0O,QAAQ,GAAG,CAAf;;AAEA,UAAID,GAAG,CAAC1U,MAAJ,GAAa2U,QAAjB,EAA2B;AACvB,YAAIC,eAAe,GAAGF,GAAG,CAAC1U,MAAJ,GAAa2U,QAAnC;AACAD,QAAAA,GAAG,CAAC5H,IAAJ,CAAS,UAAU+H,OAAV,EAAmBC,MAAnB,EAA2B;AAChC,cAAIC,OAAO,GAAG9V,CAAC,CAAC,IAAD,CAAf;;AAEA,cAAI4V,OAAO,IAAIF,QAAf,EAAyB;AACrBI,YAAAA,OAAO,CAACzN,IAAR;AACH;AACJ,SAND;AAQA,YAAI0N,QAAQ,GAAG,mEAAmEJ,eAAnE,GAAqF,6BAApG;AACAvO,QAAAA,KAAK,CAACL,OAAN,CAAc,iCAAd,EAAiDC,IAAjD,CAAsD,mCAAtD,EAA2Fc,IAA3F,CAAgGiO,QAAhG;AACH;;AAED3O,MAAAA,KAAK,CAACqF,IAAN;AACH,KApBD;AAqBH;;AACD+I,EAAAA,sCAAsC;AAEtCxV,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,yBAAxB,EAAmD,UAAUhC,CAAV,EAAa;AAC5DA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAI4P,IAAI,GAAG5Q,CAAC,CAAC,IAAD,CAAZ;AACA4Q,IAAAA,IAAI,CAAC7J,OAAL,CAAa,iCAAb,EAAgDC,IAAhD,CAAqD,mCAArD,EAA0FyF,IAA1F;AACAmE,IAAAA,IAAI,CAAC7J,OAAL,CAAa,mCAAb,EAAkDe,IAAlD,CAAuD,EAAvD;AACH,GAND;AASA;AACJ;AACA;AACA;AACA;AACA;AACI;;AACA9H,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBgW,KAApB,CAA0B,YAAU;AAEhC,QAAIC,QAAQ,GAAGjW,CAAC,CAAC,IAAD,CAAD,CAAQkW,MAAR,GAAiBlP,IAAjB,CAAsB,yBAAtB,CAAf;AACAiP,IAAAA,QAAQ,CAAC1N,WAAT,CAAqB,GAArB;AACH,GAJD,EArvDgC,CA4vDhC;;AACAvI,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBgW,KAAtB,CAA4B,UAAUjU,CAAV,EAAa;AACrC,QAAI6O,IAAI,GAAG5Q,CAAC,CAAC,IAAD,CAAZ;AACA,QAAImW,IAAI,GAAG,2CAAX;AACA,QAAIC,MAAM,GAAG,wCAAb;AACA,QAAIC,KAAK,GAAGvW,QAAQ,CAACwW,aAAT,CAAuB,OAAvB,CAAZ;AAAA,QACIrQ,IAAI,GAAG3E,MAAM,CAACuE,QAAP,CAAgBC,IAD3B;AAEAhG,IAAAA,QAAQ,CAACyW,IAAT,CAAcC,WAAd,CAA0BH,KAA1B;AACAA,IAAAA,KAAK,CAACpP,KAAN,GAAchB,IAAd;AACAoQ,IAAAA,KAAK,CAACI,MAAN;AACA3W,IAAAA,QAAQ,CAACwU,WAAT,CAAqB,MAArB;AACAxU,IAAAA,QAAQ,CAACyW,IAAT,CAAcG,WAAd,CAA0BL,KAA1B;AACAzF,IAAAA,IAAI,CAAC9I,IAAL,CAAUsO,MAAV;AACAjO,IAAAA,UAAU,CAAC,YAAY;AACnByI,MAAAA,IAAI,CAAC9I,IAAL,CAAUqO,IAAV;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GAfD;AAiBAnW,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,OAAf,EAAwB,UAAUhC,CAAV,EAAa;AACjC,QAAI4U,SAAS,GAAG3W,CAAC,CAAC,iBAAD,CAAjB;AACA,QAAIiW,QAAQ,GAAGU,SAAS,CAAC3P,IAAV,CAAe,yBAAf,CAAf,CAFiC,CAGjC;;AACA,QAAI,CAAC2P,SAAS,CAAC5G,EAAV,CAAahO,CAAC,CAACJ,MAAf,CAAD,IAA2BgV,SAAS,CAACC,GAAV,CAAc7U,CAAC,CAACJ,MAAhB,EAAwBZ,MAAxB,KAAmC,CAAlE,EAAqE;AACjEkV,MAAAA,QAAQ,CAAClF,OAAT,CAAiB,GAAjB;AACH;AACJ,GAPD;AAUA;AACJ;AACA;AACA;AACA;;AACI/Q,EAAAA,CAAC,CAACF,QAAD,CAAD,CAAYiE,EAAZ,CAAe,QAAf,EAAyB,mCAAzB,EAA8D,UAAUhC,CAAV,EAAa;AACvEA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAIoG,KAAK,GAAGpH,CAAC,CAAC,IAAD,CAAb;AACA,QAAI6W,aAAa,GAAG7W,CAAC,CAAC,wBAAD,CAArB;AAEA,QAAI0R,SAAS,GAAGtK,KAAK,CAACsB,eAAN,EAAhB;AACAgJ,IAAAA,SAAS,CAACtM,MAAV,GAAmB,kBAAnB;AACApF,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEtE,YAAY,CAACD,OADf;AAEHwE,MAAAA,IAAI,EAAE,MAFH;AAGH7C,MAAAA,IAAI,EAAE4M,SAHH;AAIH/L,MAAAA,OAAO,EAAE,iBAAUD,QAAV,EAAoB;AACzB,YAAIA,QAAQ,CAACC,OAAb,EAAsB;AAClBE,UAAAA,QAAQ,CAACN,MAAT,CAAgBG,QAAQ,CAACZ,IAAT,CAAcgS,QAA9B;AACAjR,UAAAA,QAAQ,CAACuC,MAAT;AACH,SAHD,MAGO;AACH,cAAI2O,aAAa,GAAGrR,QAAQ,CAACZ,IAAT,IAAiB3E,EAAE,CAAC,+BAAD,EAAkC,OAAlC,CAAvC;;AACA,cAAI0W,aAAa,CAAC7P,IAAd,CAAmB,cAAnB,EAAmCjG,MAAvC,EAA+C;AAC3C8V,YAAAA,aAAa,CAAC7P,IAAd,CAAmB,cAAnB,EAAmCc,IAAnC,CAAwCiP,aAAxC;AACH,WAFD,MAEO;AACHF,YAAAA,aAAa,CAACG,OAAd,CAAsB,kDAAkDD,aAAlD,GAAkE,QAAxF;AACH;AACJ;AACJ;AAhBE,KAAP;AAkBH,GA1BD;AA4BA;AACJ;AACA;AACA;AACA;;AACI,MAAIE,UAAU,GAAGjX,CAAC,CAAC,uEAAD,CAAlB;;AACA,MAAGiX,UAAU,CAAClW,MAAX,IAAmB,CAAtB,EAAwB;AACpBf,IAAAA,CAAC,CAAC,wCAAD,CAAD,CAA4CyM,IAA5C;AACH,GAFD,MAGI;AACAwK,IAAAA,UAAU,CAACC,MAAX,CAAkB,YAAU;AACxB,UAAGlX,CAAC,CAAC,IAAD,CAAD,CAAQgL,IAAR,CAAa,SAAb,CAAH,EAA2B;AACvB,YAAImM,MAAM,GAAGnX,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,MAAe,MAAf,GAAwB,MAAxB,GAAiC,MAA9C;AACAxD,QAAAA,CAAC,CAAC,wCAAD,CAAD,CAA4CmX,MAA5C;AACH;AACJ,KALD,EAKG5E,OALH,CAKW,QALX;AAMH;AAED;AACJ;AACA;AACA;AACA;AACI;AACA;;;AACC,aAAUvS,CAAV,EAAa;AACVA,IAAAA,CAAC,CAACoQ,EAAF,CAAKgH,aAAL,GAAqB,YAAY;AACjC,WAEA;AAFA,OAGKrT,EAHL,CAGQ,kBAHR,EAG4B,UAH5B,EAGwC,UAAUhC,CAAV,EAAa;AACjDA,QAAAA,CAAC,CAAC4J,eAAF;AACA3L,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ2G,WAAR,CAAoB,WAApB;AACC,OANL,EAOI;AAPJ,OAQK5C,EARL,CAQQ,kBARR,EAQ4B,iBAR5B,EAQ+C,UAAUhC,CAAV,EAAa;AACxD,YAAI,CAAC/B,CAAC,CAAC,IAAD,CAAD,CAAQgL,IAAR,CAAa,UAAb,CAAL,EAA+B;AAAE;AAC7BhL,UAAAA,CAAC,CAAC,IAAD,CAAD,CACCgH,IADD,CACM,UADN,EAECN,QAFD,CAEU,WAFV;AAGH;AACA,OAdL,EAeI;AAfJ,OAgBK3C,EAhBL,CAgBQ,yBAhBR,EAgBmC,iBAhBnC,EAgBsD,UAAUhC,CAAV,EAAa;AAC/D,YAAIA,CAAC,CAAC4F,IAAF,KAAW,SAAf,EAA0B;AACtB,cAAG5F,CAAC,CAACsV,KAAF,KAAY,EAAf,EAAmB;AACnBrX,YAAAA,CAAC,CAAC,IAAD,CAAD,CACKgH,IADL,CACU,UADV,EAEKL,WAFL,CAEiB,WAFjB;AAGC;AACJ,SAND,MAMO;AACH3G,UAAAA,CAAC,CAAC,IAAD,CAAD,CACCgH,IADD,CACM,UADN,EAECL,WAFD,CAEa,WAFb;AAGH;AACA,OA5BL;AA6BA,aAAO,IAAP;AACC,KA/BD;AAgCH,GAjCA,EAiCC9G,MAjCD,CAAD,CAl1DgC,CAq3DhC;;;AACAA,EAAAA,MAAM,CAAC,uBAAD,CAAN,CAAgCuX,aAAhC;AAIA;AACJ;AACA;AACA;AACA;;AACI,MAAIE,gBAAgB,GAAGtX,CAAC,CAAC,qCAAD,CAAxB;AACA,MAAIuX,cAAc,GAAGvX,CAAC,CAAC,qCAAD,CAAtB;AACA,MAAIwX,eAAe,GAAG,EAAtB,CAj4DgC,CAm4DhC;;AACAF,EAAAA,gBAAgB,CAACvT,EAAjB,CAAoB,QAApB,EAA8B,UAAShC,CAAT,EAAY;AACtCA,IAAAA,CAAC,CAACf,cAAF;AACH,GAFD,EAGCgG,IAHD,CAGM,OAHN,EAGekQ,MAHf,CAGsB,UAASnV,CAAT,EAAW;AAE7B,QAAI0V,eAAe,GAAGnS,MAAM,CAACC,MAAP,CAAe+R,gBAAgB,CAAC5O,eAAjB,EAAf,EAAmD8O,eAAnD,CAAtB;AACAC,IAAAA,eAAe,CAACrS,MAAhB,GAAyB,0BAAzB;AAEAmS,IAAAA,cAAc,CAACzP,IAAf,CAAoB,uBAAqBxG,MAAM,CAAC8B,YAAP,CAAoBsU,gBAAzC,GAA0D,cAA9E;AACA1X,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,MAAhB,EAAwBC,IAAxB,CAA6B,yBAA7B,EAAwDyF,IAAxD;AAEAzM,IAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,MAAAA,GAAG,EAACpG,MAAM,CAAC8B,YAAP,CAAoBD,OADrB;AAEHwE,MAAAA,IAAI,EAAC,MAFF;AAGH7C,MAAAA,IAAI,EAAC2S,eAHF;AAIH9R,MAAAA,OAAO,EAAC,iBAASgS,CAAT,EAAY;AAChBJ,QAAAA,cAAc,CAACzP,IAAf,CAAoB6P,CAApB,EAAuB3Q,IAAvB,CAA4B,0BAA5B,EAAwD6G,IAAxD,CAA6D,YAAU;AACnE7N,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,WAAb,EAA0B9G,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,MAAb,CAA1B,EAAgDA,IAAhD,CAAqD,MAArD,EAA6D,GAA7D;AACH,SAFD;AAGH;AARE,KAAP;AAUH,GArBD,EAp4DgC,CA25DhC;;AACAyQ,EAAAA,cAAc,CAACxT,EAAf,CAAkB,OAAlB,EAA2B,0BAA3B,EAAuD,UAAShC,CAAT,EAAW;AAC9D,QAAI2F,GAAG,GAAG1H,CAAC,CAAC,IAAD,CAAD,CAAQ8E,IAAR,CAAa,MAAb,KAAwB9E,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,MAAb,CAAlC;;AAEA,QAAGY,GAAH,EAAO;AACHA,MAAAA,GAAG,GAAG,IAAIkQ,GAAJ,CAAQlQ,GAAR,CAAN;AACA,UAAImQ,IAAI,GAAGnQ,GAAG,CAACoQ,YAAJ,CAAiB3F,GAAjB,CAAqB,OAArB,CAAX;;AAEA,UAAG0F,IAAH,EAAQ;AACJ9V,QAAAA,CAAC,CAACf,cAAF;AACAwW,QAAAA,eAAe,CAACK,IAAhB,GAAuBA,IAAvB;AACAP,QAAAA,gBAAgB,CAACtQ,IAAjB,CAAsB,aAAtB,EAAqCuL,OAArC,CAA6C,QAA7C;AACH;AACJ;AACJ,GAbD,EA55DgC,CA26DhC;;AACAgF,EAAAA,cAAc,CAACxT,EAAf,CAAkB,QAAlB,EAA4B,oCAA5B,EAAkE,YAAW;AACzEyT,IAAAA,eAAe,CAACO,mBAAhB,GAAsC/X,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAAtC;AACA8T,IAAAA,gBAAgB,CAACtQ,IAAjB,CAAsB,aAAtB,EAAqCuL,OAArC,CAA6C,QAA7C;AACH,GAHD,EA56DgC,CAi7DhC;;AACA,MAAIyF,YAAY,GAAGhY,CAAC,CAAC,oBAAD,CAApB;;AACA,MAAGgY,YAAY,CAACjX,MAAb,GAAoB,CAAvB,EAAyB;AACrBO,IAAAA,MAAM,CAAC2W,cAAP,CAAsBC,OAAtB,CAA8B,uBAA9B,MAAyD,KAAzD,GAAiE5W,MAAM,CAACuE,QAAP,CAAgBuC,MAAhB,EAAjE,GAA4F,CAA5F;AACA9G,IAAAA,MAAM,CAAC2W,cAAP,CAAsBE,UAAtB,CAAiC,uBAAjC;AACAH,IAAAA,YAAY,CAACjU,EAAb,CAAgB,OAAhB,EAAyB,2BAAzB,EAAsD,YAAU;AAC5DzC,MAAAA,MAAM,CAAC2W,cAAP,CAAsBG,OAAtB,CAA8B,uBAA9B,EAAuD,KAAvD;AACH,KAFD;AAGH;AAED;AACJ;AACA;AACA;AACA;;;AACI,MAAIC,WAAW,GAAC,SAAZA,WAAY,CAASC,YAAT,EAAsB;AAElC,SAAKC,YAAL,GAAoBD,YAAY,CAACtR,IAAb,CAAkB,2BAAlB,CAApB;;AAGA,SAAKwR,iBAAL,GAAyB,UAASC,IAAT,EAAc;AACnC,WAAKF,YAAL,CAAkBzR,IAAlB,CAAuB,MAAvB,EAA+B2R,IAA/B;AACA,WAAKF,YAAL,CAAkBhG,OAAlB,CAA0B,OAA1B;AACH,KAHD;;AAKA,SAAKmG,cAAL,GAAsB,UAASC,IAAT,EAAc;AAChC,aAAO,IAAP;AACH,KAFD;;AAIA,SAAKC,qBAAL,GAA6B,UAASH,IAAT,EAAeE,IAAf,EAAoB;AAC7C,UAAG,CAACA,IAAD,IAAS,CAAC,KAAKD,cAAL,CAAoBC,IAApB,CAAb,EAAuC;AACnC;AACH;;AAED,UAAIE,KAAK,GAAGC,oBAAoB,CAAC,IAAD,CAAhC;AAEA,UAAIC,OAAO,GAAG,IAAd;AACAA,MAAAA,OAAO,CAACC,aAAR,CAAsBP,IAAtB,EAA4B,IAA5B,EAR6C,CAU7C;;AACA,UAAI/G,SAAS,GAAG,IAAIuH,QAAJ,EAAhB;AACAvH,MAAAA,SAAS,CAAC7B,MAAV,CAAiB,QAAjB,EAA2B,yBAA3B;AACA6B,MAAAA,SAAS,CAAC7B,MAAV,CAAiB,YAAjB,EAA+B4I,IAA/B;AACA/G,MAAAA,SAAS,CAAC7B,MAAV,CAAiB,YAAjB,EAA+B8I,IAA/B,EAAqCA,IAAI,CAACF,IAA1C;AACA/G,MAAAA,SAAS,CAAC7B,MAAV,CAAiBgJ,KAAK,CAACK,GAAvB,EAA4BL,KAAK,CAAC5R,KAAlC;AAEAjH,MAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,QAAAA,GAAG,EAACpG,MAAM,CAAC8B,YAAP,CAAoBD,OADrB;AAEH2B,QAAAA,IAAI,EAAC4M,SAFF;AAGH/J,QAAAA,IAAI,EAAC,MAHF;AAIHwR,QAAAA,WAAW,EAAE,KAJV;AAKHC,QAAAA,WAAW,EAAE,KALV;AAMHzF,QAAAA,KAAK,EAACoF,OAAO,CAACM,WANX;AAOH1Q,QAAAA,QAAQ,EAAC,oBAAU;AACfoQ,UAAAA,OAAO,CAACC,aAAR,CAAsBP,IAAtB,EAA4B,KAA5B;AACH;AATE,OAAP;AAWH,KA5BD;;AA8BA,SAAKa,mBAAL,GAAyB,UAASP,OAAT,EAAkBhX,CAAlB,EAAoB;AACzC,UAAI4W,IAAI,GAAG5W,CAAC,CAACwX,aAAF,CAAgBvE,KAAhB,CAAsB,CAAtB,KAA4B,IAAvC;AACA+D,MAAAA,OAAO,CAACS,cAAR,CAAuBzX,CAAC,CAACwX,aAAF,CAAgBd,IAAvC,EAA6CE,IAA7C;AACAI,MAAAA,OAAO,CAACH,qBAAR,CAA8B7W,CAAC,CAACwX,aAAF,CAAgBd,IAA9C,EAAoDE,IAApD;AACA3Y,MAAAA,CAAC,CAAC+B,CAAC,CAACwX,aAAH,CAAD,CAAmB/V,GAAnB,CAAuB,EAAvB;AACH,KALD;;AAOA,SAAKiW,YAAL,GAAkB,UAAShB,IAAT,EAAc;AAC5B,UAAIM,OAAO,GAAG,IAAd;AACAA,MAAAA,OAAO,CAACC,aAAR,CAAsBP,IAAtB,EAA4B,IAA5B;AAEAzY,MAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,QAAAA,GAAG,EAACpG,MAAM,CAAC8B,YAAP,CAAoBD,OADrB;AAEH2B,QAAAA,IAAI,EAAC;AAACM,UAAAA,MAAM,EAAC,yBAAR;AAAmCsU,UAAAA,UAAU,EAACjB;AAA9C,SAFF;AAGH9Q,QAAAA,IAAI,EAAC,MAHF;AAIHgM,QAAAA,KAAK,EAACoF,OAAO,CAACM,WAJX;AAKH1Q,QAAAA,QAAQ,EAAC,oBAAU;AACfoQ,UAAAA,OAAO,CAACC,aAAR,CAAsBP,IAAtB,EAA4B,KAA5B;AACH;AAPE,OAAP;AASH,KAbD;;AAeA,SAAKe,cAAL,GAAoB,UAASf,IAAT,EAAeE,IAAf,EAAoB;AACpC,UAAIgB,QAAQ,GAAGrB,YAAY,CAACtR,IAAb,CAAkByR,IAAI,IAAE,aAAN,GAAsB,mBAAtB,GAA4C,qBAA9D,CAAf;;AAEA,UAAG,CAACE,IAAJ,EAAS;AACLgB,QAAAA,QAAQ,CAAC1O,GAAT,CAAa,kBAAb,EAAiC,SAAO0O,QAAQ,CAAC7U,IAAT,CAAc,UAAd,CAAP,GAAiC,GAAlE;AACA,aAAK2U,YAAL,CAAkBhB,IAAlB;AACA;AACH;;AAED,UAAIxD,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAgB,UAASpT,CAAT,EAAY;AACxB4X,QAAAA,QAAQ,CAAC1O,GAAT,CAAa,kBAAb,EAAiC,SAAOlJ,CAAC,CAACJ,MAAF,CAASyT,MAAhB,GAAuB,GAAxD;AACH,OAFD;;AAIAH,MAAAA,MAAM,CAACI,aAAP,CAAqBsD,IAArB;AACH,KAfD;;AAiBA,SAAKiB,yBAAL,GAA+B,UAASnN,IAAT,EAAc;AACzC,UAAI0K,MAAM,GAAG1K,IAAI,KAAGoN,SAAP,GAAmB,aAAnB,GAAoCpN,IAAI,GAAG,UAAH,GAAgB,aAArE;AACA6L,MAAAA,YAAY,CAACnB,MAAD,CAAZ,CAAqB,eAArB;AACH,KAHD;;AAKA,SAAKkC,WAAL,GAAiB,YAAU;AACvB7R,MAAAA,KAAK,CAAC,uBAAD,CAAL;AACH,KAFD;;AAIA,SAAKwR,aAAL,GAAqB,UAASP,IAAT,EAAehM,IAAf,EAAoB;AACrC6L,MAAAA,YAAY,CAACtR,IAAb,CAAkB,qCAAlB,EAAyDiE,GAAzD,CAA6D,SAA7D,EAAyEwB,IAAI,GAAG,OAAH,GAAa,MAA1F;AACH,KAFD;;AAIA,SAAKvD,UAAL,GAAkB,YAAU;AACxB,UAAI6P,OAAO,GAAG,IAAd;AAEA,WAAKR,YAAL,CAAkBrB,MAAlB,CAAyB,UAASnV,CAAT,EAAW;AAACgX,QAAAA,OAAO,CAACO,mBAAR,CAA4BP,OAA5B,EAAqChX,CAArC;AAAwC,OAA7E;AAEAuW,MAAAA,YAAY,CAACtR,IAAb,CAAkB,qEAAlB,EAAyFgP,KAAzF,CAA+F,YAAU;AAAC+C,QAAAA,OAAO,CAACa,yBAAR;AAAoC,OAA9I,EALwB,CAOxB;;AACAtB,MAAAA,YAAY,CAACtR,IAAb,CAAkB,uBAAlB,EAA2CgP,KAA3C,CAAiD,YAAU;AAAC+C,QAAAA,OAAO,CAACP,iBAAR,CAA0B,aAA1B;AAAyC,OAArG;AACAF,MAAAA,YAAY,CAACtR,IAAb,CAAkB,oBAAlB,EAAwCgP,KAAxC,CAA8C,YAAU;AAAC+C,QAAAA,OAAO,CAACP,iBAAR,CAA0B,eAA1B;AAA2C,OAApG,EATwB,CAWxB;;AACAF,MAAAA,YAAY,CAACtR,IAAb,CAAkB,sBAAlB,EAA0CgP,KAA1C,CAAgD,YAAU;AAAC+C,QAAAA,OAAO,CAACS,cAAR,CAAuB,aAAvB,EAAsC,IAAtC;AAA4C,OAAvG;AACAlB,MAAAA,YAAY,CAACtR,IAAb,CAAkB,mBAAlB,EAAuCgP,KAAvC,CAA6C,YAAU;AAAC+C,QAAAA,OAAO,CAACS,cAAR,CAAuB,eAAvB,EAAwC,IAAxC;AAA8C,OAAtG;AACH,KAdD;AAeH,GA/GD;;AAiHA,MAAIlB,YAAY,GAAGtY,CAAC,CAAC,mCAAD,CAApB;AACAsY,EAAAA,YAAY,CAACvX,MAAb,GAAoB,CAApB,GAAwB,IAAIsX,WAAJ,CAAgBC,YAAhB,EAA8BpP,UAA9B,EAAxB,GAAqE,CAArE;AAGA;AACJ;AACA;AACA;AACA;AACA;AACI;;AACAlJ,EAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B6N,IAA9B,CAAmC,YAAW;AAE1C,QAAIiM,IAAI,GAAG9Z,CAAC,CAAC,IAAD,CAAZ;AACA,QAAI+Z,WAAW,GAAG,EAAlB;AACA,QAAIC,QAAJ;;AAEA,aAASC,qBAAT,CAA+BxB,IAA/B,EAAqCxR,KAArC,EAA4CiT,WAA5C,EAAyD;AAErD;AACA,UAAIC,gBAAgB,GAAGL,IAAI,CAAC9S,IAAL,CAAU,0BAAV,CAAvB;AACA,UAAIoT,UAAU,GAAGD,gBAAgB,CAACrS,IAAjB,EAAjB;AACA,UAAIuS,UAAU,GAAGP,IAAI,CAAChV,IAAL,EAAjB;AACAuV,MAAAA,UAAU,CAACC,YAAX,GAA0BJ,WAAW,IAAI,CAAzC;AAEAzB,MAAAA,IAAI,GAAGsB,WAAW,CAACtB,IAAD,CAAX,GAAoBxR,KAAvB,GAA+B8S,WAAW,GAAG,EAAjD;AACAA,MAAAA,WAAW,CAACM,UAAZ,GAAyBA,UAAzB;AACAN,MAAAA,WAAW,CAAC3U,MAAZ,GAAqB,0BAArB,CAVqD,CAYrD;;AACA+U,MAAAA,gBAAgB,CAACrS,IAAjB,CAAsB,8CAA4CxG,MAAM,CAAC8B,YAAP,CAAoBsU,gBAAhE,GAAiF,WAAvG;AAEA1X,MAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEH2B,QAAAA,IAAI,EAAEiV,WAFH;AAGHpS,QAAAA,IAAI,EAAE,MAHH;AAIHhC,QAAAA,OAAO,EAAE,iBAASgS,CAAT,EAAY;AACjBwC,UAAAA,gBAAgB,CAACrS,IAAjB,CAAsB6P,CAAtB;AACH,SANE;AAOHhE,QAAAA,KAAK,EAAE,iBAAW;AACdwG,UAAAA,gBAAgB,CAACrS,IAAjB,CAAsBsS,UAAtB;AACA1G,UAAAA,WAAW,CAAC,QAAD,EAAW,eAAX,EAA4B,OAA5B,CAAX;AACH;AAVE,OAAP;AAYH;;AAEDoG,IAAAA,IAAI,CAAC/V,EAAL,CAAQ,QAAR,EAAkB,2CAAlB,EAA+D,YAAW;AAEtE,UAAIwW,MAAM,GAAG,EAAb;AAEAva,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,yBAAhB,EAA2CC,IAA3C,CAAgD,eAAhD,EAAiE6G,IAAjE,CAAsE,YAAW;AAC7E0M,QAAAA,MAAM,CAACva,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAAD,CAAN,GAAwBxD,CAAC,CAAC,IAAD,CAAD,CAAQkW,MAAR,GAAiBjQ,IAAjB,EAAxB;AACH,OAFD,EAJsE,CAQtE;;AACA,UAAIuU,UAAU,GAAGV,IAAI,CAAC9S,IAAL,CAAU,qBAAV,EAAiCyT,KAAjC,EAAjB;AACA,UAAIC,OAAO,GAAGpV,MAAM,CAACqV,IAAP,CAAYJ,MAAZ,CAAd;AAEAG,MAAAA,OAAO,CAACE,OAAR,CAAgB,UAAS3T,KAAT,EAAgB;AAC5BuT,QAAAA,UAAU,CAAC3K,MAAX,CAAkB,WAAS0K,MAAM,CAACtT,KAAD,CAAf,GAAuB,oDAAvB,GAA4EA,KAA5E,GAAkF,kBAApG;AACH,OAFD;AAIAyT,MAAAA,OAAO,CAAC3Z,MAAR,GAAiByZ,UAAU,CAAC3K,MAAX,CAAkB,wCAAlB,CAAjB,GAA+E,CAA/E;AAEAoK,MAAAA,qBAAqB,CAACja,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,MAAb,CAAD,EAAuB4T,OAAvB,CAArB;AACH,KAnBD,EAoBC3W,EApBD,CAoBI,OApBJ,EAoBa,mCApBb,EAoBkD,YAAW;AAEzD,UAAIuO,EAAE,GAAGtS,CAAC,CAAC,IAAD,CAAD,CAAQ8E,IAAR,CAAa,QAAb,CAAT;AACA,UAAI+V,MAAM,GAAGf,IAAI,CAAC9S,IAAL,CAAU,wCAAV,CAAb;AACAsL,MAAAA,EAAE,GAAGuI,MAAM,GAAGA,MAAM,CAACpU,MAAP,CAAc,aAAW6L,EAAX,GAAc,IAA5B,CAAZ,GAAgD,CAAlD;AAEAuI,MAAAA,MAAM,CAAC7P,IAAP,CAAY,SAAZ,EAAuB,KAAvB,EAA8BuH,OAA9B,CAAsC,QAAtC;AACH,KA3BD,EA4BCxO,EA5BD,CA4BI,OA5BJ,EA4Ba,6BA5Bb,EA4B4C,YAAW;AACnD;AAEA,UAAIP,GAAG,GAAGxD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAAV;AAEAwW,MAAAA,QAAQ,GAAG1Y,MAAM,CAACwZ,YAAP,CAAoBd,QAApB,CAAH,GAAmC,CAA3C;AAEAA,MAAAA,QAAQ,GAAG1Y,MAAM,CAAC6G,UAAP,CAAkB,YAAW;AAEpC8R,QAAAA,qBAAqB,CAAC,SAAD,EAAYzW,GAAZ,CAArB;AACAwW,QAAAA,QAAQ,GAAG,IAAX;AAEH,OALU,EAKR,GALQ,CAAX;AAMH,KAzCD,EA0CCjW,EA1CD,CA0CI,OA1CJ,EA0Ca,oBA1Cb,EA0CmC,UAAShC,CAAT,EAAY;AAE3C;AACAA,MAAAA,CAAC,CAACf,cAAF;AAEAiZ,MAAAA,qBAAqB,CAAC,IAAD,EAAO,IAAP,EAAaja,CAAC,CAAC,IAAD,CAAD,CAAQ8E,IAAR,CAAc,aAAd,CAAb,CAArB;AAEH,KAjDD,EAiDGf,EAjDH,CAiDM,OAjDN,EAiDe,0BAjDf,EAiD2C,YAAW;AAElD;AACA,UAAI+V,IAAI,GAAG9Z,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,0BAAhB,CAAX;AAEA+S,MAAAA,IAAI,CAAC9S,IAAL,CAAU,wBAAV,EAAoCgE,IAApC,CAAyC,SAAzC,EAAoD,KAApD;AAEA8O,MAAAA,IAAI,CAAC9S,IAAL,CAAU,kBAAV,EAA8BxD,GAA9B,CAAkC,EAAlC;AAEAyW,MAAAA,qBAAqB;AACxB,KA3DD,EA4DClW,EA5DD,CA4DI,OA5DJ,EA4Da,4BA5Db,EA4D2C,YAAY;AACnD;AACA/D,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQkW,MAAR,GAAiBlF,IAAjB,GAAwBtK,QAAxB,CAAiC,WAAjC;AACH,KA/DD,EAgEC3C,EAhED,CAgEI,OAhEJ,EAgEa,6BAhEb,EAgE4C,YAAW;AAEnD/D,MAAAA,CAAC,CAAC,wCAAD,CAAD,CAA4CuS,OAA5C,CAAoD,QAApD,EAFmD,CAInD;;AACAvS,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ+G,OAAR,CAAgB,sBAAhB,EAAwCJ,WAAxC,CAAoD,WAApD;AAEH,KAvED,EAuEG5C,EAvEH,CAuEM,OAvEN,EAuEe,iCAvEf,EAuEkD,YAAW;AAEzD;AAEA+V,MAAAA,IAAI,CAAC9S,IAAL,CAAU,6BAAV,EAAyCxD,GAAzC,CAA6CxD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAA7C,EAA4D+O,OAA5D,CAAoE,OAApE;AAEH,KA7ED,EA6EGxO,EA7EH,CA6EM,QA7EN,EA6EgB,wCA7EhB,EA6E0D,UAAShC,CAAT,EAAY;AAElE,UAAGA,CAAC,CAAClB,aAAL,EAAoB;AAChB;AACH,OAJiE,CAMlE;;;AACA,UAAI4X,IAAI,GAAGzY,CAAC,CAAC,IAAD,CAAD,CAAQ8G,IAAR,CAAa,MAAb,CAAX;AACA,UAAItD,GAAG,GAAGxD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAAV;AACA,UAAIsM,OAAO,GAAG9P,CAAC,CAAC,IAAD,CAAD,CAAQgL,IAAR,CAAa,SAAb,CAAd;AAEA8O,MAAAA,IAAI,CAAC9S,IAAL,CAAU,oCAAkCyR,IAAlC,GAAuC,IAAjD,EAAuDhS,MAAvD,CAA8D,aAAWjD,GAAX,GAAe,IAA7E,EAAmFwH,IAAnF,CAAwF,SAAxF,EAAmG8E,OAAnG,EAA4GyC,OAA5G,CAAoH,QAApH;AAEH,KA1FD,EA0FGxO,EA1FH,CA0FM,sBA1FN,EA0F8B,2BA1F9B,EA0F2D,UAAShC,CAAT,EAAY;AAEnE,UAAIgZ,aAAa,GAAG/a,CAAC,CAACsB,MAAD,CAAD,CAAUkN,MAAV,EAApB;AACA,UAAIwM,EAAE,GAAGlB,IAAI,CAAC9S,IAAL,CAAU,0BAAV,CAAT;AACA,UAAIiU,MAAM,GAAGF,aAAa,GAACC,EAAE,CAACxM,MAAH,EAA3B;AACA,UAAI0M,IAAI,GAAG,CAAC,CAACnZ,CAAC,CAAClB,aAAF,CAAgBC,OAAhB,IAA2B,EAA5B,EAAgC,CAAhC,KAAsCiB,CAAvC,EAA0CL,OAA1C,GAAoDuZ,MAA/D;AAEAnB,MAAAA,IAAI,CAAC/V,EAAL,CAAQ,qBAAR,EAA+B,UAAShC,CAAT,EAAW;AAEtC,YAAIoZ,CAAC,GAAG,CAAC,CAACpZ,CAAC,CAAClB,aAAF,CAAgBC,OAAhB,IAA2B,EAA5B,EAAgC,CAAhC,KAAsCiB,CAAvC,EAA0CL,OAAlD;AAEA,YAAI8M,MAAM,GAAIuM,aAAa,GAACI,CAAf,GAAkBD,IAA/B;AAEC1M,QAAAA,MAAM,GAAC,GAAP,IAAcA,MAAM,IAAEuM,aAAvB,GAAwCC,EAAE,CAAC/P,GAAH,CAAO,QAAP,EAAiBuD,MAAM,GAAC,IAAxB,CAAxC,GAAwE,CAAxE;AACH,OAPD;AASH,KA1GD,EA0GGzK,EA1GH,CA0GM,kBA1GN,EA0G0B,YAAU;AAEhC+V,MAAAA,IAAI,CAACsB,GAAL,CAAS,qBAAT;AACH,KA7GD,EA8GCrX,EA9GD,CA8GI,OA9GJ,EA8Ga,0BA9Gb,EA8GyC,UAAShC,CAAT,EAAY;AACjDA,MAAAA,CAAC,CAACsZ,wBAAF;AACH,KAhHD,EAgHGtX,EAhHH,CAgHM,OAhHN,EAgHe,sBAhHf,EAgHuC,UAAShC,CAAT,EAAY;AAC/C/B,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ2G,WAAR,CAAoB,WAApB;AAAiC;AACpC,KAlHD;AAmHH,GAtJD;AAwJA;AACJ;AACA;AACA;AACA;;AACI3G,EAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiCgW,KAAjC,CAAuC,UAASjU,CAAT,EAAY;AAC/CA,IAAAA,CAAC,CAACf,cAAF;AAEA,QAAI8Q,MAAM,GAAG9R,CAAC,CAAC,IAAD,CAAd;AACA,QAAI0H,GAAG,GAAGoK,MAAM,CAAChL,IAAP,CAAY,MAAZ,CAAV;AACA,QAAIS,SAAS,GAAGuK,MAAM,CAAChN,IAAP,CAAY,WAAZ,CAAhB;AAEA,QAAIkD,KAAJ;AAEA,QAAIlD,IAAI,GAAG;AACPmD,MAAAA,KAAK,EAAE9H,EAAE,CAAC,4BAAD,EAA+B,OAA/B,CADF;AAEP+H,MAAAA,WAAW,EAAG/H,EAAE,CAAC,mEAAD,EAAsE,OAAtE,CAFT;AAGPmb,MAAAA,OAAO,EAAG;AACNC,QAAAA,KAAK,EAAE;AACHtT,UAAAA,KAAK,EAAE9H,EAAE,CAAC,YAAD,EAAe,OAAf,CADN;AAEH,mBAAO,WAFJ;AAIHqb,UAAAA,QAAQ,EAAE,oBAAW;AAEjB,gBAAI1J,MAAM,GAAG9J,KAAK,CAAChB,IAAN,CAAW,yBAAX,CAAb;AACA8K,YAAAA,MAAM,CAAC9G,IAAP,CAAY,UAAZ,EAAwB,IAAxB,EAA8B6E,MAA9B,CAAqC,wCAAuCvO,MAAM,CAAC8B,YAAP,CAAoBsU,gBAA3D,GAA6E,KAAlH;AAEA1X,YAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,cAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEHwE,cAAAA,IAAI,EAAE,MAFH;AAGH7C,cAAAA,IAAI,EAAE;AAACM,gBAAAA,MAAM,EAAE,6BAAT;AAAwCmC,gBAAAA,SAAS,EAAEA;AAAnD,eAHH;AAIH5B,cAAAA,OAAO,EAAE,iBAASD,QAAT,EAAmB;AACxB,oBAAGA,QAAQ,CAACC,OAAZ,EAAqB;AACjBrE,kBAAAA,MAAM,CAACuE,QAAP,CAAgBN,MAAhB,CAAuBG,QAAQ,CAACZ,IAAT,CAAciH,WAArC;AACH,iBAFD,MAEO;AACHvE,kBAAAA,KAAK,CAAC,CAAC9B,QAAQ,CAACZ,IAAT,IAAiB,EAAlB,EAAsB2W,OAAtB,IAAiCtb,EAAE,CAAC,sBAAD,EAAyB,OAAzB,CAApC,CAAL;AACH;AACJ,eAVE;AAWHwI,cAAAA,QAAQ,EAAE,oBAAW;AACjBmJ,gBAAAA,MAAM,CAAC9G,IAAP,CAAY,UAAZ,EAAwB,KAAxB,EAA+BhE,IAA/B,CAAoC,KAApC,EAA2CmC,MAA3C;AACH;AAbE,aAAP;AAeH;AAxBE,SADD;AA2BNuS,QAAAA,IAAI,EAAE;AACFzT,UAAAA,KAAK,EAAE9H,EAAE,CAAC,WAAD,EAAc,OAAd,CADP;AAEF,mBAAO,SAFL;AAGFqb,UAAAA,QAAQ,EAAE,oBAAW;AACjBla,YAAAA,MAAM,CAACuE,QAAP,CAAgBN,MAAhB,CAAuBmC,GAAvB;AACH;AALC;AA3BA;AAHH,KAAX;AAwCAM,IAAAA,KAAK,GAAG,IAAI1G,MAAM,CAACyG,WAAX,CAAuB/H,CAAvB,EAA0B,WAA1B,EAAuC,EAAvC,EAA2CgI,KAA3C,CAAiDlD,IAAjD,CAAR;AACH,GAlDD,EAztEgC,CA8wEhC;;AACAhF,EAAAA,QAAQ,CAACyW,IAAT,CAAcoF,gBAAd,CAA+B,OAA/B,EAAwC,UAAS3X,KAAT,EAAe;AACnD,QAAMrC,MAAM,GAAQqC,KAAK,CAACrC,MAA1B;AACA,QAAMia,SAAS,GAAKja,MAAM,CAACka,OAA3B;AACA,QAAMC,SAAS,GAAKna,MAAM,CAACoa,aAAP,CAAqBF,OAAzC;;AAEA,QAAKzS,uBAAuB,CAACrI,MAAxB,GAAiC,CAAjC,IAAsCqI,uBAAuB,CAACtB,IAAxB,MAAkC,SAA7E,EAAyF;AACrF,UAAK8T,SAAS,KAAK,GAAd,IAAqBE,SAAS,KAAK,GAAxC,EAA8C;AAC1C9X,QAAAA,KAAK,CAAChD,cAAN;AACAgD,QAAAA,KAAK,CAACqX,wBAAN;AACA,YAAIrT,KAAJ;AAEA,YAAIlD,IAAI,GAAG;AACPmD,UAAAA,KAAK,EAAE9H,EAAE,CAAE,eAAF,EAAmB,OAAnB,CADF;AAEP+H,UAAAA,WAAW,EAAG/H,EAAE,CAAE,oHAAF,EAAwH,OAAxH,CAFT;AAGPmb,UAAAA,OAAO,EAAG;AACNI,YAAAA,IAAI,EAAE;AACFzT,cAAAA,KAAK,EAAE9H,EAAE,CAAE,iBAAF,EAAqB,OAArB,CADP;AAEFmS,cAAAA,EAAE,EAAE,OAFF;AAGF,uBAAO,WAHL;AAIFkJ,cAAAA,QAAQ,EAAE,oBAAW;AAEjB,oBAAIQ,QAAQ,GAAGhc,CAAC,CAAC,2BAAD,CAAD,CAA+Bic,SAA/B,KAA2C,UAA3C,GAAsD,oBAArE;AACAjc,gBAAAA,CAAC,CAACyH,IAAF,CAAO;AACHC,kBAAAA,GAAG,EAAEpG,MAAM,CAAC8B,YAAP,CAAoBD,OADtB;AAEHwE,kBAAAA,IAAI,EAAE,MAFH;AAGH7C,kBAAAA,IAAI,EAAEkX,QAHH;AAIHpU,kBAAAA,UAAU,EAAE,sBAAW;AACpB9H,oBAAAA,QAAQ,CAACoc,aAAT,CAAuB,oBAAvB,EAA6CC,SAA7C,GAAyDhc,EAAE,CAAE,YAAF,EAAgB,OAAhB,CAA3D;AACF,mBANE;AAOHwF,kBAAAA,OAAO,EAAE,iBAASD,QAAT,EAAmB;AACxB,wBAAGA,QAAQ,CAACC,OAAZ,EAAqB;AACjB,0BAAKhE,MAAM,CAACmE,IAAP,IAAe+T,SAApB,EAAgC;AAC5BhU,wBAAAA,QAAQ,CAACC,IAAT,GAAgBnE,MAAM,CAACoa,aAAP,CAAqBjW,IAArC;AACH,uBAFD,MAEO;AACHD,wBAAAA,QAAQ,CAACC,IAAT,GAAgBnE,MAAM,CAACmE,IAAvB;AACH;AACJ,qBAND,MAMO;AACH0B,sBAAAA,KAAK,CAAErH,EAAE,CAAE,sBAAF,EAA0B,OAA1B,CAAJ,CAAL;AACH;AACJ,mBAjBE;AAkBHwT,kBAAAA,KAAK,EAAE,iBAAW;AACdnM,oBAAAA,KAAK,CAAErH,EAAE,CAAE,sBAAF,EAA0B,OAA1B,CAAJ,CAAL;AACA6H,oBAAAA,KAAK,CAACmB,MAAN;AACH;AArBE,iBAAP;AAuBH;AA9BC,aADA;AAiCNoS,YAAAA,KAAK,EAAE;AACHtT,cAAAA,KAAK,EAAE9H,EAAE,CAAC,WAAD,EAAc,OAAd,CADN;AAEHmS,cAAAA,EAAE,EAAE,OAFD;AAGH,uBAAO,SAHJ;AAIHkJ,cAAAA,QAAQ,EAAE,oBAAW;AACjBxT,gBAAAA,KAAK,CAACmB,MAAN;AACH;AANE;AAjCD;AAHH,SAAX;AA+CAnB,QAAAA,KAAK,GAAG,IAAI1G,MAAM,CAACyG,WAAX,CAAuB/H,CAAvB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkCgI,KAAlC,CAAwClD,IAAxC,CAAR;AACH;AACJ;AACJ,GA7DD;AA+DA;;AACA9E,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAU+D,EAAV,CAAa,QAAb,EAAuB,uBAAvB,EAAgD,YAAW;AACvD/D,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAa,QAAb,EAAuBgE,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC;AACH,GAFD;AAGH,CAl1ED,E","sources":["webpack://tutor/./assets/react/tutor-front.js"],"sourcesContent":["\njQuery(document).ready(function ($) {\n    'use strict';\n    /**\n     * wp.i18n translateable functions \n     * @since 1.9.0\n    */\n    const { __, _x, _n, _nx } = wp.i18n;\n    /**\n     * Initiate Select2\n     * @since v.1.3.4\n     */\n    if (jQuery().select2) {\n        $('.tutor_select2').select2({\n            escapeMarkup: function (markup) {\n                return markup;\n            }\n        });\n    }\n    //END: select2\n\n\n    /*!\n     * jQuery UI Touch Punch 0.2.3\n     *\n     * Copyright 2011–2014, Dave Furfero\n     * Dual licensed under the MIT or GPL Version 2 licenses.\n     *\n     * Depends:\n     *  jquery.ui.widget.js\n     *  jquery.ui.mouse.js\n     */\n    !function (a) { function f(a, b) { if (!(a.originalEvent.touches.length > 1)) { a.preventDefault(); var c = a.originalEvent.changedTouches[0], d = document.createEvent(\"MouseEvents\"); d.initMouseEvent(b, !0, !0, window, 1, c.screenX, c.screenY, c.clientX, c.clientY, !1, !1, !1, !1, 0, null), a.target.dispatchEvent(d) } } if (a.support.touch = \"ontouchend\" in document, a.support.touch) { var e, b = a.ui.mouse.prototype, c = b._mouseInit, d = b._mouseDestroy; b._touchStart = function (a) { var b = this; !e && b._mouseCapture(a.originalEvent.changedTouches[0]) && (e = !0, b._touchMoved = !1, f(a, \"mouseover\"), f(a, \"mousemove\"), f(a, \"mousedown\")) }, b._touchMove = function (a) { e && (this._touchMoved = !0, f(a, \"mousemove\")) }, b._touchEnd = function (a) { e && (f(a, \"mouseup\"), f(a, \"mouseout\"), this._touchMoved || f(a, \"click\"), e = !1) }, b._mouseInit = function () { var b = this; b.element.bind({ touchstart: a.proxy(b, \"_touchStart\"), touchmove: a.proxy(b, \"_touchMove\"), touchend: a.proxy(b, \"_touchEnd\") }), c.call(b) }, b._mouseDestroy = function () { var b = this; b.element.unbind({ touchstart: a.proxy(b, \"_touchStart\"), touchmove: a.proxy(b, \"_touchMove\"), touchend: a.proxy(b, \"_touchEnd\") }), d.call(b) } } }(jQuery);\n\n    /**\n     * END jQuery UI Touch Punch\n     */\n\n    const videoPlayer = {\n        ajaxurl: window._tutorobject.ajaxurl,\n        nonce_key: window._tutorobject.nonce_key,\n        video_data: function () {\n            const video_track_data = $('#tutor_video_tracking_information').val();\n            return video_track_data ? JSON.parse(video_track_data) : {};\n        },\n        track_player: function () {\n            const that = this;\n            if (typeof Plyr !== 'undefined') {\n                const player = new Plyr('#tutorPlayer');\n                const video_data = that.video_data();\n                player.on('ready', function (event) {\n                    const instance = event.detail.plyr;\n                    const { best_watch_time } = video_data;\n                    if (best_watch_time > 0 && instance.duration > Math.round(best_watch_time)) {\n                        instance.media.currentTime = best_watch_time;\n                    }\n                    that.sync_time(instance);\n                });\n\n                let tempTimeNow = 0;\n                let intervalSeconds = 30; //Send to tutor backend about video playing time in this interval\n                player.on('timeupdate', function (event) {\n                    const instance = event.detail.plyr;\n                    const tempTimeNowInSec = (tempTimeNow / 4); //timeupdate firing 250ms interval\n                    if (tempTimeNowInSec >= intervalSeconds) {\n                        that.sync_time(instance);\n                        tempTimeNow = 0;\n                    }\n                    tempTimeNow++;\n                });\n\n                player.on('ended', function (event) {\n                    const video_data = that.video_data();\n                    const instance = event.detail.plyr;\n                    const data = { is_ended: true };\n                    that.sync_time(instance, data);\n                    if (video_data.autoload_next_course_content) {\n                        that.autoload_content();\n                    }\n                });\n            }\n        },\n        sync_time: function (instance, options) {\n            const post_id = this.video_data().post_id;\n            //TUTOR is sending about video playback information to server.\n            let data = { action: 'sync_video_playback', currentTime: instance.currentTime, duration: instance.duration, post_id };\n            data[this.nonce_key] = _tutorobject[this.nonce_key];\n            let data_send = data;\n            if (options) {\n                data_send = Object.assign(data, options);\n            }\n            $.post(this.ajaxurl, data_send);\n        },\n        autoload_content: function () {\n            const post_id = this.video_data().post_id;\n            const data = { action: 'autoload_next_course_content', post_id };\n            data[this.nonce_key] = _tutorobject[this.nonce_key];\n            $.post(this.ajaxurl, data).done(function (response) {\n                if (response.success && response.data.next_url) {\n                    location.href = response.data.next_url;\n                }\n            });\n        },\n        init: function () {\n            this.track_player();\n        }\n    };\n\n    /**\n     * Fire TUTOR video\n     * @since v.1.0.0\n     */\n    if ($('#tutorPlayer').length) {\n        videoPlayer.init();\n    }\n\n    $(document).on('change keyup paste', '.tutor_user_name', function () {\n        $(this).val(tutor_slugify($(this).val()));\n    });\n\n    function tutor_slugify(text) {\n        return text.toString().toLowerCase()\n            .replace(/\\s+/g, '-')           // Replace spaces with -\n            .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n            .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\n            .replace(/^-+/, '')             // Trim - from start of text\n            .replace(/-+$/, '');            // Trim - from end of text\n    }\n\n    function toggle_star_(star){\n        star.add(star.prevAll()).filter('i').addClass('tutor-icon-star-full').removeClass('tutor-icon-star-line');\n        star.nextAll().filter('i').removeClass('tutor-icon-star-full').addClass('tutor-icon-star-line');\n    }\n\n    /**\n     * Hover tutor rating and set value\n     */\n    $(document).on('mouseover', '.tutor-star-rating-container .tutor-star-rating-group i', function () {\n        toggle_star_($(this));\n    });\n\n    $(document).on('click', '.tutor-star-rating-container .tutor-star-rating-group i', function () {\n        var rating = $(this).attr('data-rating-value');\n        $(this).closest('.tutor-star-rating-group').find('input[name=\"tutor_rating_gen_input\"]').val(rating);\n        \n        toggle_star_($(this));\n    });\n\n    $(document).on('mouseout', '.tutor-star-rating-container .tutor-star-rating-group', function(){\n        var value = $(this).find('input[name=\"tutor_rating_gen_input\"]').val();\n        var rating = parseInt(value);\n        \n        var selected = $(this).find('[data-rating-value=\"'+rating+'\"]');\n        (rating && selected && selected.length>0) ? toggle_star_(selected) : $(this).find('i').removeClass('tutor-icon-star-full').addClass('tutor-icon-star-line');\n    });\n\n    $(document).on('click', '.tutor_submit_review_btn', function (e) {\n        e.preventDefault();\n        var $that = $(this);\n        var rating = $that.closest('form').find('input[name=\"tutor_rating_gen_input\"]').val();\n        var review = $that.closest('form').find('textarea[name=\"review\"]').val();\n        review = review.trim();\n\n        var course_id = $('input[name=\"tutor_course_id\"]').val();\n        var data = { course_id: course_id, rating: rating, review: review, action: 'tutor_place_rating' };\n\n        if(!rating || rating==0 || !review) {\n            alert(__('Rating and review required', 'tutor'));\n            return;\n        }\n\n        if (review) {\n            $.ajax({\n                url: _tutorobject.ajaxurl,\n                type: 'POST',\n                data: data,\n                beforeSend: function () {\n                    $that.addClass('updating-icon');\n                },\n                success: function (data) {\n                    var review_id = data.data.review_id;\n                    var review = data.data.review;\n                    $('.tutor-review-' + review_id + ' .review-content').html(review);\n                    \n                    // Show thank you\n                    new window.tutor_popup($, 'icon-rating', 40).popup({\n                        title: __('Thank You for Rating This Course!', 'tutor'),\n                        description : __('Your rating will now be visible in the course page', 'tutor'),\n                    });\n\n                    setTimeout(function(){\n                        location.reload();\n                    }, 3000);\n                }\n            });\n        }\n    }).on('click', '.tutor_cancel_review_btn', function() {\n        // Hide the pop up review form on cancel click\n        $(this).closest('form').hide();\n    });\n\n    $(document).on('click', '.write-course-review-link-btn', function (e) {\n        e.preventDefault();\n        $(this).siblings('.tutor-write-review-form').slideToggle();\n    });\n\n    $(document).on('click', '.tutor-ask-question-btn', function (e) {\n        e.preventDefault();\n        $('.tutor-add-question-wrap').slideToggle();\n    });\n    $(document).on('click', '.tutor_question_cancel', function (e) {\n        e.preventDefault();\n        $('.tutor-add-question-wrap').toggle();\n    });\n\n    $(document).on('submit', '#tutor-ask-question-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n\n        var data = $(this).serializeObject();\n        data.action = 'tutor_ask_question';\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor_ask_question_btn').addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    $('.tutor-add-question-wrap').hide();\n                    window.location.reload();\n                }\n            },\n            complete: function () {\n                $form.find('.tutor_ask_question_btn').removeClass('updating-icon');\n            }\n        });\n    });\n\n    $(document).on('submit', '.tutor-add-answer-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n        var data = $(this).serializeObject();\n        data.action = 'tutor_add_answer';\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor_add_answer_btn').addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    window.location.reload();\n                }\n            },\n            complete: function () {\n                $form.find('.tutor_add_answer_btn').removeClass('updating-icon');\n            }\n        });\n    });\n\n    $(document).on('focus', '.tutor_add_answer_textarea', function (e) {\n        e.preventDefault();\n\n        var question_id = $(this).closest('.tutor_add_answer_wrap').attr('data-question-id');\n        var conf = {\n            tinymce: {\n                wpautop: true,\n                //plugins : 'charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview',\n                toolbar1: 'bold italic underline bullist strikethrough numlist  blockquote  alignleft aligncenter alignright undo redo link unlink spellchecker fullscreen'\n            },\n        };\n        wp.editor.initialize('tutor_answer_' + question_id, conf);\n    });\n\n    $(document).on('click', '.tutor_cancel_wp_editor', function (e) {\n        e.preventDefault();\n        $(this).closest('.tutor_wp_editor_wrap').toggle();\n        $(this).closest('.tutor_add_answer_wrap').find('.tutor_wp_editor_show_btn_wrap').toggle();\n        var question_id = $(this).closest('.tutor_add_answer_wrap').attr('data-question-id');\n        wp.editor.remove('tutor_answer_' + question_id);\n    });\n\n    $(document).on('click', '.tutor_wp_editor_show_btn', function (e) {\n        e.preventDefault();\n        $(this).closest('.tutor_add_answer_wrap').find('.tutor_wp_editor_wrap').toggle();\n        $(this).closest('.tutor_wp_editor_show_btn_wrap').toggle();\n    });\n\n    /**\n     * Quiz attempt\n     */\n\n    var $tutor_quiz_time_update = $('#tutor-quiz-time-update');\n    var attempt_settings = null;\n    if ($tutor_quiz_time_update.length) {\n        attempt_settings = JSON.parse($tutor_quiz_time_update.attr('data-attempt-settings'));\n        var attempt_meta = JSON.parse($tutor_quiz_time_update.attr('data-attempt-meta'));\n\n        if (attempt_meta.time_limit.time_limit_seconds > 0) {\n            //No time Zero limit for\n            var countDownDate = new Date(attempt_settings.attempt_started_at).getTime() + (attempt_meta.time_limit.time_limit_seconds * 1000);\n            var time_now = new Date(attempt_meta.date_time_now).getTime();\n\n            var tutor_quiz_interval = setInterval(function () {\n                var distance = countDownDate - time_now;\n\n                var days = Math.floor(distance / (1000 * 60 * 60 * 24));\n                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n                var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n                var countdown_human = '';\n\n                if (days) {\n                    countdown_human += days + \"d \";\n                }\n                if (hours) {\n                    countdown_human += hours + \"h \";\n                }\n                if (minutes) {\n                    countdown_human += minutes + \"m \";\n                }\n                if (seconds) {\n                    countdown_human += seconds + \"s \";\n                }\n\n                if (distance < 0) {\n                    clearInterval(tutor_quiz_interval);\n                    countdown_human = \"EXPIRED\";\n                    //Set the quiz attempt to timeout in ajax\n                    if (_tutorobject.quiz_options.quiz_when_time_expires === 'autosubmit') {\n                        /**\n                         * Auto Submit\n                         */\n                        $('form#tutor-answering-quiz').submit();\n\n                    } else if (_tutorobject.quiz_options.quiz_when_time_expires === 'autoabandon') {\n                       \n                        /**\n                         *\n                         * @type {jQuery}\n                         *\n                         * Current attempt will be cancel with attempt status attempt_timeout\n                         */\n\n                        var quiz_id = $('#tutor_quiz_id').val();\n                        var tutor_quiz_remaining_time_secs = $('#tutor_quiz_remaining_time_secs').val();\n                        var quiz_timeout_data = { quiz_id: quiz_id, action: 'tutor_quiz_timeout' };\n        \n                        var att = $(\"#tutor-quiz-time-expire-wrapper\").attr('data-attempt-remaining');\n\n                        //disable buttons\n                        $(\".tutor-quiz-answer-next-btn, .tutor-quiz-submit-btn, .tutor-quiz-answer-previous-btn\").prop('disabled', true);\n\n                        //add alert text\n                        $(\".time-remaining span\").css('color', '#F44337');\n                        \n                        $.ajax({\n                            url: _tutorobject.ajaxurl,\n                            type: 'POST',\n                            data: quiz_timeout_data,\n                            success: function (data) {\n\n                                var attemptAllowed = $(\"#tutor-quiz-time-expire-wrapper\").data('attempt-allowed');\n                                var attemptRemaining = $(\"#tutor-quiz-time-expire-wrapper\").data('attempt-remaining');\n\n                                var alertDiv = \"#tutor-quiz-time-expire-wrapper .tutor-alert\";\n                                $(alertDiv).addClass('show');\n                                if ( att > 0 ) {\n                                    $(`${alertDiv} .text`).html(\n                                        __( 'Your time limit for this quiz has expired, please reattempt the quiz. Attempts remaining: '+ attemptRemaining+'/'+attemptAllowed, 'tutor' )\n                                    );                            \n                                } else {\n                                    $(alertDiv).addClass('tutor-alert-danger');\n                                    $(\"#tutor-start-quiz\").hide();\n                                    $(`${alertDiv} .text`).html(\n                                        `${__( 'Unfortunately, you are out of time and quiz attempts. ', 'tutor' )}`\n                                    );\n                                }\n\n                            },\n                            complete: function () {\n\n                            }\n                        });\n                    }\n\n                }\n                time_now = time_now + 1000;\n                $tutor_quiz_time_update.html(countdown_human);\n            }, 1000);\n        } else {\n            $tutor_quiz_time_update.closest('.time-remaining').remove();\n        }\n    }\n\n    var $quiz_start_form = $('#tutor-quiz-body form#tutor-start-quiz');\n    if ($quiz_start_form.length) {\n        if (_tutorobject.quiz_options.quiz_auto_start === '1') {\n            $quiz_start_form.submit();\n        }\n    }\n\n    /**\n     * Quiz Frontend Review Action\n     * @since 1.4.0\n     */\n    $(document).on('click', '.quiz-manual-review-action', function (e) {\n        e.preventDefault();\n        var $that = $(this),\n            attempt_id = $that.attr('data-attempt-id'),\n            attempt_answer_id = $that.attr('data-attempt-answer-id'),\n            mark_as = $that.attr('data-mark-as');\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'GET',\n            data: { action: 'review_quiz_answer', attempt_id: attempt_id, attempt_answer_id: attempt_answer_id, mark_as: mark_as },\n            beforeSend: function () {\n                $that.find('i').addClass('updating-icon');\n            },\n            success: function (data) {\n                location.reload();\n            },\n            complete: function () {\n                $that.find('i').removeClass('updating-icon');\n            }\n        });\n    });\n\n    // Quiz Review : Tooltip\n    $(\".tooltip-btn\").on(\"hover\", function (e) {\n        $(this).toggleClass(\"active\");\n    });\n\n    // tutor course content accordion\n\n    /**\n\t * Toggle topic summery\n\t * @since v.1.6.9\n\t */\n    $('.tutor-course-title h4 .toggle-information-icon').on('click', function (e) {\n        $(this).closest('.tutor-topics-in-single-lesson').find('.tutor-topics-summery').slideToggle();\n        e.stopPropagation();\n    });\n\n    $('.tutor-course-topic.tutor-active').find('.tutor-course-lessons').slideDown();\n    $('.tutor-course-title').on('click', function () {\n        var lesson = $(this).siblings('.tutor-course-lessons');\n        $(this).closest('.tutor-course-topic').toggleClass('tutor-active');\n        lesson.slideToggle();\n    });\n\n    $(document).on('click', '.tutor-topics-title h3 .toggle-information-icon', function (e) {\n        $(this).closest('.tutor-topics-in-single-lesson').find('.tutor-topics-summery').slideToggle();\n        e.stopPropagation();\n    });\n\n    $(document).on('click', '.tutor-course-wishlist-btn', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var course_id = $that.attr('data-course-id');\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: { course_id: course_id, 'action': 'tutor_course_add_to_wishlist' },\n            beforeSend: function () {\n                $that.addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    if (data.data.status === 'added') {\n                        $that.addClass('has-wish-listed');\n                    } else {\n                        $that.removeClass('has-wish-listed');\n                    }\n                } else {\n                    window.location = data.data.redirect_to;\n                }\n            },\n            complete: function () {\n                $that.removeClass('updating-icon');\n            }\n        });\n    });\n\n    /**\n     * Check if lesson has classic editor support\n     * If classic editor support, stop ajax load on the lesson page.\n     *\n     * @since v.1.0.0\n     *\n     * @updated v.1.4.0\n     */\n    if (!_tutorobject.enable_lesson_classic_editor) {\n\n        $(document).on('click', '.tutor-single-lesson-a', function (e) {\n            e.preventDefault();\n\n            var $that = $(this);\n            var lesson_id = $that.attr('data-lesson-id');\n            var $wrap = $('#tutor-single-entry-content');\n\n            $.ajax({\n                url: _tutorobject.ajaxurl,\n                type: 'POST',\n                data: { lesson_id: lesson_id, 'action': 'tutor_render_lesson_content' },\n                beforeSend: function () {\n                    var page_title = $that.find('.lesson_title').text();\n                    $('head title').text(page_title);\n                    window.history.pushState('obj', page_title, $that.attr('href'));\n                    $wrap.addClass('loading-lesson');\n                    $('.tutor-single-lesson-items').removeClass('active');\n                    $that.closest('.tutor-single-lesson-items').addClass('active');\n                },\n                success: function (data) {\n                    $wrap.html(data.data.html);\n                    videoPlayer.init();\n                    $('.tutor-lesson-sidebar').css('display', '');\n                    window.dispatchEvent(new window.Event('tutor_ajax_lesson_loaded')); // Some plugins like h5p needs notification on ajax load\n                },\n                complete: function () {\n                    $wrap.removeClass('loading-lesson');\n                }\n            });\n        });\n\n        $(document).on('click', '.sidebar-single-quiz-a', function (e) {\n            e.preventDefault();\n\n            var $that = $(this);\n            var quiz_id = $that.attr('data-quiz-id');\n            var page_title = $that.find('.lesson_title').text();\n            var $wrap = $('#tutor-single-entry-content');\n\n            $.ajax({\n                url: _tutorobject.ajaxurl,\n                type: 'POST',\n                data: { quiz_id: quiz_id, 'action': 'tutor_render_quiz_content' },\n                beforeSend: function () {\n                    $('head title').text(page_title);\n                    window.history.pushState('obj', page_title, $that.attr('href'));\n                    $wrap.addClass('loading-lesson');\n                    $('.tutor-single-lesson-items').removeClass('active');\n                    $that.closest('.tutor-single-lesson-items').addClass('active');\n                },\n                success: function (data) {\n                    $wrap.html(data.data.html);\n                    init_quiz_builder();\n                    $('.tutor-lesson-sidebar').css('display', '');\n                },\n                complete: function () {\n                    $wrap.removeClass('loading-lesson');\n                }\n            });\n        });\n    }\n\n    /**\n     * @date 05 Feb, 2019\n     */\n\n    $(document).on('click', '.tutor-lesson-sidebar-hide-bar', function (e) {\n        e.preventDefault();\n        $('.tutor-lesson-sidebar').toggle();\n        $('#tutor-single-entry-content').toggleClass(\"sidebar-hidden\");\n\n    });\n\n    $(\".tutor-tabs-btn-group a\").on('click touchstart', function (e) {\n        e.preventDefault();\n        var $that = $(this);\n        var tabSelector = $that.attr('href');\n        $('.tutor-lesson-sidebar-tab-item').hide();\n        $(tabSelector).show();\n\n        $('.tutor-tabs-btn-group a').removeClass('active');\n        $that.addClass('active');\n    });\n    /**\n     * @date 18 Feb, 2019\n     * @since v.1.0.0\n     */\n\n    function init_quiz_builder() {\n        if (jQuery().sortable) {\n            $(\".tutor-quiz-answers-wrap\").sortable({\n                handle: \".answer-sorting-bar\",\n                start: function (e, ui) {\n                    ui.placeholder.css('visibility', 'visible');\n                },\n                stop: function (e, ui) {\n                    //Sorting Stopped...\n                },\n            }).disableSelection();\n\n            $(\".quiz-draggable-rand-answers, .quiz-answer-matching-droppable\").sortable({\n                connectWith: \".quiz-answer-matching-droppable\",\n                placeholder: \"drop-hover\",\n            }).disableSelection();\n        }\n    }\n    init_quiz_builder();\n    /**\n     * Quiz view\n     * @date 22 Feb, 2019\n     * @since v.1.0.0\n     */\n\n    $(document).on('click', '.tutor-quiz-answer-next-btn, .tutor-quiz-answer-previous-btn', function (e) {\n        e.preventDefault();\n\n        // Show previous quiz if press previous button\n        if($(this).hasClass('tutor-quiz-answer-previous-btn')) {\n            $(this).closest('.quiz-attempt-single-question').hide().prev().show();\n            return;\n        }\n\n        var $that = $(this);\n        var $question_wrap = $that.closest('.quiz-attempt-single-question');\n        /**\n         * Validating required answer\n         * @type {jQuery}\n         *\n         * @since v.1.6.1\n         */\n\n        var validated = tutor_quiz_validation($question_wrap);\n        if (!validated) {\n            return;\n        }\n\n        var feedBackNext = feedback_response($question_wrap);\n        if (!feedBackNext) {\n            return;\n        }\n\n        var question_id = parseInt($that.closest('.quiz-attempt-single-question').attr('id').match(/\\d+/)[0], 10);\n\n        var next_question_id = $that.closest('.quiz-attempt-single-question').attr('data-next-question-id');\n\n        if (next_question_id) {\n            var $nextQuestion = $(next_question_id);\n            if ($nextQuestion && $nextQuestion.length) {\n                /**\n                 * check if reveal mode wait for 500ms then\n                 * hide question so that correct answer reveal\n                 * @since 1.8.10\n                */\n\n                var feedBackMode = $question_wrap.attr('data-quiz-feedback-mode');\n                if(feedBackMode === 'reveal') {\n                    setTimeout(()=>{\n                        $('.quiz-attempt-single-question').hide();\n                         $nextQuestion.show();\n                    }, \n                    500);  \n                } else {\n                    $('.quiz-attempt-single-question').hide();\n                     $nextQuestion.show();\n                }\n                \n               \n\n                /**\n                 * If pagination exists, set active class\n                 */\n\n                if ($('.tutor-quiz-questions-pagination').length) {\n                    $('.tutor-quiz-question-paginate-item').removeClass('active');\n                    $('.tutor-quiz-questions-pagination a[href=\"' + next_question_id + '\"]').addClass('active');\n                }\n\n            }\n        }\n    });\n\n    $(document).on('submit', '#tutor-answering-quiz', function (e) {\n        var $questions_wrap = $('.quiz-attempt-single-question');\n        var validated = true;\n        if ($questions_wrap.length) {\n            $questions_wrap.each(function (index, question) {\n                // !tutor_quiz_validation( $(question) ) ? validated = false : 0;\n                // !feedback_response( $(question) ) ? validated = false : 0;\n                validated = tutor_quiz_validation($(question));\n                validated = feedback_response($(question));\n\n            });\n        }\n\n        if (!validated) {\n            e.preventDefault();\n        }\n    });\n\n\n    $(document).on('click', '.tutor-quiz-question-paginate-item', function (e) {\n        e.preventDefault();\n        var $that = $(this);\n        var $question = $($that.attr('href'));\n        $('.quiz-attempt-single-question').hide();\n        $question.show();\n\n        //Active Class\n        $('.tutor-quiz-question-paginate-item').removeClass('active');\n        $that.addClass('active');\n    });\n\n    /**\n     * Limit Short Answer Question Type\n     */\n    $(document).on('keyup', 'textarea.question_type_short_answer, textarea.question_type_open_ended', function (e) {\n        var $that = $(this);\n        var value = $that.val();\n        var limit = $that.hasClass('question_type_short_answer') ? _tutorobject.quiz_options.short_answer_characters_limit : _tutorobject.quiz_options.open_ended_answer_characters_limit;\n        var remaining = limit - value.length;\n\n        if (remaining < 1) {\n            $that.val(value.substr(0, limit));\n            remaining = 0;\n        }\n        $that.closest('.tutor-quiz-answers-wrap').find('.characters_remaining').html(remaining);\n    });\n\n    /**\n     *\n     * @type {jQuery}\n     *\n     * Improved Quiz draggable answers drop accessibility\n     * Answers draggable wrap will be now same height.\n     *\n     * @since v.1.4.4\n     */\n    var countDraggableAnswers = $('.quiz-draggable-rand-answers').length;\n    if (countDraggableAnswers) {\n        $('.quiz-draggable-rand-answers').each(function () {\n            var $that = $(this);\n            var draggableDivHeight = $that.height();\n\n            $that.css({ \"height\": draggableDivHeight });\n        });\n    }\n\n\n    /**\n     * Quiz Validation Helper\n     *\n     * @since v.1.6.1\n     */\n\n    function tutor_quiz_validation($question_wrap) {\n        var validated = true;\n\n        var $required_answer_wrap = $question_wrap.find('.quiz-answer-required');\n\n        if ($required_answer_wrap.length) {\n            /**\n             * Radio field validation\n             *\n             * @type {jQuery}\n             *\n             * @since v.1.6.1\n             */\n            var $inputs = $required_answer_wrap.find('input');\n            if ($inputs.length) {\n                var $type = $inputs.attr('type');\n                if ($type === 'radio') {\n                    if ($required_answer_wrap.find('input[type=\"radio\"]:checked').length == 0) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('Please select an option to answer', 'tutor')}</p>`);\n                        validated = false;\n                    }\n                } else if ($type === 'checkbox') {\n                    if ($required_answer_wrap.find('input[type=\"checkbox\"]:checked').length == 0) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('Please select at least one option to answer.', 'tutor')}</p>`);\n                        validated = false;\n                    }\n                } else if ($type === 'text') {\n                    //Fill in the gaps if many, validation all\n                    $inputs.each(function (index, input) {\n                        if (!$(input).val().trim().length) {\n                            $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('The answer for this question is required', 'tutor')}</p>`);\n                            validated = false;\n                        }\n                    });\n                }\n\n            }\n            if ($required_answer_wrap.find('textarea').length) {\n                if ($required_answer_wrap.find('textarea').val().trim().length < 1) {\n                    $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('The answer for this question is required', 'tutor')}</p>`);\n                    validated = false;\n                }\n            }\n\n            /**\n             * Matching Question\n             */\n            var $matchingDropable = $required_answer_wrap.find('.quiz-answer-matching-droppable');\n            if ($matchingDropable.length) {\n\n                $matchingDropable.each(function (index, matching) {\n                    if (!$(matching).find('.quiz-draggable-answer-item').length) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('Please match all the items', 'tutor')}</p>`);\n                        validated = false;\n                    }\n                });\n            }\n        }\n\n        return validated;\n    }\n\n    function feedback_response($question_wrap) {\n        var goNext = false;\n\n        // Prepare answer array            \n        var quiz_answers = JSON.parse(atob(window.tutor_quiz_context.split('').reverse().join('')));\n        !Array.isArray(quiz_answers) ? quiz_answers=[] : 0;\n        \n        // Evaluate result\n        var feedBackMode = $question_wrap.attr('data-quiz-feedback-mode');\n        $('.wrong-right-text').remove();\n        $('.quiz-answer-input-bottom').removeClass('wrong-answer right-answer');\n\n        var validatedTrue = true;\n        var $inputs = $question_wrap.find('input');\n        var $checkedInputs = $question_wrap.find('input[type=\"radio\"]:checked, input[type=\"checkbox\"]:checked');\n\n        if (feedBackMode === 'retry') {\n            $checkedInputs.each(function () {\n                var $input = $(this);\n\n                var $type = $input.attr('type');\n                if ($type === 'radio' || $type === 'checkbox') {\n                    var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                    if ( !isTrue) {\n                        if ($input.prop(\"checked\")) {\n                            $input.closest('.quiz-answer-input-bottom').addClass('wrong-answer').append(`<span class=\"wrong-right-text\"><i class=\"tutor-icon-line-cross\"></i> ${__('Incorrect, Please try again', 'tutor')}</span>`);\n                        }\n                        validatedTrue = false;\n                    }\n                }\n            });\n\n            $inputs.each(function () {\n                var $input = $(this);\n                var $type = $input.attr('type');\n                if ($type === 'checkbox') {\n                    var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                    var checked = $input.is(':checked');\n                \n                    if (isTrue && !checked) {\n                        $question_wrap.find('.answer-help-block').html(`<p style=\"color: #dc3545\">${__('More answer for this question is required', 'tutor')}</p>`);\n                        validatedTrue = false;\n                    }\n                }\n            });\n\n        } else if (feedBackMode === 'reveal') {\n            $checkedInputs.each(function () {\n                var $input = $(this);\n                var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                if (!isTrue) {\n                    validatedTrue = false;\n                }\n            });\n\n            $inputs.each(function () {\n                var $input = $(this);\n\n                var $type = $input.attr('type');\n                if ($type === 'radio' || $type === 'checkbox') {\n                    var isTrue = quiz_answers.indexOf($input.val())>-1; // $input.attr('data-is-correct') == '1';\n                    var checked = $input.is(':checked');\n\n                    if (isTrue) {\n                        $input.closest('.quiz-answer-input-bottom').addClass('right-answer').append(`<span class=\"wrong-right-text\"><i class=\"tutor-icon-checkbox-pen-outline\"></i>${__('Correct Answer', 'tutor')}</span>`);\n                    } else {\n                        if ($input.prop(\"checked\")) {\n                            $input.closest('.quiz-answer-input-bottom').addClass('wrong-answer');\n                        }\n                    }\n\n                    if (isTrue && !checked) {\n                        validatedTrue = false;\n                    }\n                }\n            });\n        }\n        \n        if (validatedTrue) {\n            goNext = true;\n        }\n\n        return goNext;\n    }\n\n\n    /**\n     * Add to cart in guest mode, show login form\n     *\n     * @since v.1.0.4\n     */\n\n    $(document).on('submit click', '.cart-required-login, .cart-required-login a, .cart-required-login form', function (e) {\n        e.preventDefault();\n\n        var login_url = $(this).data('login_page_url');\n        login_url ? window.location.assign(login_url) : $('.tutor-cart-box-login-form').fadeIn(100);\n    });\n\n    $('.tutor-popup-form-close, .login-overlay-close').on('click', function () {\n        $('.tutor-cart-box-login-form').fadeOut(100);\n    });\n\n    $(document).on('keyup', function (e) {\n        if (e.keyCode === 27) {\n            $('.tutor-frontend-modal').hide();\n            $('.tutor-cart-box-login-form').fadeOut(100);\n        }\n    });\n    /**\n     * Share Link enable\n     *\n     * @since v.1.0.4\n     */\n    if ($.fn.ShareLink) {\n        var $social_share_wrap = $('.tutor-social-share-wrap');\n        if ($social_share_wrap.length) {\n            var share_config = JSON.parse($social_share_wrap.attr('data-social-share-config'));\n\n            $('.tutor_share').ShareLink({\n                title: share_config.title,\n                text: share_config.text,\n                image: share_config.image,\n                class_prefix: 's_',\n                width: 640,\n                height: 480,\n            });\n        }\n    }\n\n    /**\n     * Datepicker initiate\n     *\n     * @since v.1.1.2\n     */\n    if (jQuery.datepicker) {\n        $(\".tutor_report_datepicker\").datepicker({ \"dateFormat\": 'yy-mm-dd' });\n    }\n\n\n    /**\n     * Withdraw Form Tab/Toggle\n     *\n     * @since v.1.1.2\n     */\n\n    $(\".withdraw-method-select-input\").on('change', function (e) {\n        var $that = $(this);\n        $('.withdraw-method-form').hide();\n        $('#withdraw-method-form-' + $that.closest('.withdraw-method-select').attr('data-withdraw-method')).show();\n    });\n\n    $('.withdraw-method-select-input').each(function () {\n        var $that = $(this);\n        if ($that.is(\":checked\")) {\n            $('.withdraw-method-form').hide();\n            $('#withdraw-method-form-' + $that.closest('.withdraw-method-select').attr('data-withdraw-method')).show();\n        }\n    });\n\n\n\n    /**\n     * Setting account for withdraw earning\n     *\n     * @since v.1.2.0\n     */\n    $(document).on('submit', '#tutor-withdraw-account-set-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n        var $btn = $form.find('.tutor_set_withdraw_account_btn');\n        var data = $form.serializeObject();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor-success-msg').remove();\n                $btn.addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    var successMsg = '<div class=\"tutor-success-msg\" style=\"display: none;\"><i class=\"tutor-icon-mark\"></i> ' + data.data.msg + ' </div>';\n                    $btn.closest('.withdraw-account-save-btn-wrap').append(successMsg);\n                    if ($form.find('.tutor-success-msg').length) {\n                        $form.find('.tutor-success-msg').slideDown();\n                    }\n                    setTimeout(function () {\n                        $form.find('.tutor-success-msg').slideUp();\n                    }, 5000)\n                }\n            },\n            complete: function () {\n                $btn.removeClass('updating-icon');\n            }\n        });\n    });\n\n    /**\n     * Make Withdraw Form\n     *\n     * @since v.1.2.0\n     */\n\n    $(document).on('click', '.open-withdraw-form-btn, .close-withdraw-form-btn', function (e) {\n        e.preventDefault();\n\n        if($(this).data('reload')=='yes'){\n            window.location.reload();\n            return;\n        }\n\n        $('.tutor-earning-withdraw-form-wrap').toggle().find('[name=\"tutor_withdraw_amount\"]').val('');\n        $('.tutor-withdrawal-pop-up-success').hide().next().show();\n        $('html, body').css('overflow', ($('.tutor-earning-withdraw-form-wrap').is(':visible') ? 'hidden' : 'auto'));\n    });\n\n    $(document).on('submit', '#tutor-earning-withdraw-form', function (e) {\n        e.preventDefault();\n\n        var $form = $(this);\n        var $btn = $('#tutor-earning-withdraw-btn');\n        var $responseDiv = $('.tutor-withdraw-form-response');\n        var data = $form.serializeObject();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $form.find('.tutor-success-msg').remove();\n                $btn.addClass('updating-icon');\n            },\n            success: function (data) {\n                var Msg;\n                if (data.success) {\n\n                    if (data.data.available_balance !== 'undefined') {\n                        $('.withdraw-balance-col .available_balance').html(data.data.available_balance);\n                    }\n\n                    $('.tutor-withdrawal-pop-up-success').show().next().hide();\n\n                } else {\n                    Msg = '<div class=\"tutor-error-msg inline-image-text is-inline-block\">\\\n                            <img src=\"'+window._tutorobject.tutor_url+'assets/images/icon-cross.svg\"/> \\\n                            <div>\\\n                                <b>Error</b><br/>\\\n                                <span>'+ data.data.msg + '</span>\\\n                            </div>\\\n                        </div>';\n\n                    $responseDiv.html(Msg);\n                    setTimeout(function () {\n                        $responseDiv.html('');\n                    }, 5000)\n                }\n            },\n            complete: function () {\n                $btn.removeClass('updating-icon');\n            }\n        });\n    });\n\n    var frontEndModal = $('.tutor-frontend-modal');\n    frontEndModal.each(function () {\n        var modal = $(this),\n            action = $(this).data('popup-rel');\n        $('[href=\"' + action + '\"]').on('click', function (e) {\n            modal.fadeIn();\n            e.preventDefault();\n        });\n    });\n    $(document).on('click', '.tm-close, .tutor-frontend-modal-overlay, .tutor-modal-btn-cancel', function () {\n        frontEndModal.fadeOut();\n    });\n\n    /**\n     * Delete Course\n     */\n    $(document).on('click', '.tutor-dashboard-element-delete-btn', function (e) {\n        e.preventDefault();\n        var element_id = $(this).attr('data-id');\n        $('#tutor-dashboard-delete-element-id').val(element_id);\n    });\n    $(document).on('submit', '#tutor-dashboard-delete-element-form', function (e) {\n        e.preventDefault();\n\n        var element_id = $('#tutor-dashboard-delete-element-id').val();\n        var $btn = $('.tutor-modal-element-delete-btn');\n        var data = $(this).serializeObject();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: data,\n            beforeSend: function () {\n                $btn.addClass('updating-icon');\n            },\n            success: function (res) {\n                if (res.success) {\n                    $('#tutor-dashboard-' + res.data.element + '-' + element_id).remove();\n                }\n            },\n            complete: function () {\n                $btn.removeClass('updating-icon');\n                $('.tutor-frontend-modal').hide();\n            }\n        });\n    });\n\n    /**\n     * Frontend Profile\n     */\n\n    if (!$('#tutor_profile_photo_id').val()) {\n        $('.tutor-profile-photo-delete-btn').hide();\n    }\n\n    $(document).on('click', '.tutor-profile-photo-delete-btn', function () {\n        $('.tutor-profile-photo-upload-wrap').find('img').attr('src', _tutorobject.placeholder_img_src);\n        $('#tutor_profile_photo_id').val('');\n        $('.tutor-profile-photo-delete-btn').hide();\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: { 'action': 'tutor_profile_photo_remove' },\n        });\n\n        return false;\n    });\n\n    /**\n     * Assignment\n     *\n     * @since v.1.3.3\n     */\n    $(document).on('submit', '#tutor_assignment_start_form', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var form_data = $that.serializeObject();\n        form_data.action = 'tutor_start_assignment';\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            beforeSend: function () {\n                $('#tutor_assignment_start_btn').addClass('updating-icon');\n            },\n            success: function (data) {\n                if (data.success) {\n                    location.reload();\n                }\n            },\n            complete: function () {\n                $('#tutor_assignment_start_btn').removeClass('updating-icon');\n            }\n        });\n    });\n\n    /**\n     * Assignment answer validation\n     */\n    $(document).on('submit', '#tutor_assignment_submit_form', function (e) {\n        var assignment_answer = $('textarea[name=\"assignment_answer\"]').val();\n        if (assignment_answer.trim().length < 1) {\n            $('#form_validation_response').html('<div class=\"tutor-error-msg\">' + __('Assignment answer can not be empty', 'tutor') + '</div>');\n            e.preventDefault();\n        }\n    });\n\n    /**\n     * Course builder video\n     * @since v.1.3.4\n     */\n\n\n    $(document).on('click', '.video_source_upload_wrap_html5 .video_upload_btn', function (event) {\n        event.preventDefault();\n\n        var $that = $(this);\n        var frame;\n        // If the media frame already exists, reopen it.\n        if (frame) {\n            frame.open();\n            return;\n        }\n        frame = wp.media({\n            title: __( 'Select / Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use media', 'tutor' )\n            },\n            library: { type: 'video' },\n            multiple: false  // Set to true to allow multiple files to be selected\n        });\n        frame.on('select', function () {\n            // Get media attachment details from the frame state\n            var attachment = frame.state().get('selection').first().toJSON();\n            $that.closest('.video_source_upload_wrap_html5').find('span.video_media_id').data('video_url', attachment.url).text(attachment.id).trigger('paste').closest('p').show();\n            $that.closest('.video_source_upload_wrap_html5').find('input').val(attachment.id);\n        });\n        frame.open();\n    });\n\n\n    /**\n     * Course and lesson sorting\n     */\n\n    function enable_sorting_topic_lesson() {\n        if (jQuery().sortable) {\n            $(\".course-contents\").sortable({\n                handle: \".course-move-handle\",\n                start: function (e, ui) {\n                    ui.placeholder.css('visibility', 'visible');\n                },\n                stop: function (e, ui) {\n                    tutor_sorting_topics_and_lesson();\n                },\n            });\n            $(\".tutor-lessons:not(.drop-lessons)\").sortable({\n                connectWith: \".tutor-lessons\",\n                items: \"div.course-content-item\",\n                start: function (e, ui) {\n                    ui.placeholder.css('visibility', 'visible');\n                },\n                stop: function (e, ui) {\n                    tutor_sorting_topics_and_lesson();\n                },\n            });\n        }\n    }\n    enable_sorting_topic_lesson();\n    function tutor_sorting_topics_and_lesson() {\n        var topics = {};\n        $('.tutor-topics-wrap').each(function (index, item) {\n            var $topic = $(this);\n            var topics_id = parseInt($topic.attr('id').match(/\\d+/)[0], 10);\n            var lessons = {};\n\n            $topic.find('.course-content-item').each(function (lessonIndex, lessonItem) {\n                var $lesson = $(this);\n                var lesson_id = parseInt($lesson.attr('id').match(/\\d+/)[0], 10);\n\n                lessons[lessonIndex] = lesson_id;\n            });\n            topics[index] = { 'topic_id': topics_id, 'lesson_ids': lessons };\n        });\n        $('#tutor_topics_lessons_sorting').val(JSON.stringify(topics));\n    }\n\n    /**\n     * Lesson Update or Create Modal\n     */\n    $(document).on('click', '.update_lesson_modal_btn', function (event) {\n        event.preventDefault();\n\n        var $that = $(this);\n        var content;\n        var editor = tinyMCE.get('tutor_lesson_modal_editor');\n        if (editor) {\n            content = editor.getContent();\n        } else {\n            content = $('#' + inputid).val();\n        }\n\n        var form_data = $(this).closest('form').serializeObject();\n        form_data.lesson_content = content;\n\n        $.ajax({\n            url: window._tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success) {\n                    $('#tutor-course-content-wrap').html(data.data.course_contents);\n                    enable_sorting_topic_lesson();\n\n                    //Close the modal\n                    $('.tutor-lesson-modal-wrap').removeClass('show');\n                    \n                    tutor_toast(__('Done', 'tutor'), $that.data('toast_success_message'), 'success');\n                }\n                else {\n                    tutor_toast(__('Failed', 'tutor'), __('Lesson Update Failed', 'tutor'), 'error');\n                }\n            },\n            error: function() {\n                tutor_toast(__('Failed', 'tutor'), __('Lesson Update Failed', 'tutor'), 'error');\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * END: Tutor Course builder JS\n     */\n\n    /**\n     * Attachment in forntend course builder\n     * @since v.1.3.4\n     */\n    $(document).on('click', 'a.tutor-delete-attachment', function (e) {\n        e.preventDefault();\n        $(this).closest('.tutor-added-attachment').remove();\n    });\n    $(document).on('click', '.tutorUploadAttachmentBtn', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var frame;\n        if (frame) {\n            frame.open();\n            return;\n        }\n        frame = wp.media({\n            title: __( 'Select / Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use media', 'tutor' )\n            },\n            multiple: true  // Set to true to allow multiple files to be selected\n        });\n        frame.on('select', function () {\n            var attachments = frame.state().get('selection').toJSON();\n            if (attachments.length) {\n                for (var i = 0; i < attachments.length; i++) {\n                    var attachment = attachments[i];\n\n                    var inputHtml = '<div class=\"tutor-added-attachment\"><i class=\"tutor-icon-archive\"></i><a href=\"javascript:;\" class=\"tutor-delete-attachment tutor-icon-line-cross\"></a> <span> <a href=\"' + attachment.url + '\">' + attachment.filename + '</a> </span> <input type=\"hidden\" name=\"tutor_attachments[]\" value=\"' + attachment.id + '\"></div>';\n                    $that.closest('.tutor-lesson-attachments-metabox').find('.tutor-added-attachments-wrap').append(inputHtml);\n                }\n            }\n        });\n        frame.open();\n    });\n\n\n    /**\n     * Single Assignment Upload Button\n     * @since v.1.3.4\n     */\n    $('form').on('change', '.tutor-assignment-file-upload', function () {\n        $(this).siblings(\"label\").find('span').html($(this).val().replace(/.*(\\/|\\\\)/, ''));\n    });\n\n    /**\n     * Lesson Sidebar Topic Toggle\n     * @since v.1.3.4\n     */\n\n    $(document).on('click', '.tutor-topics-in-single-lesson .tutor-topics-title h3, .tutor-single-lesson-topic-toggle', function (e) {\n        var $that = $(this);\n        var $parent = $that.closest('.tutor-topics-in-single-lesson');\n        $parent.toggleClass('tutor-topic-active');\n        $parent.find('.tutor-lessons-under-topic').slideToggle();\n    });\n\n    $('.tutor-single-lesson-items.active').closest('.tutor-lessons-under-topic').show();\n    $('.tutor-single-lesson-items.active').closest('.tutor-topics-in-single-lesson').addClass('tutor-topic-active');\n    $('.tutor-course-lesson.active').closest('.tutor-lessons-under-topic').show();\n\n\n    /**\n     * Assignments Addons\n     * @backend Support\n     *\n     */\n\n\n    /**\n     * Tutor Assignments JS\n     * @since v.1.3.3\n     */\n    $(document).on('click', '.tutor-create-assignments-btn', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var topic_id = $(this).attr('data-topic-id');\n        var course_id = $('#post_ID').val();\n\n        $.ajax({\n            url: window._tutorobject.ajaxurl,\n            type: 'POST',\n            data: { topic_id: topic_id, course_id: course_id, action: 'tutor_load_assignments_builder_modal' },\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                $('.tutor-lesson-modal-wrap .modal-container').html(data.data.output);\n                $('.tutor-lesson-modal-wrap').attr('data-topic-id', topic_id).addClass('show');\n\n                $(document).trigger('assignment_modal_loaded', { topic_id: topic_id, course_id: course_id });\n\n                tinymce.init(tinyMCEPreInit.mceInit.course_description);\n                tinymce.execCommand('mceRemoveEditor', false, 'tutor_assignments_modal_editor');\n                tinyMCE.execCommand('mceAddEditor', false, \"tutor_assignments_modal_editor\");\n            },\n            complete: function () {\n                quicktags({ id: \"tutor_assignments_modal_editor\" });\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    $(document).on('click', '.open-tutor-assignment-modal', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var assignment_id = $that.attr('data-assignment-id');\n        var topic_id = $that.attr('data-topic-id');\n        var course_id = $('#post_ID').val();\n\n        $.ajax({\n            url: window._tutorobject.ajaxurl,\n            type: 'POST',\n            data: { assignment_id: assignment_id, topic_id: topic_id, course_id: course_id, action: 'tutor_load_assignments_builder_modal' },\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                $('.tutor-lesson-modal-wrap .modal-container').html(data.data.output);\n                $('.tutor-lesson-modal-wrap').attr({ 'data-assignment-id': assignment_id, 'data-topic-id': topic_id }).addClass('show');\n\n                $(document).trigger('assignment_modal_loaded', { assignment_id: assignment_id, topic_id: topic_id, course_id: course_id });\n\n                tinymce.init(tinyMCEPreInit.mceInit.course_description);\n                tinymce.execCommand('mceRemoveEditor', false, 'tutor_assignments_modal_editor');\n                tinyMCE.execCommand('mceAddEditor', false, \"tutor_assignments_modal_editor\");\n            },\n            complete: function () {\n                quicktags({ id: \"tutor_assignments_modal_editor\" });\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Update Assignment Data\n     */\n    $(document).on('click', '.update_assignment_modal_btn', function (event) {\n        event.preventDefault();\n\n        var $that = $(this);\n        var content;\n        var editor = tinyMCE.get('tutor_assignments_modal_editor');\n        if (editor) {\n            content = editor.getContent();\n        } else {\n            content = $('#' + inputid).val();\n        }\n\n        var form_data = $(this).closest('form').serializeObject();\n        form_data.assignment_content = content;\n        \n        $.ajax({\n            url: window._tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success) {\n                    $('#tutor-course-content-wrap').html(data.data.course_contents);\n                    enable_sorting_topic_lesson();\n\n                    //Close the modal\n                    $('.tutor-lesson-modal-wrap').removeClass('show');\n\n                    tutor_toast(__('Done', 'tutor'), $that.data('toast_success_message'), 'success');\n                }\n                else {\n                    tutor_toast(__('Failed', 'tutor'), __('Assignment Update Failed', 'tutor'), 'error');\n                }\n            },\n            error: function() {\n                tutor_toast(__('Failed', 'tutor'), __('Assignment Update Failed', 'tutor'), 'error');\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Add Assignment\n     */\n    $(document).on('click', '.add-assignment-attachments', function (event) {\n        event.preventDefault();\n\n        var $that = $(this);\n        var frame;\n        // If the media frame already exists, reopen it.\n        if (frame) {\n            frame.open();\n            return;\n        }\n\n        // Create a new media frame\n        frame = wp.media({\n            title: __( 'Select / Upload Media Of Your Chosen Persuasion', 'tutor' ),\n            button: {\n                text: __( 'Use media', 'tutor' )\n            },\n            multiple: false  // Set to true to allow multiple files to be selected\n        });\n\n        // When an image is selected in the media frame...\n        frame.on('select', function () {\n            // Get media attachment details from the frame state\n            var attachment = frame.state().get('selection').first().toJSON();\n\n            var field_markup = '<div class=\"tutor-individual-attachment-file\"><p class=\"attachment-file-name\">' + attachment.filename + '</p><input type=\"hidden\" name=\"tutor_assignment_attachments[]\" value=\"' + attachment.id + '\"><a href=\"javascript:;\" class=\"remove-assignment-attachment-a text-muted\"> &times; Remove</a></div>';\n\n            $('#assignment-attached-file').append(field_markup);\n            $that.closest('.video_source_upload_wrap_html5').find('input').val(attachment.id);\n        });\n        // Finally, open the modal on click\n        frame.open();\n    });\n\n    $(document).on('click', '.remove-assignment-attachment-a', function (event) {\n        event.preventDefault();\n        $(this).closest('.tutor-individual-attachment-file').remove();\n    });\n\n\n    /**\n     *\n     * @type {jQuery}\n     *\n     * Course builder auto draft save\n     *\n     * @since v.1.3.4\n     */\n    var tutor_course_builder = $('input[name=\"tutor_action\"]').val();\n    if (tutor_course_builder === 'tutor_add_course_builder') {\n        setInterval(auto_draft_save_course_builder, 30000);\n    }\n\n    function auto_draft_save_course_builder() {\n        \n        var form_data = $('form#tutor-frontend-course-builder').serializeObject();\n        form_data.tutor_ajax_action = 'tutor_course_builder_draft_save';\n\n        $.ajax({\n            //url : _tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            beforeSend: function () {\n                $('.tutor-dashboard-builder-draft-btn span').text( __( 'Saving...', 'tutor' ) );\n            },\n            success: function (data) {\n\n            },\n            complete: function () {\n                $('.tutor-dashboard-builder-draft-btn span').text( __( 'Save', 'tutor' ) );\n            }\n        });\n    }\n\n    /**\n     *\n     * @type {jQuery}\n     *\n     * Course builder section toggle\n     *\n     * @since v.1.3.5\n     */\n\n    $('.tutor-course-builder-section-title').on('click', function () {\n        if ($(this).find('i').hasClass(\"tutor-icon-up\")) {\n            $(this).find('i').removeClass('tutor-icon-up').addClass('tutor-icon-down');\n        } else {\n            $(this).find('i').removeClass('tutor-icon-down').addClass('tutor-icon-up');\n        }\n        $(this).next('div').slideToggle();\n    });\n\n    /**\n     * Open Tutor Modal to edit review\n     * @since v.1.4.0\n     */\n    $(document).on('click', '.open-tutor-edit-review-modal', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var review_id = $that.attr('data-review-id');\n\n        var nonce_key = _tutorobject.nonce_key;\n\n        var json_data = { review_id: review_id, action: 'tutor_load_edit_review_modal' };\n        json_data[nonce_key] = _tutorobject[nonce_key];\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: json_data,\n            beforeSend: function () {\n                $that.addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (typeof data.data !== 'undefined') {\n                    $('.tutor-edit-review-modal-wrap .modal-container').html(data.data.output);\n                    $('.tutor-edit-review-modal-wrap').attr('data-review-id', review_id).addClass('show');\n                }\n            },\n            complete: function () {\n                $that.removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Update the rating\n     * @since v.1.4.0\n     */\n    $(document).on('submit', '#tutor_update_review_form', function (e) {\n        e.preventDefault();\n\n        var $that = $(this);\n        var review_id = $that.closest('.tutor-edit-review-modal-wrap ').attr('data-review-id');\n\n        var nonce_key = _tutorobject.nonce_key;\n\n        var rating = $that.find('input[name=\"tutor_rating_gen_input\"]').val();\n        var review = $that.find('textarea[name=\"review\"]').val();\n        review = review.trim();\n\n        var json_data = { review_id: review_id, rating: rating, review: review, action: 'tutor_update_review_modal' };\n        json_data[nonce_key] = _tutorobject[nonce_key];\n\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: json_data,\n            beforeSend: function () {\n                $that.find('button[type=\"submit\"]').addClass('tutor-updating-message');\n            },\n            success: function (data) {\n                if (data.success) {\n                    //Close the modal\n                    $('.tutor-edit-review-modal-wrap').removeClass('show');\n                    location.reload(true);\n                }\n            },\n            complete: function () {\n                $that.find('button[type=\"submit\"]').removeClass('tutor-updating-message');\n            }\n        });\n    });\n\n    /**\n     * Profile photo upload\n     * @since v.1.4.5\n     */\n\n    $(document).on('click', '#tutor_profile_photo_button', function (e) {\n        e.preventDefault();\n\n        $('#tutor_profile_photo_file').trigger('click');\n    });\n\n    $(document).on('change', '#tutor_profile_photo_file', function (event) {\n        event.preventDefault();\n\n        var $file = this;\n        if ($file.files && $file.files[0]) {\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                $('.tutor-profile-photo-upload-wrap').find('img').attr('src', e.target.result);\n            }\n            reader.readAsDataURL($file.files[0]);\n        }\n    });\n\n    /**\n     * Addon, Tutor BuddyPress\n     * Retrieve MetaInformation on BuddyPress message system\n     * @for TutorLMS Pro\n     * @since v.1.4.8\n     */\n\n    $(document).on('click', '.thread-content .subject', function (e) {\n        var $btn = $(this);\n\n        var thread_id = parseInt($btn.closest('.thread-content').attr('data-thread-id'));\n\n        var nonce_key = _tutorobject.nonce_key;\n        var json_data = { thread_id: thread_id, action: 'tutor_bp_retrieve_user_records_for_thread' };\n        json_data[nonce_key] = _tutorobject[nonce_key];\n\n        $.ajax({\n            type: 'POST',\n            url: window._tutorobject.ajaxurl,\n            data: json_data,\n            beforeSend: function () {\n                $('#tutor-bp-thread-wrap').html('');\n            },\n            success: function (data) {\n                if (data.success) {\n                    $('#tutor-bp-thread-wrap').html(data.data.thread_head_html);\n                    tutor_bp_setting_enrolled_courses_list();\n                }\n            }\n        });\n\n    });\n\n\n    function tutor_bp_setting_enrolled_courses_list() {\n        $('ul.tutor-bp-enrolled-course-list').each(function () {\n            var $that = $(this);\n            var $li = $that.find(' > li');\n            var itemShow = 3;\n\n            if ($li.length > itemShow) {\n                var plusCourseCount = $li.length - itemShow;\n                $li.each(function (liIndex, liItem) {\n                    var $liItem = $(this);\n\n                    if (liIndex >= itemShow) {\n                        $liItem.hide();\n                    }\n                });\n\n                var infoHtml = '<a href=\"javascript:;\" class=\"tutor_bp_plus_courses\"><strong>+' + plusCourseCount + ' More </strong></a> Courses';\n                $that.closest('.tutor-bp-enrolled-courses-wrap').find('.thread-participant-enrolled-info').html(infoHtml);\n            }\n\n            $that.show();\n        });\n    }\n    tutor_bp_setting_enrolled_courses_list();\n\n    $(document).on('click', 'a.tutor_bp_plus_courses', function (e) {\n        e.preventDefault();\n\n        var $btn = $(this);\n        $btn.closest('.tutor-bp-enrolled-courses-wrap').find('.tutor-bp-enrolled-course-list li').show();\n        $btn.closest('.thread-participant-enrolled-info').html('');\n    });\n\n\n    /**\n     * Addon, Tutor Certificate\n     * Certificate dropdown content and copy link\n     * @for TutorLMS Pro\n     * @since v.1.5.1\n     */\n    //$(document).on('click', '.tutor-dropbtn', function (e) {\n    $('.tutor-dropbtn').click(function(){\n       \n        var $content = $(this).parent().find(\".tutor-dropdown-content\");\n        $content.slideToggle(100);\n    })\n\n\n    //$(document).on('click', '.tutor-copy-link', function (e) {\n    $('.tutor-copy-link').click(function (e) {\n        var $btn = $(this);\n        var copy = '<i class=\"tutor-icon-copy\"></i> Copy Link';\n        var copied = '<i class=\"tutor-icon-mark\"></i> Copied';\n        var dummy = document.createElement('input'),\n            text = window.location.href;\n        document.body.appendChild(dummy);\n        dummy.value = text;\n        dummy.select();\n        document.execCommand('copy');\n        document.body.removeChild(dummy);\n        $btn.html(copied);\n        setTimeout(function () {\n            $btn.html(copy);\n        }, 2500);\n    });\n    \n    $(document).on('click', function (e) {\n        var container = $(\".tutor-dropdown\");\n        var $content = container.find('.tutor-dropdown-content');\n        // if the target of the click isn't the container nor a descendant of the container\n        if (!container.is(e.target) && container.has(e.target).length === 0) {\n            $content.slideUp(100);\n        }\n    });\n\n\n    /**\n     * Tutor ajax login\n     *\n     * @since v.1.6.3\n     */\n    $(document).on('submit', '.tutor-login-form-wrap #loginform', function (e) {\n        e.preventDefault();\n        \n        var $that = $(this);\n        var $form_wrapper = $('.tutor-login-form-wrap');\n\n        var form_data = $that.serializeObject();\n        form_data.action = 'tutor_user_login';\n        $.ajax({\n            url: _tutorobject.ajaxurl,\n            type: 'POST',\n            data: form_data,\n            success: function (response) {\n                if (response.success) {\n                    location.assign(response.data.redirect);\n                    location.reload();\n                } else {\n                    var error_message = response.data || __('Invalid username or password!', 'tutor');\n                    if ($form_wrapper.find('.tutor-alert').length) {\n                        $form_wrapper.find('.tutor-alert').html(error_message);\n                    } else {\n                        $form_wrapper.prepend('<div class=\"tutor-alert tutor-alert-warning\">' + error_message + '</div>');\n                    }\n                }\n            },\n        });\n    });\n\n    /**\n     * Show hide is course public checkbox (frontend dashboard editor)\n     * \n     * @since  v.1.7.2\n    */\n    var price_type = $('.tutor-frontend-builder-course-price [name=\"tutor_course_price_type\"]');\n    if(price_type.length==0){\n        $('#_tutor_is_course_public_meta_checkbox').show();\n    }\n    else{\n        price_type.change(function(){\n            if($(this).prop('checked')){\n                var method = $(this).val()=='paid' ? 'hide' : 'show';\n                $('#_tutor_is_course_public_meta_checkbox')[method]();\n            }\n        }).trigger('change');\n    }\n    \n    /**\n     * Withdrawal page tooltip\n     * \n     * @since  v.1.7.4\n    */\n    // Fully accessible tooltip jQuery plugin with delegation.\n    // Ideal for view containers that may re-render content.\n    (function ($) {\n        $.fn.tutor_tooltip = function () {\n        this\n    \n        // Delegate to tooltip, Hide if tooltip receives mouse or is clicked (tooltip may stick if parent has focus)\n            .on('mouseenter click', '.tooltip', function (e) {\n            e.stopPropagation();\n            $(this).removeClass('isVisible');\n            })\n            // Delegate to parent of tooltip, Show tooltip if parent receives mouse or focus\n            .on('mouseenter focus', ':has(>.tooltip)', function (e) {\n            if (!$(this).prop('disabled')) { // IE 8 fix to prevent tooltip on `disabled` elements\n                $(this)\n                .find('.tooltip')\n                .addClass('isVisible');\n            }\n            })\n            // Delegate to parent of tooltip, Hide tooltip if parent loses mouse or focus\n            .on('mouseleave blur keydown', ':has(>.tooltip)', function (e) {\n            if (e.type === 'keydown') {\n                if(e.which === 27) {\n                $(this)\n                    .find('.tooltip')\n                    .removeClass('isVisible');\n                }\n            } else {\n                $(this)\n                .find('.tooltip')\n                .removeClass('isVisible');\n            }\n            });\n        return this;\n        };\n    }(jQuery));\n    \n    // Bind event listener to container element\n    jQuery('.tutor-tooltip-inside').tutor_tooltip();\n    \n\n    \n    /**\n     * Manage course filter\n     * \n     * @since  v.1.7.2\n    */\n    var filter_container = $('.tutor-course-filter-container form');\n    var loop_container = $('.tutor-course-filter-loop-container');\n    var filter_modifier = {};\n    \n    // Sidebar checkbox value change\n    filter_container.on('submit', function(e) {\n        e.preventDefault();\n    })\n    .find('input').change(function(e){\n        \n        var filter_criteria = Object.assign( filter_container.serializeObject(), filter_modifier);\n        filter_criteria.action = 'tutor_course_filter_ajax';\n\n        loop_container.html('<center><img src=\"'+window._tutorobject.loading_icon_url+'\"/></center>');\n        $(this).closest('form').find('.tutor-clear-all-filter').show();\n\n        $.ajax({\n            url:window._tutorobject.ajaxurl,\n            type:'POST',\n            data:filter_criteria,\n            success:function(r) {\n                loop_container.html(r).find('.tutor-pagination-wrap a').each(function(){\n                    $(this).attr('data-href', $(this).attr('href')).attr('href', '#');\n                });\n            }\n        })\n    });\n\n    // Alter pagination\n    loop_container.on('click', '.tutor-pagination-wrap a', function(e){\n        var url = $(this).data('href') || $(this).attr('href');\n\n        if(url){\n            url = new URL(url);\n            var page = url.searchParams.get(\"paged\");\n            \n            if(page){\n                e.preventDefault();\n                filter_modifier.page = page;\n                filter_container.find('input:first').trigger('change');\n            }\n        }\n    });\n\n    // Alter sort filter\n    loop_container.on('change', 'select[name=\"tutor_course_filter\"]', function() {\n        filter_modifier.tutor_course_filter = $(this).val();\n        filter_container.find('input:first').trigger('change');\n    });\n\n    // Refresh page after coming back to course archive page from cart\n    var archive_loop = $('.tutor-course-loop');\n    if(archive_loop.length>0){\n        window.sessionStorage.getItem('tutor_refresh_archive')==='yes' ? window.location.reload() : 0;\n        window.sessionStorage.removeItem('tutor_refresh_archive');\n        archive_loop.on('click', '.tutor-loop-cart-btn-wrap', function(){\n            window.sessionStorage.setItem('tutor_refresh_archive', 'yes');\n        });\n    }\n    \n    /**\n     * Profile Photo and Cover Photo editor\n     * \n     * @since  v.1.7.5\n    */\n    var PhotoEditor=function(photo_editor){\n\n        this.dialogue_box = photo_editor.find('#tutor_photo_dialogue_box');\n\n        \n        this.open_dialogue_box = function(name){\n            this.dialogue_box.attr('name', name);\n            this.dialogue_box.trigger('click');\n        }\n\n        this.validate_image = function(file){\n            return true;\n        }\n\n        this.upload_selected_image = function(name, file){\n            if(!file || !this.validate_image(file)){\n                return;\n            }\n\n            var nonce = tutor_get_nonce_data(true);\n\n            var context = this;\n            context.toggle_loader(name, true);\n\n            // Prepare payload to upload\n            var form_data = new FormData();\n            form_data.append('action', 'tutor_user_photo_upload');\n            form_data.append('photo_type', name);\n            form_data.append('photo_file', file, file.name);\n            form_data.append(nonce.key, nonce.value);\n            \n            $.ajax({\n                url:window._tutorobject.ajaxurl,\n                data:form_data,\n                type:'POST',\n                processData: false,\n                contentType: false,\n                error:context.error_alert,\n                complete:function(){\n                    context.toggle_loader(name, false);\n                }\n            })\n        }\n\n        this.accept_upload_image=function(context, e){\n            var file = e.currentTarget.files[0] || null;\n            context.update_preview(e.currentTarget.name, file);\n            context.upload_selected_image(e.currentTarget.name, file);\n            $(e.currentTarget).val('');\n        }\n\n        this.delete_image=function(name){\n            var context = this;\n            context.toggle_loader(name, true);\n            \n            $.ajax({\n                url:window._tutorobject.ajaxurl,\n                data:{action:'tutor_user_photo_remove', photo_type:name},\n                type:'POST',\n                error:context.error_alert,\n                complete:function(){\n                    context.toggle_loader(name, false);\n                }\n            });\n        }\n\n        this.update_preview=function(name, file){\n            var renderer = photo_editor.find(name=='cover_photo' ? '#tutor_cover_area' : '#tutor_profile_area');\n\n            if(!file){\n                renderer.css('background-image', 'url('+renderer.data('fallback')+')');\n                this.delete_image(name);\n                return;\n            }\n            \n            var reader = new FileReader();\n            reader.onload = function(e) {\n                renderer.css('background-image', 'url('+e.target.result+')');\n            }\n            \n            reader.readAsDataURL(file); \n        }\n\n        this.toggle_profile_pic_action=function(show){\n            var method = show===undefined ? 'toggleClass' : (show ? 'addClass' : 'removeClass');\n            photo_editor[method]('pop-up-opened');\n        }\n\n        this.error_alert=function(){\n            alert('Something Went Wrong.');\n        }\n\n        this.toggle_loader = function(name, show){\n            photo_editor.find('#tutor_photo_meta_area .loader-area').css('display', (show ? 'block' : 'none'));\n        }\n\n        this.initialize = function(){\n            var context = this;\n\n            this.dialogue_box.change(function(e){context.accept_upload_image(context, e)});\n\n            photo_editor.find('#tutor_profile_area .tutor_overlay, #tutor_pp_option>div:last-child').click(function(){context.toggle_profile_pic_action()});\n\n            // Upload new\n            photo_editor.find('.tutor_cover_uploader').click(function(){context.open_dialogue_box('cover_photo')});\n            photo_editor.find('.tutor_pp_uploader').click(function(){context.open_dialogue_box('profile_photo')});\n\n            // Delete existing\n            photo_editor.find('.tutor_cover_deleter').click(function(){context.update_preview('cover_photo', null)});\n            photo_editor.find('.tutor_pp_deleter').click(function(){context.update_preview('profile_photo', null)});\n        }\n    }\n\n    var photo_editor = $('#tutor_profile_cover_photo_editor');\n    photo_editor.length>0 ? new PhotoEditor(photo_editor).initialize() : 0;\n\n\n    /**\n     * \n     * Instructor list filter\n     * \n     * @since  v.1.8.4\n    */\n    // Get values on course category selection\n    $('.tutor-instructor-filter').each(function() {\n\n        var root = $(this);\n        var filter_args = {}; \n        var time_out;\n\n        function run_instructor_filter(name, value, page_number) {\n\n            // Prepare http payload\n            var result_container = root.find('.filter-result-container');\n            var html_cache = result_container.html();\n            var attributes = root.data();\n            attributes.current_page = page_number || 1;\n\n            name ? filter_args[name] = value : filter_args = {};\n            filter_args.attributes = attributes;\n            filter_args.action = 'load_filtered_instructor';\n            \n            // Show loading icon\n            result_container.html('<div style=\"text-align:center\"><img src=\"'+window._tutorobject.loading_icon_url+'\"/></div>');\n\n            $.ajax({\n                url: window._tutorobject.ajaxurl,\n                data: filter_args,\n                type: 'POST',\n                success: function(r) {\n                    result_container.html(r);\n                },\n                error: function() {\n                    result_container.html(html_cache);\n                    tutor_toast('Failed', 'Request Error', 'error');\n                }\n            })\n        }\n\n        root.on('change', '.course-category-filter [type=\"checkbox\"]', function() {\n\n            var values = {};\n\n            $(this).closest('.course-category-filter').find('input:checked').each(function() {\n                values[$(this).val()] = $(this).parent().text();\n            });\n\n            // Show selected cat list\n            var cat_parent = root.find('.selected-cate-list').empty();\n            var cat_ids = Object.keys(values);\n\n            cat_ids.forEach(function(value) {\n                cat_parent.append('<span>'+values[value]+' <span class=\"tutor-icon-line-cross\" data-cat_id=\"'+value+'\"></span></span>');\n            });\n\n            cat_ids.length ? cat_parent.append('<span data-cat_id=\"0\">Clear All</span>') : 0;\n\n            run_instructor_filter($(this).attr('name'), cat_ids);\n        })\n        .on('click', '.selected-cate-list [data-cat_id]', function() {\n\n            var id = $(this).data('cat_id');\n            var inputs = root.find('.mobile-filter-popup [type=\"checkbox\"]');\n            id ? inputs = inputs.filter('[value=\"'+id+'\"]') : 0;\n            \n            inputs.prop('checked', false).trigger('change');\n        })\n        .on('input', '.filter-pc [name=\"keyword\"]', function() {\n            // Get values on search keyword change\n            \n            var val = $(this).val();\n\n            time_out ? window.clearTimeout(time_out) : 0;\n\n            time_out = window.setTimeout(function() {\n\n                run_instructor_filter('keyword', val);\n                time_out = null;\n\n            }, 500);\n        })\n        .on('click', '[data-page_number]', function(e) {\n\n            // On pagination click\n            e.preventDefault();\n            \n            run_instructor_filter(null, null, $(this).data( 'page_number' ) );\n\n        }).on('click', '.clear-instructor-filter', function() {\n\n            // Clear filter\n            var root = $(this).closest('.tutor-instructor-filter');\n            \n            root.find('input[type=\"checkbox\"]').prop('checked', false);\n\n            root.find('[name=\"keyword\"]').val('');\n            \n            run_instructor_filter();\n        })\n        .on('click', '.mobile-filter-container i', function () {\n            // Open mobile screen filter\n            $(this).parent().next().addClass('is-opened');\n        })\n        .on('click', '.mobile-filter-popup button', function() {\n            \n            $('.mobile-filter-popup [type=\"checkbox\"]').trigger('change');\n            \n            // Close mobile screen filter\n            $(this).closest('.mobile-filter-popup').removeClass('is-opened');\n\n        }).on('input', '.filter-mobile [name=\"keyword\"]', function() {\n\n            // Sync keyword with two screen\n            \n            root.find('.filter-pc [name=\"keyword\"]').val($(this).val()).trigger('input');\n\n        }).on('change', '.mobile-filter-popup [type=\"checkbox\"]', function(e) {\n\n            if(e.originalEvent) {\n                return;\n            }\n\n            // Sync category with two screen\n            var name = $(this).attr('name');\n            var val = $(this).val();\n            var checked = $(this).prop('checked');\n\n            root.find('.course-category-filter [name=\"'+name+'\"]').filter('[value=\"'+val+'\"]').prop('checked', checked).trigger('change');\n        \n        }).on('mousedown touchstart', '.expand-instructor-filter', function(e) {\n            \n            var window_height = $(window).height();\n            var el = root.find('.mobile-filter-popup>div');\n            var el_top = window_height-el.height();\n            var plus = ((e.originalEvent.touches || [])[0] || e).clientY - el_top;\n\n            root.on('mousemove touchmove', function(e){\n\n                var y = ((e.originalEvent.touches || [])[0] || e).clientY;\n\n                var height = (window_height-y)+plus;\n                \n                (height>200 && height<=window_height) ? el.css('height', height+'px') : 0;\n            });\n        \n        }).on('mouseup touchend', function(){\n\n            root.off('mousemove touchmove');\n        })\n        .on('click', '.mobile-filter-popup>div', function(e) {\n            e.stopImmediatePropagation();\n        }).on('click', '.mobile-filter-popup', function(e) {\n            $(this).removeClass('is-opened');;\n        });\n    });\n\n    /**\n     * Retake course\n     * \n     * @since v1.9.5\n     */\n    $('.tutor-course-retake-button').click(function(e) {\n        e.preventDefault();\n\n        var button = $(this);\n        var url = button.attr('href');\n        var course_id = button.data('course_id');\n\n        var popup;\n\n        var data = {\n            title: __('Override Previous Progress', 'tutor'),\n            description : __('Before continue, please decide whether to keep progress or reset.', 'tutor'),\n            buttons : {\n                reset: {\n                    title: __('Reset Data', 'tutor'),\n                    class: 'secondary',\n\n                    callback: function() {\n\n                        var button = popup.find('.tutor-button-secondary');\n                        button.prop('disabled', true).append('<img style=\"margin-left: 7px\" src=\"'+ window._tutorobject.loading_icon_url +'\"/>');\n\n                        $.ajax({\n                            url: window._tutorobject.ajaxurl,\n                            type: 'POST',\n                            data: {action: 'tutor_reset_course_progress', course_id: course_id},\n                            success: function(response) {\n                                if(response.success) {\n                                    window.location.assign(response.data.redirect_to);\n                                } else {\n                                    alert((response.data || {}).message || __('Something went wrong', 'tutor'));\n                                }\n                            },\n                            complete: function() {\n                                button.prop('disabled', false).find('img').remove();\n                            }\n                        });\n                    }\n                },\n                keep: {\n                    title: __('Keep Data', 'tutor'),\n                    class: 'primary',\n                    callback: function() {\n                        window.location.assign(url);\n                    }\n                }\n            } \n        };\n\n        popup = new window.tutor_popup($, 'icon-gear', 40).popup(data);\n    });\n\n\n    //warn user before leave page if quiz is running\n    document.body.addEventListener('click', function(event){\n        const target      = event.target;\n        const targetTag   = target.tagName \n        const parentTag   = target.parentElement.tagName;\n\n        if ( $tutor_quiz_time_update.length > 0 && $tutor_quiz_time_update.html() != 'EXPIRED' ) {\n            if ( targetTag === 'A' || parentTag === 'A' ) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                let popup;\n\n                let data = {\n                    title: __( 'Abandon Quiz?', 'tutor' ),\n                    description : __( 'Do you want to abandon this quiz? The quiz will be submitted partially up to this question if you leave this page.', 'tutor' ),\n                    buttons : {\n                        keep: {\n                            title: __( 'Yes, leave quiz', 'tutor' ),\n                            id: 'leave',\n                            class: 'secondary',\n                            callback: function() {\n\n                                var formData = $('form#tutor-answering-quiz').serialize()+'&action='+'tutor_quiz_abandon';\n                                $.ajax({\n                                    url: window._tutorobject.ajaxurl,\n                                    type: 'POST',\n                                    data: formData,\n                                    beforeSend: function() {\n                                       document.querySelector(\"#tutor-popup-leave\").innerHTML = __( 'Leaving...', 'tutor' ); \n                                    },\n                                    success: function(response) {\n                                        if(response.success) {\n                                            if ( target.href == undefined ) {\n                                                location.href = target.parentElement.href\n                                            } else {\n                                                location.href = target.href\n                                            }\n                                        } else {\n                                            alert( __( 'Something went wrong', 'tutor' ) );\n                                        }\n                                    },\n                                    error: function() {\n                                        alert( __( 'Something went wrong', 'tutor' ) );\n                                        popup.remove();\n                                    }\n                                });\n                            }\n                        },\n                        reset: {\n                            title: __('Stay here', 'tutor'),\n                            id: 'reset',\n                            class: 'primary',\n                            callback: function() {\n                                popup.remove();\n                            }\n                        },\n                    } \n                };\n        \n                popup = new window.tutor_popup($, '', 40).popup(data);\n            }\n        }\n    });\n\n    /* Disable start quiz button  */\n    $('body').on('submit', 'form#tutor-start-quiz', function() {\n        $(this).find('button').prop('disabled', true);\n    });\n});"],"names":["jQuery","document","ready","$","wp","i18n","__","_x","_n","_nx","select2","escapeMarkup","markup","a","f","b","originalEvent","touches","length","preventDefault","c","changedTouches","d","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","support","touch","e","ui","mouse","prototype","_mouseInit","_mouseDestroy","_touchStart","_mouseCapture","_touchMoved","_touchMove","_touchEnd","element","bind","touchstart","proxy","touchmove","touchend","call","unbind","videoPlayer","ajaxurl","_tutorobject","nonce_key","video_data","video_track_data","val","JSON","parse","track_player","that","Plyr","player","on","event","instance","detail","plyr","best_watch_time","duration","Math","round","media","currentTime","sync_time","tempTimeNow","intervalSeconds","tempTimeNowInSec","data","is_ended","autoload_next_course_content","autoload_content","options","post_id","action","data_send","Object","assign","post","done","response","success","next_url","location","href","init","tutor_slugify","text","toString","toLowerCase","replace","toggle_star_","star","add","prevAll","filter","addClass","removeClass","nextAll","rating","attr","closest","find","value","parseInt","selected","$that","review","trim","course_id","alert","ajax","url","type","beforeSend","review_id","html","tutor_popup","popup","title","description","setTimeout","reload","hide","siblings","slideToggle","toggle","$form","serializeObject","complete","question_id","conf","tinymce","wpautop","toolbar1","editor","initialize","remove","$tutor_quiz_time_update","attempt_settings","attempt_meta","time_limit","time_limit_seconds","countDownDate","Date","attempt_started_at","getTime","time_now","date_time_now","tutor_quiz_interval","setInterval","distance","days","floor","hours","minutes","seconds","countdown_human","clearInterval","quiz_options","quiz_when_time_expires","submit","quiz_id","tutor_quiz_remaining_time_secs","quiz_timeout_data","att","prop","css","attemptAllowed","attemptRemaining","alertDiv","$quiz_start_form","quiz_auto_start","attempt_id","attempt_answer_id","mark_as","toggleClass","stopPropagation","slideDown","lesson","status","redirect_to","enable_lesson_classic_editor","lesson_id","$wrap","page_title","history","pushState","Event","init_quiz_builder","tabSelector","show","sortable","handle","start","placeholder","stop","disableSelection","connectWith","hasClass","prev","$question_wrap","validated","tutor_quiz_validation","feedBackNext","feedback_response","match","next_question_id","$nextQuestion","feedBackMode","$questions_wrap","each","index","question","$question","limit","short_answer_characters_limit","open_ended_answer_characters_limit","remaining","substr","countDraggableAnswers","draggableDivHeight","height","$required_answer_wrap","$inputs","$type","input","$matchingDropable","matching","goNext","quiz_answers","atob","tutor_quiz_context","split","reverse","join","Array","isArray","validatedTrue","$checkedInputs","$input","isTrue","indexOf","append","checked","is","login_url","fadeIn","fadeOut","keyCode","fn","ShareLink","$social_share_wrap","share_config","image","class_prefix","width","datepicker","$btn","successMsg","msg","slideUp","next","$responseDiv","Msg","available_balance","tutor_url","frontEndModal","modal","element_id","res","placeholder_img_src","form_data","assignment_answer","frame","open","button","library","multiple","attachment","state","get","first","toJSON","id","trigger","enable_sorting_topic_lesson","tutor_sorting_topics_and_lesson","items","topics","item","$topic","topics_id","lessons","lessonIndex","lessonItem","$lesson","stringify","content","tinyMCE","getContent","inputid","lesson_content","course_contents","tutor_toast","error","attachments","i","inputHtml","filename","$parent","topic_id","output","tinyMCEPreInit","mceInit","course_description","execCommand","quicktags","assignment_id","assignment_content","field_markup","tutor_course_builder","auto_draft_save_course_builder","tutor_ajax_action","json_data","$file","files","reader","FileReader","onload","result","readAsDataURL","thread_id","thread_head_html","tutor_bp_setting_enrolled_courses_list","$li","itemShow","plusCourseCount","liIndex","liItem","$liItem","infoHtml","click","$content","parent","copy","copied","dummy","createElement","body","appendChild","select","removeChild","container","has","$form_wrapper","redirect","error_message","prepend","price_type","change","method","tutor_tooltip","which","filter_container","loop_container","filter_modifier","filter_criteria","loading_icon_url","r","URL","page","searchParams","tutor_course_filter","archive_loop","sessionStorage","getItem","removeItem","setItem","PhotoEditor","photo_editor","dialogue_box","open_dialogue_box","name","validate_image","file","upload_selected_image","nonce","tutor_get_nonce_data","context","toggle_loader","FormData","key","processData","contentType","error_alert","accept_upload_image","currentTarget","update_preview","delete_image","photo_type","renderer","toggle_profile_pic_action","undefined","root","filter_args","time_out","run_instructor_filter","page_number","result_container","html_cache","attributes","current_page","values","cat_parent","empty","cat_ids","keys","forEach","inputs","clearTimeout","window_height","el","el_top","plus","y","off","stopImmediatePropagation","buttons","reset","callback","message","keep","addEventListener","targetTag","tagName","parentTag","parentElement","formData","serialize","querySelector","innerHTML"],"sourceRoot":""}