(()=>{var o={845:()=>{!function(){"use strict";b()}();var t=document.querySelectorAll("ul.tutor-option-nav"),a=document.querySelectorAll("li.tutor-option-nav-item a"),r=document.querySelectorAll(".tutor-option-nav-page");t.forEach(function(t){t.addEventListener("click",function(e){var t,o=e.target.parentElement.dataset.tab||e.target.dataset.tab,n=e.target.parentElement.dataset.page||e.target.dataset.page;o&&(a.forEach(function(t){t.classList.remove("active"),(e.target.dataset.tab?e.target:e.target.parentElement).classList.add("active")}),r.forEach(function(t){t.classList.remove("active")}),document.querySelector("#".concat(o)).classList.add("active"),t=new URL(window.location),o=new URLSearchParams({page:n,tab_page:o}),o="".concat(t.origin+t.pathname,"?").concat(o.toString()),window.history.pushState({},"",o))})});var o=document.querySelector(".monetization-fees"),e=document.querySelector(".monetization-fees input[name=deduct-fees]");o&&e&&(window.addEventListener("load",function(){return n(e,o)}),e.addEventListener("change",function(){return n(e,o)}));var n=function(t,e){t.checked?(e.classList.remove("is-disable"),i(o,!1)):(e.classList.add("is-disable"),i(o,!0))},i=function(t,e){t.querySelectorAll(".tutor-option-field-row:nth-child(2) textarea, .tutor-option-field-row:nth-child(3) select, .tutor-option-field-row:nth-child(3) input").forEach(function(t){return t.disabled=e})},s=document.querySelectorAll(".image-previewer"),c=document.querySelectorAll(".image-previewer img"),u=document.querySelectorAll(".image-previewer input[type=file]"),t=document.querySelectorAll(".image-previewer .delete-btn");u&&t&&(document.addEventListener("DOMContentLoaded",function(){s.forEach(function(e){c.forEach(function(t){t.getAttribute("src")?t.closest(".image-previewer").classList.add("is-selected"):e.classList.remove("is-selected")})})}),u.forEach(function(r){r.addEventListener("change",function(t){var e=this.files[0],o=r.closest(".image-previewer"),n=o.querySelector("img"),a=o.querySelector(".preview-loading");e&&(a.classList.add("is-loading"),l(e,n),o.classList.add("is-selected"),setTimeout(function(){a.classList.remove("is-loading")},200))})}),t.forEach(function(t){t.addEventListener("click",function(t){var e=this.closest(".image-previewer");e.querySelector("img").setAttribute("src",""),e.classList.remove("is-selected")})}));var l=function(t,e){var o=new FileReader;o.onload=function(){e.setAttribute("src",this.result)},o.readAsDataURL(t)},d=document.querySelector("input[type=number]#revenue-instructor"),p=document.querySelector("input[type=number]#revenue-admin"),m=document.querySelectorAll(".revenue-percentage input[type=number]");d&&p&&m&&(d.addEventListener("input",function(t){t.target.value<=100&&(p.value=100-t.target.value),f(t.target.value)}),p.addEventListener("input",function(t){t.target.value<=100&&(d.value=100-t.target.value),f(t.target.value)}));var f=function(t){100<t?m.forEach(function(t){return t.classList.add("warning")}):m.forEach(function(t){return t.classList.remove("warning")})},v=document.querySelector(".input-field-code textarea"),t=document.querySelector(".code-copy-btn");t&&v&&t.addEventListener("click",function(t){var e=this;t.preventDefault(),this.focus(),v.select(),document.execCommand("copy");var o=this.innerHTML;setTimeout(function(){e.innerHTML=o},3e3),this.innerHTML='\n\t\t\t<span class="tutor-btn-icon las la-clipboard-list"></span>\n\t\t\t<span>Copied to Clipboard!</span>\n\t\t'});var h,g;h=document.querySelectorAll(".popup-opener .popup-btn"),g=document.querySelectorAll(".popup-opener .popup-menu"),h&&g&&(h.forEach(function(t){t.addEventListener("click",function(t){var e=t.target.closest(".popup-opener").querySelector(".popup-menu");e.classList.toggle("visible"),g.forEach(function(t){t!==e&&t.classList.remove("visible")})})}),window.addEventListener("click",function(t){t.target.matches(".popup-opener .popup-btn")||g.forEach(function(t){t.classList.contains("visible")&&t.classList.remove("visible")})})),document.querySelectorAll(".drag-drop-zone input[type=file]").forEach(function(e){var o=e.closest(".drag-drop-zone");["dragover","dragleave","dragend"].forEach(function(t){"dragover"===t?o.addEventListener(t,function(t){t.preventDefault(),o.classList.add("dragover")}):o.addEventListener(t,function(t){o.classList.remove("dragover")})}),o.addEventListener("drop",function(t){t.preventDefault();t=t.dataTransfer.files;_(t,e,o),o.classList.remove("dragover")}),e.addEventListener("change",function(t){t=t.target.files;_(t,e,o)})});var _=function(t,e,o){t.length?(e.files=t,o.classList.add("file-attached"),o.querySelector(".file-info").innerHTML="File attached - ".concat(t[0].name)):(o.classList.remove("file-attached"),o.querySelector(".file-info").innerHTML="")};function b(){window.matchMedia("(max-width: 992px)").matches?document.querySelectorAll(".tooltip-right").forEach(function(t){t.classList.replace("tooltip-right","tooltip-left")}):document.querySelectorAll(".tooltip-left").forEach(function(t){t.classList.replace("tooltip-left","tooltip-right")})}window.addEventListener("resize",b)},412:()=>{"use strict";var _='<svg class="tutor-icon-v2 angle-right" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.842 12.633C7.80402 12.6702 7.7592 12.6998 7.71 12.72C7.65839 12.7401 7.60341 12.7503 7.548 12.75C7.49655 12.7496 7.44563 12.7395 7.398 12.72C7.34843 12.7005 7.30347 12.6709 7.266 12.633L6.88201 12.252C6.84384 12.2138 6.81284 12.1691 6.79051 12.12C6.76739 12.0694 6.75367 12.015 6.75001 11.9595C6.74971 11.9045 6.75832 11.8498 6.77551 11.7975C6.79308 11.7477 6.82181 11.7025 6.85951 11.6655L9.53249 9.00001L6.86701 6.33453C6.82576 6.29904 6.79427 6.2536 6.77551 6.20253C6.75832 6.15026 6.74971 6.09555 6.75001 6.04053C6.75367 5.98502 6.76739 5.93064 6.79051 5.88003C6.81284 5.8309 6.84384 5.78619 6.88201 5.74803L7.263 5.36704C7.30047 5.32916 7.34543 5.29953 7.395 5.28004C7.44263 5.26056 7.49355 5.25038 7.545 5.25004C7.60142 5.24931 7.65745 5.2595 7.71 5.28004C7.7592 5.30025 7.80402 5.3298 7.842 5.36704L11.181 8.70752C11.2233 8.74442 11.2579 8.78926 11.283 8.83951C11.3077 8.88941 11.3206 8.94433 11.3206 9.00001C11.3206 9.05569 11.3077 9.11062 11.283 9.16051C11.2579 9.21076 11.2233 9.25561 11.181 9.29251L7.842 12.633Z" fill="#B4B7C0"/></svg>',b='<svg class="tutor-icon-v2 magnifying-glass" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.3056 5.375C7.58249 5.375 5.375 7.58249 5.375 10.3056C5.375 13.0286 7.58249 15.2361 10.3056 15.2361C13.0286 15.2361 15.2361 13.0286 15.2361 10.3056C15.2361 7.58249 13.0286 5.375 10.3056 5.375ZM4.125 10.3056C4.125 6.89214 6.89214 4.125 10.3056 4.125C13.719 4.125 16.4861 6.89214 16.4861 10.3056C16.4861 13.719 13.719 16.4861 10.3056 16.4861C6.89214 16.4861 4.125 13.719 4.125 10.3056Z" fill="#9CA0AC"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.7874 13.7872C14.0314 13.5431 14.4272 13.5431 14.6712 13.7872L17.6921 16.8081C17.9362 17.0521 17.9362 17.4479 17.6921 17.6919C17.448 17.936 17.0523 17.936 16.8082 17.6919L13.7874 14.6711C13.5433 14.427 13.5433 14.0313 13.7874 13.7872Z" fill="#9CA0AC"/></svg>',a='<svg class="tutor-icon-v2 warning" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.0388 14.2395C18.2457 14.5683 18.3477 14.9488 18.3321 15.3333C18.3235 15.6951 18.2227 16.0493 18.0388 16.3647C17.851 16.6762 17.5885 16.9395 17.2733 17.1326C16.9301 17.3257 16.5383 17.4237 16.1412 17.4159H5.87591C5.47974 17.4234 5.08907 17.3253 4.74673 17.1326C4.42502 16.9409 4.15549 16.6776 3.96071 16.3647C3.77376 16.0506 3.67282 15.6956 3.66741 15.3333C3.6596 14.9496 3.76106 14.5713 3.96071 14.2395L9.11094 5.64829C9.29701 5.31063 9.58016 5.03215 9.9263 4.84641C10.2558 4.67355 10.6248 4.58301 10.9998 4.58301C11.3747 4.58301 11.7437 4.67355 12.0732 4.84641C12.4259 5.02952 12.7154 5.30825 12.9062 5.64829L18.0388 14.2395ZM11.7447 10.4086C11.7447 10.2131 11.7653 10.0176 11.7799 9.81924C11.7946 9.62089 11.8063 9.41971 11.818 9.21853C11.8178 9.1484 11.8129 9.07836 11.8034 9.00885C11.7916 8.94265 11.7719 8.87799 11.7447 8.81617C11.6644 8.64655 11.5255 8.50928 11.3517 8.42798C11.1805 8.3467 10.9848 8.32759 10.8003 8.37414C10.6088 8.42217 10.4413 8.53471 10.3281 8.69149C10.213 8.84985 10.1525 9.03921 10.1551 9.2327C10.1551 9.3602 10.1756 9.48771 10.1844 9.61239C10.1932 9.73706 10.202 9.86457 10.2137 9.99208C10.2401 10.4709 10.2695 10.947 10.2988 11.4088C10.3281 11.8707 10.3545 12.3552 10.3838 12.8256C10.3857 12.9019 10.4032 12.9771 10.4352 13.0468C10.4672 13.1166 10.5131 13.1796 10.5703 13.2322C10.6275 13.2849 10.6948 13.3261 10.7685 13.3536C10.8422 13.381 10.9208 13.3942 10.9998 13.3923C11.0794 13.3946 11.1587 13.3813 11.2328 13.353C11.307 13.3248 11.3744 13.2822 11.4309 13.228C11.5454 13.1171 11.6115 12.968 11.6157 12.8114V12.5281C11.6157 12.4317 11.6157 12.3382 11.6157 12.2447C11.6362 11.9415 11.6538 11.6327 11.6743 11.3238C11.6949 11.015 11.7271 10.7118 11.7447 10.4086ZM10.9998 15.5118C11.1049 15.5119 11.2091 15.4919 11.3062 15.453C11.4034 15.4141 11.4916 15.3571 11.5658 15.2851C11.6441 15.2191 11.7061 15.137 11.7472 15.0448C11.7883 14.9526 11.8075 14.8527 11.8034 14.7524C11.8053 14.6497 11.7863 14.5476 11.7474 14.452C11.7085 14.3564 11.6505 14.2692 11.5767 14.1953C11.5029 14.1213 11.4147 14.0621 11.3172 14.0211C11.2197 13.9801 11.1149 13.958 11.0086 13.9562C10.9023 13.9543 10.7966 13.9727 10.6977 14.0103C10.5987 14.0479 10.5084 14.1039 10.4319 14.1752C10.3553 14.2465 10.2941 14.3317 10.2516 14.4259C10.2092 14.52 10.1863 14.6214 10.1844 14.7241C10.1844 14.933 10.2703 15.1333 10.4232 15.2811C10.5761 15.4288 10.7835 15.5118 10.9998 15.5118Z" fill="#9CA0AC"/></svg>';document.addEventListener("DOMContentLoaded",function(){for(var e=window.jQuery,o=document.querySelectorAll(".image_upload_button"),t=0;t<o.length;++t)!function(t){var e=o[t].closest(".image-previewer"),n=e.querySelector(".input_file"),a=e.querySelector(".upload_preview"),e=e.querySelector(".delete-btn");o[t].onclick=function(t){t.preventDefault();var o=wp.media({title:"Upload Image",library:{type:"image"},multiple:!1,frame:"post",state:"insert"});o.open(),o.on("insert",function(t){var e=o.state();(t=t||e.get("selection"))&&(t=t.first(),e=e.display(t).toJSON(),e=(t=t.toJSON()).sizes[e.size].url,a.src=n.value=e)})},e.onclick=function(){n.value=""}}(t);e(window).on("click",function(t){e(".tutor-notification, .search_result").removeClass("show")}),e(".tutor-notification-close").click(function(t){e(".tutor-notification").removeClass("show")}),e("#save_tutor_option").click(function(t){t.preventDefault(),e("#tutor-option-form").submit()}),e("#tutor-option-form").submit(function(t){t.preventDefault();t=e(this).serializeObject();e.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){},success:function(t){e(".tutor-notification").addClass("show"),setTimeout(function(){e(".tutor-notification").removeClass("show")},4e3)},complete:function(){}})}),e("#search_settings").on("input",function(t){var g;t.preventDefault(),t.target.value?(g=this.value,e.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_option_search",keyword:g},success:function(t){var s,c,u,l,d,p,m,f="",v=!0,h="",t=t.data.fields;Object.values(t).forEach(function(t,e,o){var n,a,r,i;h=t.label,c=t.section_slug,u=t.section_label,l=t.block_label,m=t.key,p=new RegExp(g,"ig"),(d=null===(i=h.match(p))||void 0===i?void 0:i[0])&&(s=h.replace(p,"<span style='color: #212327; font-weight:500'>".concat(d,"</span>")),f+=(n=s,a=c,r=u,t=m,i=(i=l)?"".concat(_," ").concat(i):"",'\n\t\t<a data-tab="'.concat(a,'" data-key="field_').concat(t,'">\n\t\t\t<div class="search_result_title">\n\t\t\t').concat(b,'\n\t\t\t<span class="text-regular-caption">').concat(n,'</span>\n\t\t\t</div>\n\t\t\t<div class="search_navigation">\n\t\t\t<div class="nav-track text-regular-small">\n\t\t\t\t<span>').concat(r,"</span>\n\t\t\t\t<span>").concat(i,"</span>\n\t\t\t</div>\n\t\t\t</div>\n\t\t</a>")),v=!1)}),v&&(f+='<div class="no_item"> '.concat(a," No Results Found</div>")),e(".search_result").html(f).addClass("show"),f=""},complete:function(){var t,a,r;t=document.querySelectorAll(".search-field .search-popup-opener a"),a=document.querySelectorAll("li.tutor-option-nav-item a"),r=document.querySelectorAll(".tutor-option-nav-page"),t.forEach(function(t){t.addEventListener("click",function(t){var e,o,n=t.target.closest("[data-tab]").dataset.tab,t=t.target.closest("[data-key]").dataset.key;n&&(a.forEach(function(t){t.classList.remove("active")}),document.querySelector(".tutor-option-tabs [data-tab=".concat(n,"]")).classList.add("active"),r.forEach(function(t){t.classList.remove("active")}),document.querySelector(".tutor-option-tab-pages #".concat(n)).classList.add("active"),(e=new URL(window.location)).searchParams.set("tab_page",n),window.history.pushState({},"",e)),document.querySelector(".search-popup-opener").classList.remove("visible"),document.querySelector('.search-field input[type="search"]').value="",e=t,t=document.querySelector("#".concat(e)),o=t&&t.querySelector(".tutor-option-field-label label"),e=t&&t.parentNode.querySelector(".tutor-option-field-row"),console.log("target -> ".concat(t," scrollTarget -> ").concat(e)),e?(o.classList.add("isHighlighted"),setTimeout(function(){o.classList.remove("isHighlighted")},6e3),e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})):console.warn("scrollTargetEl Not found!")})})}})):document.querySelector(".search-popup-opener").classList.remove("show")});var n=document.querySelector("#export_settings");n&&n.addEventListener("click",function(t){t.preventDefault(),fetch(_tutorobject.ajaxurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:new URLSearchParams({action:"tutor_export_settings"})}).then(function(t){return t.json()}).then(function(t){var e=new Blob([JSON.stringify(t)],{type:"application/json"}),t=URL.createObjectURL(e),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","tutor_options"),e.click(),document.body.removeChild(e)}).catch(function(t){return console.log(t)})})})},996:()=>{window.jQuery(document).ready(function(n){window.wp.i18n.__;n(document).on("click",".tutor-thumbnail-uploader .tutor-thumbnail-upload-button",function(t){t.preventDefault();var e,o=n(this).closest(".tutor-thumbnail-uploader");e||(e=wp.media({title:o.data("media-heading"),button:{text:o.data("button-text")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.find("img").attr("src",t.url),o.find('input[type="hidden"].tutor-tumbnail-id-input').val(t.id),o.find(".delete-btn").show()}),e.open()}),n(document).on("click",".tutor-thumbnail-uploader .delete-btn",function(t){t.preventDefault();var e=n(this),t=e.closest(".tutor-thumbnail-uploader");t.find('input[type="hidden"].tutor-tumbnail-id-input').val(""),t.find("img").attr("src",""),e.hide()})})},896:()=>{window.jQuery(document).ready(function(o){var n=wp.i18n.__;o(document).on("click",".tutor-copy-text",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=o(this).data("text"),t=o("<input>");o("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove(),tutor_toast(n("Copied!","tutor"),e,"success")})})},983:()=>{document.addEventListener("click",function(t){var e,o="data-tutor-tab-target",n=document.querySelectorAll(".tab-header-item.is-active, .tab-body-item.is-active");t.target.hasAttribute(o)&&(t.preventDefault(),e=(t.target.hasAttribute(o)?t.target:t.target.closest("[".concat(o,"]"))).getAttribute(o),e=document.getElementById(e),t.target.hasAttribute(o)&&e&&(n.forEach(function(t){t.classList.remove("is-active")}),t.target.classList.add("is-active"),e.classList.add("is-active")))})},961:()=>{!function(){"use strict";document.addEventListener("click",function(t){var e="data-tutor-modal-target",o="data-tutor-modal-close";(t.target.hasAttribute(e)||t.target.closest("[".concat(e,"]")))&&(t.preventDefault(),e=(t.target.hasAttribute(e)?t.target:t.target.closest("[".concat(e,"]"))).getAttribute(e),(e=document.getElementById(e))&&e.classList.add("tutor-is-active")),(t.target.hasAttribute(o)||t.target.classList.contains("tutor-modal-overlay")||t.target.closest("[".concat(o,"]")))&&(t.preventDefault(),document.querySelectorAll(".tutor-modal.tutor-is-active").forEach(function(t){t.classList.remove("tutor-is-active")}))})}()},334:()=>{document.addEventListener("click",function(t){var e,o="data-tutor-notification-tab-target",n=document.querySelectorAll(".tab-header-item.is-active, .tab-body-item.is-active");t.target.hasAttribute(o)&&(t.preventDefault(),e=(t.target.hasAttribute(o)?t.target:t.target.closest("[".concat(o,"]"))).getAttribute(o),e=document.getElementById(e),t.target.hasAttribute(o)&&e&&(n.forEach(function(t){t.classList.remove("is-active")}),t.target.classList.add("is-active"),e.classList.add("is-active")))})},440:()=>{document.addEventListener("click",function(t){var e="data-tutor-offcanvas-target",o="data-tutor-offcanvas-close";t.target.hasAttribute(e)&&(t.preventDefault(),e=(t.target.hasAttribute(e)?t.target:t.target.closest("[".concat(e,"]"))).getAttribute(e),(e=document.getElementById(e))&&e.classList.add("is-active")),(t.target.hasAttribute(o)||t.target.classList.contains("tutor-offcanvas-backdrop")||t.target.closest("[".concat(o,"]")))&&(t.preventDefault(),document.querySelectorAll(".tutor-offcanvas.is-active").forEach(function(t){t.classList.remove("is-active")}))}),document.addEventListener("keydown",function(t){"Escape"===t.key&&document.querySelectorAll(".tutor-offcanvas.is-active").forEach(function(t){t.classList.remove("is-active")})})},869:()=>{document.addEventListener("click",function(t){var e="data-tutor-popup-target";t.target.hasAttribute(e)?(t.preventDefault(),e=(t.target.hasAttribute(e)?t.target:t.target.closest("[".concat(e,"]"))).getAttribute(e),(e=document.getElementById(e)).classList.contains("visible")?e.classList.remove("visible"):(document.querySelectorAll(".tutor-popup-opener .popup-menu").forEach(function(t){t.classList.remove("visible")}),e.classList.add("visible"))):document.querySelectorAll(".tutor-popup-opener .popup-menu").forEach(function(t){t.classList.remove("visible")})})},656:()=>{!function(){var t=document.querySelectorAll(".tutor-thumbnail-uploader"),o=document.querySelectorAll(".tutor-thumbnail-uploader img"),e=document.querySelectorAll(".tutor-thumbnail-uploader input[type=file]"),n=document.querySelectorAll(".tutor-thumbnail-uploader .delete-btn");e&&n&&(document.addEventListener("DOMContentLoaded",function(){t.forEach(function(e){o.forEach(function(t){t.getAttribute("src")?t.closest(".image-previewer").classList.add("is-selected"):e.classList.remove("is-selected"),console.log(t)})})}),e.forEach(function(r){r.addEventListener("change",function(t){var e=this.files[0],o=r.closest(".image-previewer"),n=o.querySelector("img"),a=o.querySelector(".preview-loading");e&&(a.classList.add("is-loading"),i(e,n),o.classList.add("is-selected"),setTimeout(function(){a.classList.remove("is-loading")},200))})}),n.forEach(function(t){t.addEventListener("click",function(t){var e=this.closest(".image-previewer");e.querySelector("img").setAttribute("src",""),e.classList.remove("is-selected")})}));var i=function(t,e){var o=new FileReader;o.onload=function(){e.setAttribute("src",this.result)},o.readAsDataURL(t)}}()}},n={};function b(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={exports:{}};return o[t](e,e.exports,b),e.exports}(()=>{"use strict";b(961),b(656),b(869),b(440),b(334),b(983);function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,a,r=[],i=!0,s=!1;try{for(o=o.call(t);!(i=(n=o.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){s=!0,a=t}finally{try{i||null==o.return||o.return()}finally{if(s)throw a}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}window.tutor_get_nonce_data=function(t){var e=window._tutorobject||{},o=e.nonce_key||"",e=e[o]||"";return t?{key:o,value:e}:(t=e,(e=o)in(o={})?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o)},window.tutor_popup=function(i,o,n){var s,c=this;return this.popup_wrapper=function(t){var e=""===o?"":'<img class="tutor-pop-icon" src="'+window._tutorobject.tutor_url+"assets/images/"+o+'.svg"/>';return"<"+t+' class="tutor-component-popup-container">            <div class="tutor-component-popup-'+n+'">                <div class="tutor-component-content-container">'+e+'</div>                <div class="tutor-component-button-container"></div>            </div>        </'+t+">"},this.popup=function(o){var t=o.title?"<h3>"+o.title+"</h3>":"",e=o.description?"<p>"+o.description+"</p>":"",n=Object.keys(o.buttons||{}).map(function(t){var e=o.buttons[t],t=e.id?"tutor-popup-"+e.id:"";return i('<button id="'+t+'" class="tutor-button tutor-button-'+e.class+'">'+e.title+"</button>").click(e.callback)}),a=(s=i(c.popup_wrapper(o.wrapper_tag||"div"))).find(".tutor-component-content-container");a.append(t),o.after_title&&a.append(o.after_title),a.append(e),o.after_description&&a.append(o.after_description),s.click(function(){i(this).remove()}).children().click(function(t){t.stopPropagation()});for(var r=0;r<n.length;r++)s.find(".tutor-component-button-container").append(n[r]);return i("body").append(s),s},{popup:this.popup}},window.tutorDotLoader=function(t){return'    \n    <div class="tutor-dot-loader '.concat(t||"",'">\n        <span class="dot dot-1"></span>\n        <span class="dot dot-2"></span>\n        <span class="dot dot-3"></span>\n        <span class="dot dot-4"></span>\n    </div>')},window.tutor_date_picker=function(){var t;jQuery.datepicker&&(t=_tutorobject.wp_date_format||"yy-mm-dd",$(".tutor_date_picker").datepicker({dateFormat:t}))},jQuery(document).ready(function(i){var t=wp.i18n,a=t.__;t._x,t._n,t._nx;function o(){var t;jQuery.datepicker&&(t=_tutorobject.wp_date_format||"yy-mm-dd",i(".tutor_date_picker").datepicker({dateFormat:t})),i(document).on("keydown",".hasDatepicker, .tutor_date_picker",function(t){8!==t.keyCode&&t.preventDefault()})}function e(t){var e=t.element;return i('<span><i class="tutor-icon-'+i(e).data("icon")+'"></i> '+t.text+"</span>")}o(),jQuery().select2&&i(".videosource_select2").select2({width:"100%",templateSelection:e,templateResult:e,allowHtml:!0}),i(document).on("click",".tutor-course-thumbnail-upload-btn",function(t){t.preventDefault();var e,o=i(this);e||(e=wp.media({title:a("Select or Upload Media Of Your Chosen Persuasion","tutor"),button:{text:a("Use this media","tutor")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.closest(".tutor-thumbnail-wrap").find(".thumbnail-img").attr("src",t.url),o.closest(".tutor-thumbnail-wrap").find("input").val(t.id),i(".tutor-course-thumbnail-delete-btn").show()}),e.open()}),i(document).on("click",".tutor-course-thumbnail-delete-btn",function(t){t.preventDefault();var e=i(this),t=e.closest(".tutor-thumbnail-wrap").find(".thumbnail-img").attr("data-placeholder-src");e.closest(".tutor-thumbnail-wrap").find(".thumbnail-img").attr("src",t),e.closest(".tutor-thumbnail-wrap").find("input").val(""),i(".tutor-course-thumbnail-delete-btn").hide()}),i(document).on("change keyup",".course-edit-topic-title-input",function(t){t.preventDefault(),i(this).closest(".tutor-topics-top").find(".topic-inner-title").html(i(this).val())}),i(document).on("click",".tutor-topics-edit-button",function(t){t.preventDefault();var e=i(this),o=e.closest(".tutor-topics-wrap").find('[name="topic_id"]').val(),n=e.closest(".tutor-topics-wrap").find('[name="topic_title"]').val(),t=e.closest(".tutor-topics-wrap").find('[name="topic_summery"]').val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{topic_title:n,topic_summery:t,topic_id:o,action:"tutor_update_topic"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(e.closest(".tutor-topics-wrap").find("span.topic-inner-title").text(n),e.closest(".tutor-modal").removeClass("tutor-is-active"))},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click",".tutor-delete-lesson-btn",function(t){var e;t.preventDefault(),confirm(a("Are you sure?","tutor"))&&(t=(e=i(this)).attr("data-lesson-id"),i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:t,action:"tutor_delete_lesson_by_id"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&e.closest(".course-content-item").remove()},complete:function(){e.removeClass("tutor-updating-message")}}))}),i(document).on("click",".modal-close-btn",function(t){t.preventDefault(),i(".tutor-modal-wrap").removeClass("show")}),i(document).on("keyup",function(t){27===t.keyCode&&i(".tutor-modal-wrap").removeClass("show")}),i(document).on("click",".tutor-quiz-modal-tab-item",function(t){t.preventDefault();var e=i(this),o=i('[name="quiz_title"]');o.val()?(o.closest(".tutor-quiz-builder-form-row").find(".quiz_form_msg").html(""),t=e.attr("href"),i(".quiz-builder-tab-container").hide(),i(t).show(),i("a.tutor-quiz-modal-tab-item").removeClass("active"),e.addClass("active")):o.closest(".tutor-quiz-builder-form-row").find(".quiz_form_msg").html('<p class="quiz-form-warning">Please save the quiz first</p>')}),i(document).on("click",".quiz-modal-tab-navigation-btn.quiz-modal-btn-cancel",function(t){t.preventDefault(),i(".tutor-modal-wrap").removeClass("show")}),i(document).on("click",".tutor-quiz-answer-edit a",function(t){t.preventDefault();var e=i(this),t=e.closest(".tutor-quiz-answer-wrap").attr("data-answer-id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:t,action:"tutor_quiz_edit_question_answer"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){i("#tutor_quiz_question_answer_form").html(t.data.output)},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click","#quiz-answer-save-btn",function(t){t.preventDefault();var e=i(this),t=i("#tutor-quiz-question-wrapper :input").serializeObject();t.action="tutor_save_quiz_answer_options",i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){i("#quiz_validation_msg_wrap").html(""),e.addClass("tutor-updating-message")},success:function(t){i("#tutor_quiz_question_answers").trigger("refresh")},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click","#quiz-answer-edit-btn",function(t){t.preventDefault();var e=i(this),t=i("#tutor-quiz-question-wrapper :input").serializeObject();t.action="tutor_update_quiz_answer_options",i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){i("#tutor_quiz_question_answers").trigger("refresh")},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("change",".tutor-quiz-answers-mark-correct-wrap input",function(t){t.preventDefault();var e=i(this),o=e.val(),t=1;e.prop("checked")||(t=0),i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,inputValue:t,action:"tutor_mark_answer_as_correct"}})}),i(document).on("click",".tutor-quiz-answer-trash-wrap a.answer-trash-btn",function(t){t.preventDefault();var e=i(this),t=e.attr("data-answer-id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:t,action:"tutor_quiz_builder_delete_answer"},beforeSend:function(){e.closest(".tutor-quiz-answer-wrap").remove()}})}),i(document).on("click",".tutor-delete-quiz-btn",function(t){var e;t.preventDefault(),confirm(a("Are you sure?","tutor"))&&(t=(e=i(this)).attr("data-quiz-id"),i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:t,action:"tutor_delete_quiz_by_id"},beforeSend:function(){e.closest(".course-content-item").remove()}}))}),i(document).on("click",".tutor-media-upload-btn",function(t){t.preventDefault();var e,o=i(this);e||(e=wp.media({title:a("Select or Upload Media Of Your Chosen Persuasion","tutor"),button:{text:a("Use this media","tutor")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.html('<img src="'+t.url+'" alt="" />'),o.closest(".tutor-media-upload-wrap").find("input").val(t.id)}),e.open()}),i(document).on("click",".tutor-media-upload-trash",function(t){t.preventDefault();t=i(this);t.closest(".tutor-media-upload-wrap").find(".tutor-media-upload-btn").html('<i class="tutor-icon-image1"></i>'),t.closest(".tutor-media-upload-wrap").find("input").val("")});var n,r=(n=0,function(t,e){clearTimeout(n),n=setTimeout(t,e)});i(document).on("click",".tutor-add-instructor-btn",function(t){t.preventDefault();var e=i(this),t=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:t,action:"tutor_load_instructors_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(i(".tutor-instructors-modal-wrap .modal-container").html(t.data.output),i(".tutor-instructors-modal-wrap").addClass("show"))},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("change keyup",".tutor-instructors-modal-wrap .tutor-modal-search-input",function(t){t.preventDefault();var o=i(this),n=i(".tutor-modal-wrap");r(function(){var t=o.val(),e=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:e,search_terms:t,action:"tutor_load_instructors_modal"},beforeSend:function(){n.addClass("loading")},success:function(t){t.success&&(i(".tutor-instructors-modal-wrap .modal-container").html(t.data.output),i(".tutor-instructors-modal-wrap").addClass("show"))},complete:function(){n.removeClass("loading")}})},1e3)}),i(document).on("click",".add_instructor_to_course_btn",function(t){t.preventDefault();var e=i(this),o=i(".tutor-modal-wrap"),t=i("#post_ID").val(),o=o.find("input").serializeObject();o.course_id=t,o.action="tutor_add_instructors_to_course",i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(i(".tutor-course-available-instructors").html(t.data.output),i(".tutor-modal-wrap").removeClass("show"))},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click",".tutor-instructor-delete-btn",function(t){t.preventDefault();var e=i(this),o=i("#post_ID").val(),t=e.closest(".added-instructor-item").attr("data-instructor-id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:o,instructor_id:t,action:"detach_instructor_from_course"},success:function(t){t.success&&e.closest(".added-instructor-item").remove()}})}),i(document).on("click",".settings-tabs-navs li",function(t){t.preventDefault();var e=i(this),o=e.find("a").attr("data-target"),t=e.find("a").attr("href");e.addClass("active").siblings("li.active").removeClass("active"),i(".settings-tab-wrap").removeClass("active").hide(),i(o).addClass("active").show(),window.history.pushState({},"",t)}),i(document).on("lesson_modal_loaded quiz_modal_loaded assignment_modal_loaded",function(t,e){jQuery().select2&&i(".select2_multiselect").select2({dropdownCssClass:"increasezindex"}),o()}),i(document).on("keyup change",".tutor-number-validation",function(t){var e=i(this),o=parseInt(e.val()),n=parseInt(e.attr("data-min")),a=parseInt(e.attr("data-max"));o<n?e.val(n):a<o&&e.val(a)}),i(document).on("click",".tutor-instructor-feedback",function(t){t.preventDefault();var e=i(this);i.ajax({url:window.ajaxurl||_tutorobject.ajaxurl,type:"POST",data:{attempts_id:e.data("attemptid"),feedback:i(".tutor-instructor-feedback-content").val(),action:"tutor_instructor_feedback"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(e.closest(".course-content-item").remove(),tutor_toast(a("Success","tutor"),e.data("toast_success_message"),"success"))},complete:function(){e.removeClass("tutor-updating-message")}})});var s=i(".tutor-announcement-add-new"),c=i(".tutor-announcement-edit"),u=i(".tutor-announcement-delete"),l=i(".tutor-announcement-details"),t=i(".tutor-announcement-close-btn"),d=i(".tutor-accouncement-create-modal"),p=i(".tutor-accouncement-update-modal"),m=i(".tutor-accouncement-details-modal");function f(t,e){var o=new URL(window.location.href),n=o.searchParams;return n.set(t,e),o.search=n.toString(),_tutorobject.is_admin?n.set("paged",1):n.set("current_page",1),o.search=n.toString(),o.toString()}i(s).click(function(){d.addClass("show"),i("#tutor-annoucement-backend-create-modal").addClass("show")}),i(l).click(function(){var t=i(this).attr("announcement-date"),e=i(this).attr("announcement-id"),o=i(this).attr("course-id"),n=i(this).attr("course-name"),a=i(this).attr("announcement-title"),r=i(this).attr("announcement-summary");i(".tutor-announcement-detail-content").html("<h3>".concat(a,"</h3><p>").concat(r,"</p>")),i(".tutor-announcement-detail-course-info p").html("".concat(n)),i(".tutor-announcement-detail-date-info p").html("".concat(t)),i("#tutor-announcement-edit-from-detail").attr("announcement-id",e),i("#tutor-announcement-edit-from-detail").attr("course-id",o),i("#tutor-announcement-edit-from-detail").attr("announcement-title",a),i("#tutor-announcement-edit-from-detail").attr("announcement-summary",r),i("#tutor-announcement-delete-from-detail").attr("announcement-id",e),m.addClass("show")}),i(c).click(function(){m&&m.removeClass("show");var t=i(this).attr("announcement-id"),e=i(this).attr("course-id"),o=i(this).attr("announcement-title"),n=i(this).attr("announcement-summary");i("#tutor-announcement-course-id").val(e),i("#announcement_id").val(t),i("#tutor-announcement-title").val(o),i("#tutor-announcement-summary").val(n),p.addClass("show")}),i(t).click(function(){d.removeClass("show"),p.removeClass("show"),m.removeClass("show"),i("#tutor-annoucement-backend-create-modal").removeClass("show")}),i(".tutor-announcements-form").on("submit",function(t){t.preventDefault();var e=i(this).find('button[type="submit"]'),t=i(".tutor-announcements-form").serialize()+"&action=tutor_announcement_create&action_type=create";i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){if(i(".tutor-alert").remove(),"success"==t.status&&location.reload(),"validation_error"==t.status){i(".tutor-announcements-create-alert").append('<div class="tutor-alert alert-warning"></div>');for(var e=0,o=Object.entries(t.message);e<o.length;e++){var n=v(o[e],2),n=(n[0],n[1]);i(".tutor-announcements-create-alert .tutor-alert").append("<li>".concat(n,"</li>"))}}"fail"==t.status&&i(".tutor-announcements-create-alert").html("<li>".concat(t.message,"</li>"))},error:function(t){console.log(t)}})}),i(".tutor-announcements-update-form").on("submit",function(t){t.preventDefault();var e=i(this).find('button[type="submit"]'),t=i(".tutor-announcements-update-form").serialize()+"&action=tutor_announcement_create&action_type=update";i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){if(i(".tutor-alert").remove(),"success"==t.status&&location.reload(),"validation_error"==t.status){i(".tutor-announcements-update-alert").append('<div class="tutor-alert alert-warning"></div>');for(var e=0,o=Object.entries(t.message);e<o.length;e++){var n=v(o[e],2),n=(n[0],n[1]);i(".tutor-announcements-update-alert > .tutor-alert").append("<li>".concat(n,"</li>"))}}"fail"==t.status&&i(".tutor-announcements-create-alert").html("<li>".concat(t.message,"</li>"))},error:function(){}})}),i(u).click(function(){var t=i(this).attr("announcement-id"),e=i("#tutor-announcement-tr-"+t);confirm("Do you want to delete?")&&i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_announcement_delete",announcement_id:t},beforeSend:function(){},success:function(t){e.remove(),m.length&&m.removeClass("show"),"fail"==t.status&&console.log(t.message)},error:function(){}})}),i(".tutor-announcement-course-sorting").on("change",function(t){window.location=f("course-id",i(this).val())}),i(".tutor-announcement-order-sorting").on("change",function(t){window.location=f("order",i(this).val())}),i(".tutor-announcement-date-sorting").on("change",function(t){window.location=f("date",i(this).val())}),i(".tutor-announcement-search-sorting").on("click",function(t){window.location=f("search",i(".tutor-announcement-search-field").val())}),i(document).click(function(){i(".tutor-dropdown").removeClass("show")}),i(".tutor-dropdown").click(function(t){t.stopPropagation(),i(".tutor-dropdown").hasClass("show")&&i(".tutor-dropdown").removeClass("show"),i(this).addClass("show")}),i(".tutor-form-submit-through-ajax").submit(function(t){t.preventDefault();var e=i(this),o=i(this).attr("action")||window.location.href,n=i(this).attr("method")||"GET",t=i(this).serializeObject();e.find("button").addClass("tutor-updating-message"),i.ajax({url:o,type:n,data:t,success:function(){tutor_toast(a("Success","tutor"),e.data("toast_success_message"),"success")},complete:function(){e.find("button").removeClass("tutor-updating-message")}})}),i.ajaxSetup({data:tutor_get_nonce_data()})}),jQuery.fn.serializeObject=function(){var t={},e=this.serializeArray();return jQuery.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},window.tutor_toast=function(t,e,o){var n=((window._tutorobject||{}).tutor_url||"")+"assets/images/";jQuery(".tutor-toast-parent").length||jQuery("body").append('<div class="tutor-toast-parent"></div>');var a=jQuery('        <div>            <div>                <img src="'+{success:n+"icon-check.svg",error:n+"icon-cross.svg"}[o]+'"/>            </div>            <div>                <div>                    <b>'+t+"</b>                    <span>"+e+'</span>                </div>            </div>            <div>                <i class="tutor-toast-close tutor-icon-line-cross"></i>            </div>        </div>');a.find(".tutor-toast-close").click(function(){a.remove()}),jQuery(".tutor-toast-parent").append(a),setTimeout(function(){a&&a.fadeOut("fast",function(){jQuery(this).remove()})},5e3)};b(996),b(896),b(845),b(412);function e(t){return document.querySelectorAll(t)}function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=c(".tutor-notification");e.classList.add("show"),t&&(e.querySelector(".tutor-notification-content p").innerText=t),setTimeout(function(){e.classList.remove("show")},4e3)}function r(t,e){var o=new Blob([t],{type:"application/json"});(t=document.createElement("a")).href=URL.createObjectURL(o),t.download=e,t.click()}var c=function(t){return document.querySelector(t)};const a=function(){var t=document.querySelectorAll(".popup-opener .popup-btn"),o=document.querySelectorAll(".popup-opener .popup-menu");t&&o&&(t.forEach(function(t){t.addEventListener("click",function(t){var e=t.target.closest(".popup-opener").querySelector(".popup-menu");e.classList.toggle("visible"),o.forEach(function(t){t!==e&&t.classList.remove("visible")})})}),window.addEventListener("click",function(t){t.target.matches(".popup-opener .popup-btn")||o.forEach(function(t){t.classList.contains("visible")&&t.classList.remove("visible")})}))};function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,a,r=[],i=!0,s=!1;try{for(o=o.call(t);!(i=(n=o.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){s=!0,a=t}finally{try{i||null==o.return||o.return()}finally{if(s)throw a}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}document.addEventListener("readystatechange",function(t){"interactive"===t.target.readyState&&o(),"complete"===t.target.readyState&&(g(),m(),f(),p(),h())});function l(t){var t=JSON.parse(t).data,o="";0!==t.length?Object.entries(t).forEach(function(t){var e=i(t,2),t=e[0],e=e[1];o+='<div class="tutor-option-field-row">\n          <div class="tutor-option-field-label">\n            <p class="text-medium-small">'.concat(e.history_date,'\n            <span className="tutor-badge-label label-success">').concat(e.datatype,'</span>\n            </p>\n          </div>\n          <div class="tutor-option-field-input"><button class="tutor-btn tutor-is-outline tutor-is-default tutor-is-xs apply_settings" data-id="').concat(t,'">Apply</button>\n            <div class="popup-opener"><button type="button" class="popup-btn"><span class="toggle-icon"></span></button><ul class="popup-menu"><li><a class="export_single_settings" data-id="').concat(t,'"><span class="icon tutor-v2-icon-test icon-msg-archive-filled"></span><span>Download</span></a></li><li><a class="delete_single_settings" data-id="').concat(t,'"><span class="icon tutor-v2-icon-test icon-delete-fill-filled"></span><span>Delete</span></a></li></ul></div></div>\n        </div>')}):o+='<div class="tutor-option-field-row"><div class="tutor-option-field-label"><p class="text-medium-small">No settings data found.</p></div></div>';c(".history_data").innerHTML='<div class="tutor-option-field-row"><div class="tutor-option-field-label"><p>Date</p></div></div>'+o,f(),a(),h()}var o=function(){var t=c("#export_settings");t&&(t.onclick=function(t){t.preventDefault(),fetch(_tutorobject.ajaxurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:new URLSearchParams({action:"tutor_export_settings"})}).then(function(t){return t.json()}).then(function(t){var e="tutor_options_"+d();r(JSON.stringify(t),e)}).catch(function(t){return console.log(t)})})},d=function(){return Math.ceil(Date.now()/1e3)+21600},p=function(){var t=c("#reset_options");t&&(t.onclick=function(){var t=new FormData;t.append("action","tutor_option_default_save"),t.append(_tutorobject.nonce_key,_tutorobject._tutor_nonce);var e=new XMLHttpRequest;e.open("POST",_tutorobject.ajaxurl,!0),e.send(t),e.onreadystatechange=function(){4===e.readyState&&setTimeout(function(){s("Reset all settings to default successfully!")},200)}})},m=function n(){var t=c("#import_options");t&&(t.onclick=function(){var t=c("#drag-drop-input").files;if(t.length<=0)return!1;var e=new FileReader;e.readAsText(t.item(0)),e.onload=function(t){var e=t.target.result,t=new FormData;t.append("action","tutor_import_settings"),t.append(_tutorobject.nonce_key,_tutorobject._tutor_nonce),t.append("time",d()),t.append("tutor_options",e);var o=new XMLHttpRequest;o.open("POST",_tutorobject.ajaxurl),o.send(t),o.onreadystatechange=function(){4===o.readyState&&(l(o.responseText),g(),n(),setTimeout(function(){s("Data imported successfully!")},200))}}})},f=function(){for(var a=e(".export_single_settings"),t=0;t<a.length;t++)!function(n){a[n].onclick=function(){var t=a[n].dataset.id,e=new FormData;e.append("action","tutor_export_single_settings"),e.append(_tutorobject.nonce_key,_tutorobject._tutor_nonce),e.append("time",Date.now()),e.append("export_id",t);var o=new XMLHttpRequest;o.open("POST",_tutorobject.ajaxurl,!0),o.send(e),o.onreadystatechange=function(){4===o.readyState&&(console.log(o.response),r(o.response,t))}}}(t)},h=function(){for(var a=e(".apply_settings"),t=0;t<a.length;t++)!function(n){a[n].onclick=function(){var t=a[n].dataset.id,e=new FormData;e.append("action","tutor_apply_settings"),e.append(_tutorobject.nonce_key,_tutorobject._tutor_nonce),e.append("apply_id",t);var o=new XMLHttpRequest;o.open("POST",_tutorobject.ajaxurl,!0),o.send(e),o.onreadystatechange=function(){4===o.readyState&&(s("Applied settings successfully!"),console.log(o.response))}}}(t)},g=function a(){for(var r=c(".tutor-notification"),i=e(".delete_single_settings"),t=0;t<i.length;t++)!function(n){i[n].onclick=function(){var t=i[n].dataset.id,e=new FormData;e.append("action","tutor_delete_single_settings"),e.append(_tutorobject.nonce_key,_tutorobject._tutor_nonce),e.append("time",Date.now()),e.append("delete_id",t),r.classList.add("show");var o=new XMLHttpRequest;o.open("POST",_tutorobject.ajaxurl,!0),o.send(e),o.onreadystatechange=function(){4===o.readyState&&(l(o.responseText),a(),setTimeout(function(){s("Data deleted successfully!")},200))}}}(t)};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}jQuery(document).ready(function(a){var t=wp.i18n,r=t.__,e=(t._x,t._n,t._nx,r("Search students","tutor"));jQuery().wpColorPicker&&a(".tutor_colorpicker").wpColorPicker(),jQuery().select2&&a(".tutor_select2").select2(),a(".tutor-option-nav-tabs li a").click(function(t){t.preventDefault();t=a(this).attr("data-tab");a(".option-nav-item").removeClass("current"),a(this).closest("li").addClass("current"),a(".tutor-option-nav-page").hide(),a(t).addClass("current-page").show(),window.history.pushState("obj","",a(this).attr("href"))}),a(".tutor-form-toggle-input").on("change",function(t){var e=a(this).siblings("input");a(this).prop("checked")?e.val("on"):e.val("off")}),a("#tutor-option-form").submit(function(t){t.preventDefault();var e=a(this),t=e.serializeObject();console.log(t),a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.find(".button").addClass("tutor-updating-message")},success:function(t){t.success?tutor_toast(r("Saved","tutor"),e.data("toast_success_message"),"success"):tutor_toast(r("Request Error","tutor"),r("Could not save","tutor"),"error")},complete:function(){e.find(".button").removeClass("tutor-updating-message")}})}),a(document).on("click",".video_source_wrap_html5 .video_upload_btn",function(t){t.preventDefault();var e,o=a(this);e||(e=wp.media({title:r("Select or Upload Media Of Your Choice","tutor"),button:{text:r("Upload media","tutor")},library:{type:"video"},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.closest(".video_source_wrap_html5").find("span.video_media_id").data("video_url",t.url).text(t.id).trigger("paste").closest("p").show(),o.closest(".video_source_wrap_html5").find("input.input_source_video_id").val(t.id)}),e.open()}),_tutorobject.open_tutor_admin_menu&&((t=a("#adminmenu")).find('[href="admin.php?page=tutor"]').closest("li.wp-has-submenu").addClass("wp-has-current-submenu"),t.find('[href="admin.php?page=tutor"]').closest("li.wp-has-submenu").find("a.wp-has-submenu").removeClass("wp-has-current-submenu").addClass("wp-has-current-submenu")),a(document).on("click",".tutor-option-media-upload-btn",function(t){t.preventDefault();var e,o=a(this);e||(e=wp.media({title:r("Select or Upload Media Of Your Choice","tutor"),button:{text:r("Upload media","tutor")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.closest(".option-media-wrap").find(".option-media-preview").html('<img src="'+t.url+'" alt="" />'),o.closest(".option-media-wrap").find("input").val(t.id),o.closest(".option-media-wrap").find(".tutor-media-option-trash-btn").show()}),e.open()}),a(document).on("click",".tutor-media-option-trash-btn",function(t){t.preventDefault();t=a(this);t.closest(".option-media-wrap").find("img").remove(),t.closest(".option-media-wrap").find("input").val(""),t.closest(".option-media-wrap").find(".tutor-media-option-trash-btn").hide()}),a(document).on("change",".tutor_addons_list_item",function(t){var e=a(this),o=e.prop("checked")?1:0,e=e.attr("name");a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{isEnable:o,addonFieldName:e,action:"addon_enable_disable"},success:function(t){t.success}})}),a(document).on("submit","#new-instructor-form",function(t){t.preventDefault();var n=a(this),t=n.serializeObject();t.action="tutor_add_instructor",a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,success:function(t){var o,e;t.success?(n.trigger("reset"),a("#form-response").html('<p class="tutor-status-approved-context">'+t.data.msg+"</p>")):(o="",(e=t.data.errors)&&Object.keys(e).length&&(a.each(t.data.errors,function(t,e){e&&"object"===_(e)&&e.constructor===Object?a.each(e,function(t,e){o+='<p class="tutor-required-fields">'+e[0]+"</p>"}):o+='<p class="tutor-required-fields">'+e+"</p>"}),a("#form-response").html(o)))}})}),a(document).on("click","a.instructor-action",function(t){t.preventDefault();var e=a(this),o=e.attr("data-action"),n=e.attr("data-instructor-id"),t=e.attr("data-prompt-message");t&&!confirm(t)||((n={instructor_id:n,action_name:o,action:"instructor_approval_action"})[o=_tutorobject.nonce_key]=_tutorobject[o],a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:n,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){location.reload(!0)},complete:function(){e.removeClass("tutor-updating-message")}}))}),a(document).on("click",".add-assignment-attachments",function(t){t.preventDefault();var o,n=a(this);o||(o=wp.media({title:r("Select or Upload Media Of Your Choice","tutor"),button:{text:r("Upload media","tutor")},multiple:!1})).on("select",function(){var t=o.state().get("selection").first().toJSON(),e='<div class="tutor-individual-attachment-file"><p class="attachment-file-name">'+t.filename+'</p><input type="hidden" name="tutor_assignment_attachments[]" value="'+t.id+'"><a href="javascript:;" class="remove-assignment-attachment-a text-muted"> &times; Remove</a></div>';a("#assignment-attached-file").append(e),n.closest(".video_source_wrap_html5").find("input").val(t.id)}),o.open()}),a(document).on("click",".remove-assignment-attachment-a",function(t){t.preventDefault(),a(this).closest(".tutor-individual-attachment-file").remove()}),a(document).on("click",".tutor_video_poster_upload_btn",function(t){t.preventDefault();var e,o=a(this);e||(e=wp.media({title:r("Select or Upload Media Of Your Choice","tutor"),button:{text:r("Upload media","tutor")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.closest(".tutor-video-poster-wrap").find(".video-poster-img").html('<img src="'+t.sizes.thumbnail.url+'" alt="" />'),o.closest(".tutor-video-poster-wrap").find("input").val(t.id)}),e.open()}),a(document).on("change","#tutor_pmpro_membership_model_select",function(t){t.preventDefault(),"category_wise_membership"===a(this).val()?a(".membership_course_categories").show():a(".membership_course_categories").hide()}),a(document).on("change","#tutor_pmpro_membership_model_select",function(t){t.preventDefault(),"category_wise_membership"===a(this).val()?a(".membership_course_categories").show():a(".membership_course_categories").hide()}),a(document).on("submit",".pmpro_admin form",function(t){var e=a(this);e.find('input[name="tutor_action"]').length&&("category_wise_membership"!=e.find('[name="tutor_pmpro_membership_model"]').val()||e.find(".membership_course_categories input:checked").length||confirm(r("Do you want to save without any category?","tutor"))||t.preventDefault())}),a("#select2_search_user_ajax").select2({allowClear:!0,minimumInputLength:1,placeholder:e,language:{inputTooShort:function(){return r("Please add 1 or more character","tutor")}},escapeMarkup:function(t){return t},ajax:{url:window._tutorobject.ajaxurl,type:"POST",dataType:"json",delay:1e3,data:function(t){return{term:t.term,action:"tutor_json_search_students"}},processResults:function(t){var o=[];return t&&a.each(t,function(t,e){o.push({id:t,text:e})}),{results:o}},cache:!0}}),a(document).on("click","table.enrolments .delete a",function(t){t.preventDefault();var e=a(this).attr("href"),t={title:r("Delete this enrolment","tutor"),description:r("All of the course data like quiz attempts, assignment, lesson <br/>progress will be deleted if you delete this student's enrollment.","tutor"),buttons:{reset:{title:r("Cancel","tutor"),class:"secondary",callback:function(){o.remove()}},keep:{title:r("Yes, Delete This","tutor"),class:"primary",callback:function(){window.location.replace(e)}}}},o=new window.tutor_popup(a,"icon-trash",40).popup(t)});e=a('#tutor-attach-product [name="tutor_course_price_type"]');0==e.length?a("#_tutor_is_course_public_meta_checkbox").show():e.change(function(){var t;a(this).prop("checked")&&(t="paid"==a(this).val()?"hide":"show",a("#_tutor_is_course_public_meta_checkbox")[t]())}).trigger("change"),a(document).on("click",".instructor-layout-template",function(){a(".instructor-layout-template").removeClass("selected-template"),a(this).addClass("selected-template")}),a("#preview-action a.preview").click(function(t){var e=a(this).attr("href");e&&(t.preventDefault(),window.open(e,"_blank"))})})})()})();