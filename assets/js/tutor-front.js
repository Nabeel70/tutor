(()=>{var o={966:()=>{document.addEventListener("DOMContentLoaded",function(){$(".tutor-dashboard .tutor-dashboard-menu-toggler").click(function(){var t=$(".tutor-dashboard-left-menu");t.closest(".tutor-dashboard").toggleClass("is-sidebar-expanded"),"none"!==t.css("display")&&t.get(0).scrollIntoView({block:"start"})})})},787:()=>{document.addEventListener("DOMContentLoaded",function(){var n=window.jQuery;n('.tutor-dashboard-setting-withdraw input[name="tutor_selected_withdraw_method"]').on("change",function(t){var e=n(this),o=e.closest("form");o.find(".withdraw-method-form").hide(),o.find(".withdraw-method-form").hide().filter('[data-withdraw-form="'+e.val()+'"]').show()})})},996:()=>{window.jQuery(document).ready(function(n){window.wp.i18n.__;n(document).on("click",".tutor-thumbnail-uploader .tutor-thumbnail-upload-button",function(t){t.preventDefault();var e,o=n(this).closest(".tutor-thumbnail-uploader");e||(e=wp.media({title:o.data("media-heading"),button:{text:o.data("button-text")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.find("img").attr("src",t.url),o.find('input[type="hidden"].tutor-tumbnail-id-input').val(t.id),o.find(".delete-btn").show()}),e.open()}),n(document).on("click",".tutor-thumbnail-uploader .delete-btn",function(t){t.preventDefault();var e=n(this),t=e.closest(".tutor-thumbnail-uploader");t.find('input[type="hidden"].tutor-tumbnail-id-input').val(""),t.find("img").attr("src",""),e.hide()})})},896:()=>{window.jQuery(document).ready(function(o){var n=wp.i18n.__;o(document).on("click",".tutor-copy-text",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=o(this).data("text"),t=o("<input>");o("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove(),tutor_toast(n("Copied!","tutor"),e,"success")})})},983:()=>{document.addEventListener("click",function(t){var e,o="data-tutor-tab-target",n=document.querySelectorAll(".tab-header-item.is-active, .tab-body-item.is-active");t.target.hasAttribute(o)&&(t.preventDefault(),e=(t.target.hasAttribute(o)?t.target:t.target.closest("[".concat(o,"]"))).getAttribute(o),e=document.getElementById(e),t.target.hasAttribute(o)&&e&&(n.forEach(function(t){t.classList.remove("is-active")}),t.target.classList.add("is-active"),e.classList.add("is-active")))})},961:()=>{!function(){"use strict";document.addEventListener("click",function(t){var e="data-tutor-modal-target",o="data-tutor-modal-close";(t.target.hasAttribute(e)||t.target.closest("[".concat(e,"]")))&&(t.preventDefault(),e=(t.target.hasAttribute(e)?t.target:t.target.closest("[".concat(e,"]"))).getAttribute(e),(e=document.getElementById(e))&&e.classList.add("tutor-is-active")),(t.target.hasAttribute(o)||t.target.classList.contains("tutor-modal-overlay")||t.target.closest("[".concat(o,"]")))&&(t.preventDefault(),document.querySelectorAll(".tutor-modal.tutor-is-active").forEach(function(t){t.classList.remove("tutor-is-active")}))})}()},334:()=>{document.addEventListener("click",function(t){var e,o="data-tutor-notification-tab-target",n=document.querySelectorAll(".tab-header-item.is-active, .tab-body-item.is-active");t.target.hasAttribute(o)&&(t.preventDefault(),e=(t.target.hasAttribute(o)?t.target:t.target.closest("[".concat(o,"]"))).getAttribute(o),e=document.getElementById(e),t.target.hasAttribute(o)&&e&&(n.forEach(function(t){t.classList.remove("is-active")}),t.target.classList.add("is-active"),e.classList.add("is-active")))})},440:()=>{document.addEventListener("click",function(t){var e="data-tutor-offcanvas-target",o="data-tutor-offcanvas-close";t.target.hasAttribute(e)&&(t.preventDefault(),e=(t.target.hasAttribute(e)?t.target:t.target.closest("[".concat(e,"]"))).getAttribute(e),(e=document.getElementById(e))&&e.classList.add("is-active")),(t.target.hasAttribute(o)||t.target.classList.contains("tutor-offcanvas-backdrop")||t.target.closest("[".concat(o,"]")))&&(t.preventDefault(),document.querySelectorAll(".tutor-offcanvas.is-active").forEach(function(t){t.classList.remove("is-active")}))}),document.addEventListener("keydown",function(t){"Escape"===t.key&&document.querySelectorAll(".tutor-offcanvas.is-active").forEach(function(t){t.classList.remove("is-active")})})},869:()=>{document.addEventListener("click",function(t){var e="data-tutor-popup-target";t.target.hasAttribute(e)?(t.preventDefault(),e=(t.target.hasAttribute(e)?t.target:t.target.closest("[".concat(e,"]"))).getAttribute(e),(e=document.getElementById(e)).classList.contains("visible")?e.classList.remove("visible"):(document.querySelectorAll(".tutor-popup-opener .popup-menu").forEach(function(t){t.classList.remove("visible")}),e.classList.add("visible"))):document.querySelectorAll(".tutor-popup-opener .popup-menu").forEach(function(t){t.classList.remove("visible")})})},656:()=>{!function(){var t=document.querySelectorAll(".tutor-thumbnail-uploader"),o=document.querySelectorAll(".tutor-thumbnail-uploader img"),e=document.querySelectorAll(".tutor-thumbnail-uploader input[type=file]"),n=document.querySelectorAll(".tutor-thumbnail-uploader .delete-btn");e&&n&&(document.addEventListener("DOMContentLoaded",function(){t.forEach(function(e){o.forEach(function(t){t.getAttribute("src")?t.closest(".image-previewer").classList.add("is-selected"):e.classList.remove("is-selected"),console.log(t)})})}),e.forEach(function(r){r.addEventListener("change",function(t){var e=this.files[0],o=r.closest(".image-previewer"),n=o.querySelector("img"),a=o.querySelector(".preview-loading");e&&(a.classList.add("is-loading"),i(e,n),o.classList.add("is-selected"),setTimeout(function(){a.classList.remove("is-loading")},200))})}),n.forEach(function(t){t.addEventListener("click",function(t){var e=this.closest(".image-previewer");e.querySelector("img").setAttribute("src",""),e.classList.remove("is-selected")})}));var i=function(t,e){var o=new FileReader;o.onload=function(){e.setAttribute("src",this.result)},o.readAsDataURL(t)}}()}},n={};function a(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={exports:{}};return o[t](e,e.exports,a),e.exports}(()=>{"use strict";a(961),a(656),a(869),a(440),a(334),a(983);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,a,r=[],i=!0,s=!1;try{for(o=o.call(t);!(i=(n=o.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){s=!0,a=t}finally{try{i||null==o.return||o.return()}finally{if(s)throw a}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}window.tutor_get_nonce_data=function(t){var e=window._tutorobject||{},o=e.nonce_key||"",e=e[o]||"";return t?{key:o,value:e}:(t=e,(e=o)in(o={})?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o)},window.tutor_popup=function(i,o,n){var s,u=this;return this.popup_wrapper=function(t){var e=""===o?"":'<img class="tutor-pop-icon" src="'+window._tutorobject.tutor_url+"assets/images/"+o+'.svg"/>';return"<"+t+' class="tutor-component-popup-container">            <div class="tutor-component-popup-'+n+'">                <div class="tutor-component-content-container">'+e+'</div>                <div class="tutor-component-button-container"></div>            </div>        </'+t+">"},this.popup=function(o){var t=o.title?"<h3>"+o.title+"</h3>":"",e=o.description?"<p>"+o.description+"</p>":"",n=Object.keys(o.buttons||{}).map(function(t){var e=o.buttons[t],t=e.id?"tutor-popup-"+e.id:"";return i('<button id="'+t+'" class="tutor-button tutor-button-'+e.class+'">'+e.title+"</button>").click(e.callback)}),a=(s=i(u.popup_wrapper(o.wrapper_tag||"div"))).find(".tutor-component-content-container");a.append(t),o.after_title&&a.append(o.after_title),a.append(e),o.after_description&&a.append(o.after_description),s.click(function(){i(this).remove()}).children().click(function(t){t.stopPropagation()});for(var r=0;r<n.length;r++)s.find(".tutor-component-button-container").append(n[r]);return i("body").append(s),s},{popup:this.popup}},window.tutorDotLoader=function(t){return'    \n    <div class="tutor-dot-loader '.concat(t||"",'">\n        <span class="dot dot-1"></span>\n        <span class="dot dot-2"></span>\n        <span class="dot dot-3"></span>\n        <span class="dot dot-4"></span>\n    </div>')},window.tutor_date_picker=function(){var t;jQuery.datepicker&&(t=_tutorobject.wp_date_format||"yy-mm-dd",$(".tutor_date_picker").datepicker({dateFormat:t}))},jQuery(document).ready(function(i){var t=wp.i18n,a=t.__;t._x,t._n,t._nx;function o(){var t;jQuery.datepicker&&(t=_tutorobject.wp_date_format||"yy-mm-dd",i(".tutor_date_picker").datepicker({dateFormat:t})),i(document).on("keydown",".hasDatepicker, .tutor_date_picker",function(t){8!==t.keyCode&&t.preventDefault()})}function e(t){var e=t.element;return i('<span><i class="tutor-icon-'+i(e).data("icon")+'"></i> '+t.text+"</span>")}o(),jQuery().select2&&i(".videosource_select2").select2({width:"100%",templateSelection:e,templateResult:e,allowHtml:!0}),i(document).on("click",".tutor-course-thumbnail-upload-btn",function(t){t.preventDefault();var e,o=i(this);e||(e=wp.media({title:a("Select or Upload Media Of Your Chosen Persuasion","tutor"),button:{text:a("Use this media","tutor")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.closest(".tutor-thumbnail-wrap").find(".thumbnail-img").attr("src",t.url),o.closest(".tutor-thumbnail-wrap").find("input").val(t.id),i(".tutor-course-thumbnail-delete-btn").show()}),e.open()}),i(document).on("click",".tutor-course-thumbnail-delete-btn",function(t){t.preventDefault();var e=i(this),t=e.closest(".tutor-thumbnail-wrap").find(".thumbnail-img").attr("data-placeholder-src");e.closest(".tutor-thumbnail-wrap").find(".thumbnail-img").attr("src",t),e.closest(".tutor-thumbnail-wrap").find("input").val(""),i(".tutor-course-thumbnail-delete-btn").hide()}),i(document).on("change keyup",".course-edit-topic-title-input",function(t){t.preventDefault(),i(this).closest(".tutor-topics-top").find(".topic-inner-title").html(i(this).val())}),i(document).on("click",".tutor-topics-edit-button",function(t){t.preventDefault();var e=i(this),o=e.closest(".tutor-topics-wrap").find('[name="topic_id"]').val(),n=e.closest(".tutor-topics-wrap").find('[name="topic_title"]').val(),t=e.closest(".tutor-topics-wrap").find('[name="topic_summery"]').val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{topic_title:n,topic_summery:t,topic_id:o,action:"tutor_update_topic"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(e.closest(".tutor-topics-wrap").find("span.topic-inner-title").text(n),e.closest(".tutor-modal").removeClass("tutor-is-active"))},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click",".tutor-delete-lesson-btn",function(t){var e;t.preventDefault(),confirm(a("Are you sure?","tutor"))&&(t=(e=i(this)).attr("data-lesson-id"),i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:t,action:"tutor_delete_lesson_by_id"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&e.closest(".course-content-item").remove()},complete:function(){e.removeClass("tutor-updating-message")}}))}),i(document).on("click",".modal-close-btn",function(t){t.preventDefault(),i(".tutor-modal-wrap").removeClass("show")}),i(document).on("keyup",function(t){27===t.keyCode&&i(".tutor-modal-wrap").removeClass("show")}),i(document).on("click",".tutor-quiz-modal-tab-item",function(t){t.preventDefault();var e=i(this),o=i('[name="quiz_title"]');o.val()?(o.closest(".tutor-quiz-builder-form-row").find(".quiz_form_msg").html(""),t=e.attr("href"),i(".quiz-builder-tab-container").hide(),i(t).show(),i("a.tutor-quiz-modal-tab-item").removeClass("active"),e.addClass("active")):o.closest(".tutor-quiz-builder-form-row").find(".quiz_form_msg").html('<p class="quiz-form-warning">Please save the quiz first</p>')}),i(document).on("click",".quiz-modal-tab-navigation-btn.quiz-modal-btn-cancel",function(t){t.preventDefault(),i(".tutor-modal-wrap").removeClass("show")}),i(document).on("click",".tutor-quiz-answer-edit a",function(t){t.preventDefault();var e=i(this),t=e.closest(".tutor-quiz-answer-wrap").attr("data-answer-id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:t,action:"tutor_quiz_edit_question_answer"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){i("#tutor_quiz_question_answer_form").html(t.data.output)},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click","#quiz-answer-save-btn",function(t){t.preventDefault();var e=i(this),t=i("#tutor-quiz-question-wrapper :input").serializeObject();t.action="tutor_save_quiz_answer_options",i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){i("#quiz_validation_msg_wrap").html(""),e.addClass("tutor-updating-message")},success:function(t){i("#tutor_quiz_question_answers").trigger("refresh")},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click","#quiz-answer-edit-btn",function(t){t.preventDefault();var e=i(this),t=i("#tutor-quiz-question-wrapper :input").serializeObject();t.action="tutor_update_quiz_answer_options",i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){i("#tutor_quiz_question_answers").trigger("refresh")},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("change",".tutor-quiz-answers-mark-correct-wrap input",function(t){t.preventDefault();var e=i(this),o=e.val(),t=1;e.prop("checked")||(t=0),i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,inputValue:t,action:"tutor_mark_answer_as_correct"}})}),i(document).on("click",".tutor-quiz-answer-trash-wrap a.answer-trash-btn",function(t){t.preventDefault();var e=i(this),t=e.attr("data-answer-id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:t,action:"tutor_quiz_builder_delete_answer"},beforeSend:function(){e.closest(".tutor-quiz-answer-wrap").remove()}})}),i(document).on("click",".tutor-delete-quiz-btn",function(t){var e;t.preventDefault(),confirm(a("Are you sure?","tutor"))&&(t=(e=i(this)).attr("data-quiz-id"),i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:t,action:"tutor_delete_quiz_by_id"},beforeSend:function(){e.closest(".course-content-item").remove()}}))}),i(document).on("click",".tutor-media-upload-btn",function(t){t.preventDefault();var e,o=i(this);e||(e=wp.media({title:a("Select or Upload Media Of Your Chosen Persuasion","tutor"),button:{text:a("Use this media","tutor")},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.html('<img src="'+t.url+'" alt="" />'),o.closest(".tutor-media-upload-wrap").find("input").val(t.id)}),e.open()}),i(document).on("click",".tutor-media-upload-trash",function(t){t.preventDefault();t=i(this);t.closest(".tutor-media-upload-wrap").find(".tutor-media-upload-btn").html('<i class="tutor-icon-image1"></i>'),t.closest(".tutor-media-upload-wrap").find("input").val("")});var n,r=(n=0,function(t,e){clearTimeout(n),n=setTimeout(t,e)});i(document).on("click",".tutor-add-instructor-btn",function(t){t.preventDefault();var e=i(this),t=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:t,action:"tutor_load_instructors_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(i(".tutor-instructors-modal-wrap .modal-container").html(t.data.output),i(".tutor-instructors-modal-wrap").addClass("show"))},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("change keyup",".tutor-instructors-modal-wrap .tutor-modal-search-input",function(t){t.preventDefault();var o=i(this),n=i(".tutor-modal-wrap");r(function(){var t=o.val(),e=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:e,search_terms:t,action:"tutor_load_instructors_modal"},beforeSend:function(){n.addClass("loading")},success:function(t){t.success&&(i(".tutor-instructors-modal-wrap .modal-container").html(t.data.output),i(".tutor-instructors-modal-wrap").addClass("show"))},complete:function(){n.removeClass("loading")}})},1e3)}),i(document).on("click",".add_instructor_to_course_btn",function(t){t.preventDefault();var e=i(this),o=i(".tutor-modal-wrap"),t=i("#post_ID").val(),o=o.find("input").serializeObject();o.course_id=t,o.action="tutor_add_instructors_to_course",i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(i(".tutor-course-available-instructors").html(t.data.output),i(".tutor-modal-wrap").removeClass("show"))},complete:function(){e.removeClass("tutor-updating-message")}})}),i(document).on("click",".tutor-instructor-delete-btn",function(t){t.preventDefault();var e=i(this),o=i("#post_ID").val(),t=e.closest(".added-instructor-item").attr("data-instructor-id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:o,instructor_id:t,action:"detach_instructor_from_course"},success:function(t){t.success&&e.closest(".added-instructor-item").remove()}})}),i(document).on("click",".settings-tabs-navs li",function(t){t.preventDefault();var e=i(this),o=e.find("a").attr("data-target"),t=e.find("a").attr("href");e.addClass("active").siblings("li.active").removeClass("active"),i(".settings-tab-wrap").removeClass("active").hide(),i(o).addClass("active").show(),window.history.pushState({},"",t)}),i(document).on("lesson_modal_loaded quiz_modal_loaded assignment_modal_loaded",function(t,e){jQuery().select2&&i(".select2_multiselect").select2({dropdownCssClass:"increasezindex"}),o()}),i(document).on("keyup change",".tutor-number-validation",function(t){var e=i(this),o=parseInt(e.val()),n=parseInt(e.attr("data-min")),a=parseInt(e.attr("data-max"));o<n?e.val(n):a<o&&e.val(a)}),i(document).on("click",".tutor-instructor-feedback",function(t){t.preventDefault();var e=i(this);i.ajax({url:window.ajaxurl||_tutorobject.ajaxurl,type:"POST",data:{attempts_id:e.data("attemptid"),feedback:i(".tutor-instructor-feedback-content").val(),action:"tutor_instructor_feedback"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(e.closest(".course-content-item").remove(),tutor_toast(a("Success","tutor"),e.data("toast_success_message"),"success"))},complete:function(){e.removeClass("tutor-updating-message")}})});var s=i(".tutor-announcement-add-new"),u=i(".tutor-announcement-edit"),c=i(".tutor-announcement-delete"),l=i(".tutor-announcement-details"),t=i(".tutor-announcement-close-btn"),d=i(".tutor-accouncement-create-modal"),p=i(".tutor-accouncement-update-modal"),m=i(".tutor-accouncement-details-modal");function f(t,e){var o=new URL(window.location.href),n=o.searchParams;return n.set(t,e),o.search=n.toString(),_tutorobject.is_admin?n.set("paged",1):n.set("current_page",1),o.search=n.toString(),o.toString()}i(s).click(function(){d.addClass("show"),i("#tutor-annoucement-backend-create-modal").addClass("show")}),i(l).click(function(){var t=i(this).attr("announcement-date"),e=i(this).attr("announcement-id"),o=i(this).attr("course-id"),n=i(this).attr("course-name"),a=i(this).attr("announcement-title"),r=i(this).attr("announcement-summary");i(".tutor-announcement-detail-content").html("<h3>".concat(a,"</h3><p>").concat(r,"</p>")),i(".tutor-announcement-detail-course-info p").html("".concat(n)),i(".tutor-announcement-detail-date-info p").html("".concat(t)),i("#tutor-announcement-edit-from-detail").attr("announcement-id",e),i("#tutor-announcement-edit-from-detail").attr("course-id",o),i("#tutor-announcement-edit-from-detail").attr("announcement-title",a),i("#tutor-announcement-edit-from-detail").attr("announcement-summary",r),i("#tutor-announcement-delete-from-detail").attr("announcement-id",e),m.addClass("show")}),i(u).click(function(){m&&m.removeClass("show");var t=i(this).attr("announcement-id"),e=i(this).attr("course-id"),o=i(this).attr("announcement-title"),n=i(this).attr("announcement-summary");i("#tutor-announcement-course-id").val(e),i("#announcement_id").val(t),i("#tutor-announcement-title").val(o),i("#tutor-announcement-summary").val(n),p.addClass("show")}),i(t).click(function(){d.removeClass("show"),p.removeClass("show"),m.removeClass("show"),i("#tutor-annoucement-backend-create-modal").removeClass("show")}),i(".tutor-announcements-form").on("submit",function(t){t.preventDefault();var e=i(this).find('button[type="submit"]'),t=i(".tutor-announcements-form").serialize()+"&action=tutor_announcement_create&action_type=create";i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){if(i(".tutor-alert").remove(),"success"==t.status&&location.reload(),"validation_error"==t.status){i(".tutor-announcements-create-alert").append('<div class="tutor-alert alert-warning"></div>');for(var e=0,o=Object.entries(t.message);e<o.length;e++){var n=h(o[e],2),n=(n[0],n[1]);i(".tutor-announcements-create-alert .tutor-alert").append("<li>".concat(n,"</li>"))}}"fail"==t.status&&i(".tutor-announcements-create-alert").html("<li>".concat(t.message,"</li>"))},error:function(t){console.log(t)}})}),i(".tutor-announcements-update-form").on("submit",function(t){t.preventDefault();var e=i(this).find('button[type="submit"]'),t=i(".tutor-announcements-update-form").serialize()+"&action=tutor_announcement_create&action_type=update";i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){if(i(".tutor-alert").remove(),"success"==t.status&&location.reload(),"validation_error"==t.status){i(".tutor-announcements-update-alert").append('<div class="tutor-alert alert-warning"></div>');for(var e=0,o=Object.entries(t.message);e<o.length;e++){var n=h(o[e],2),n=(n[0],n[1]);i(".tutor-announcements-update-alert > .tutor-alert").append("<li>".concat(n,"</li>"))}}"fail"==t.status&&i(".tutor-announcements-create-alert").html("<li>".concat(t.message,"</li>"))},error:function(){}})}),i(c).click(function(){var t=i(this).attr("announcement-id"),e=i("#tutor-announcement-tr-"+t);confirm("Do you want to delete?")&&i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_announcement_delete",announcement_id:t},beforeSend:function(){},success:function(t){e.remove(),m.length&&m.removeClass("show"),"fail"==t.status&&console.log(t.message)},error:function(){}})}),i(".tutor-announcement-course-sorting").on("change",function(t){window.location=f("course-id",i(this).val())}),i(".tutor-announcement-order-sorting").on("change",function(t){window.location=f("order",i(this).val())}),i(".tutor-announcement-date-sorting").on("change",function(t){window.location=f("date",i(this).val())}),i(".tutor-announcement-search-sorting").on("click",function(t){window.location=f("search",i(".tutor-announcement-search-field").val())}),i(document).click(function(){i(".tutor-dropdown").removeClass("show")}),i(".tutor-dropdown").click(function(t){t.stopPropagation(),i(".tutor-dropdown").hasClass("show")&&i(".tutor-dropdown").removeClass("show"),i(this).addClass("show")}),i(".tutor-form-submit-through-ajax").submit(function(t){t.preventDefault();var e=i(this),o=i(this).attr("action")||window.location.href,n=i(this).attr("method")||"GET",t=i(this).serializeObject();e.find("button").addClass("tutor-updating-message"),i.ajax({url:o,type:n,data:t,success:function(){tutor_toast(a("Success","tutor"),e.data("toast_success_message"),"success")},complete:function(){e.find("button").removeClass("tutor-updating-message")}})}),i.ajaxSetup({data:tutor_get_nonce_data()})}),jQuery.fn.serializeObject=function(){var t={},e=this.serializeArray();return jQuery.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},window.tutor_toast=function(t,e,o){var n=((window._tutorobject||{}).tutor_url||"")+"assets/images/";jQuery(".tutor-toast-parent").length||jQuery("body").append('<div class="tutor-toast-parent"></div>');var a=jQuery('        <div>            <div>                <img src="'+{success:n+"icon-check.svg",error:n+"icon-cross.svg"}[o]+'"/>            </div>            <div>                <div>                    <b>'+t+"</b>                    <span>"+e+'</span>                </div>            </div>            <div>                <i class="tutor-toast-close tutor-icon-line-cross"></i>            </div>        </div>');a.find(".tutor-toast-close").click(function(){a.remove()}),jQuery(".tutor-toast-parent").append(a),setTimeout(function(){a&&a.fadeOut("fast",function(){jQuery(this).remove()})},5e3)};a(996),a(896),a(966),a(787);jQuery(document).ready(function(u){var e,o,n,a,t=wp.i18n,s=t.__;t._x,t._n,t._nx;function r(t,e){var o,n;1<t.originalEvent.touches.length||(t.preventDefault(),o=t.originalEvent.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(e,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n))}jQuery().select2&&u(".tutor_select2").select2({escapeMarkup:function(t){return t}}),(e=jQuery).support.touch="ontouchend"in document,e.support.touch&&(f=e.ui.mouse.prototype,n=f._mouseInit,a=f._mouseDestroy,f._touchStart=function(t){!o&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(o=!0,this._touchMoved=!1,r(t,"mouseover"),r(t,"mousemove"),r(t,"mousedown"))},f._touchMove=function(t){o&&(this._touchMoved=!0,r(t,"mousemove"))},f._touchEnd=function(t){o&&(r(t,"mouseup"),r(t,"mouseout"),this._touchMoved||r(t,"click"),o=!1)},f._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),n.call(t)},f._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),a.call(t)});var i={ajaxurl:window._tutorobject.ajaxurl,nonce_key:window._tutorobject.nonce_key,video_data:function(){var t=u("#tutor_video_tracking_information").val();return t?JSON.parse(t):{}},track_player:function(){var t,o,e,n=this;"undefined"!=typeof Plyr&&(t=new Plyr("#tutorPlayer"),o=n.video_data(),t.on("ready",function(t){var e=t.detail.plyr,t=o.best_watch_time;0<t&&e.duration>Math.round(t)&&(e.media.currentTime=t),n.sync_time(e)}),e=0,t.on("timeupdate",function(t){t=t.detail.plyr;30<=e/4&&(n.sync_time(t),e=0),e++}),t.on("ended",function(t){var e=n.video_data(),t=t.detail.plyr;n.sync_time(t,{is_ended:!0}),e.autoload_next_course_content&&n.autoload_content()}))},sync_time:function(t,e){var o=this.video_data().post_id,t={action:"sync_video_playback",currentTime:t.currentTime,duration:t.duration,post_id:o};t[this.nonce_key]=_tutorobject[this.nonce_key];o=t;e&&(o=Object.assign(t,e)),u.post(this.ajaxurl,o)},autoload_content:function(){var t={action:"autoload_next_course_content",post_id:this.video_data().post_id};t[this.nonce_key]=_tutorobject[this.nonce_key],u.post(this.ajaxurl,t).done(function(t){t.success&&t.data.next_url&&(location.href=t.data.next_url)})},init:function(){this.track_player()}};function c(t){t.add(t.prevAll()).filter("i").addClass("tutor-icon-star-full").removeClass("tutor-icon-star-line"),t.nextAll().filter("i").removeClass("tutor-icon-star-full").addClass("tutor-icon-star-line")}u("#tutorPlayer").length&&i.init(),u(document).on("change keyup paste",".tutor_user_name",function(){u(this).val(u(this).val().toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),u(document).on("mouseover",".tutor-star-rating-container .tutor-star-rating-group i",function(){c(u(this))}),u(document).on("click",".tutor-star-rating-container .tutor-star-rating-group i",function(){var t=u(this).attr("data-rating-value");u(this).closest(".tutor-star-rating-group").find('input[name="tutor_rating_gen_input"]').val(t),c(u(this))}),u(document).on("mouseout",".tutor-star-rating-container .tutor-star-rating-group",function(){var t=u(this).find('input[name="tutor_rating_gen_input"]').val(),e=parseInt(t),t=u(this).find('[data-rating-value="'+e+'"]');e&&t&&0<t.length?c(t):u(this).find("i").removeClass("tutor-icon-star-full").addClass("tutor-icon-star-line")}),u(document).on("click",".tutor_submit_review_btn",function(t){t.preventDefault();var e=u(this),o=e.closest("form").find('input[name="tutor_rating_gen_input"]').val(),n=(n=e.closest("form").find('textarea[name="review"]').val()).trim(),t=u('input[name="tutor_course_id"]').val();o&&0!=o&&n?n&&u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:t,rating:o,review:n,action:"tutor_place_rating"},beforeSend:function(){e.addClass("updating-icon")},success:function(t){var e=t.data.review_id,t=t.data.review;u(".tutor-review-"+e+" .review-content").html(t),new window.tutor_popup(u,"icon-rating",40).popup({title:s("Thank You for Rating This Course!","tutor"),description:s("Your rating will now be visible in the course page","tutor")}),setTimeout(function(){location.reload()},3e3)}}):alert(s("Rating and review required","tutor"))}).on("click",".tutor_cancel_review_btn",function(){u(this).closest("form").hide()}),u(document).on("click",".write-course-review-link-btn",function(t){t.preventDefault(),u(this).siblings(".tutor-write-review-form").slideToggle()}),u(document).on("click",".tutor-ask-question-btn",function(t){t.preventDefault(),u(".tutor-add-question-wrap").slideToggle()}),u(document).on("click",".tutor_question_cancel",function(t){t.preventDefault(),u(".tutor-add-question-wrap").toggle()}),u(document).on("submit","#tutor-ask-question-form",function(t){t.preventDefault();var e=u(this),t=u(this).serializeObject();t.action="tutor_ask_question",u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.find(".tutor_ask_question_btn").addClass("updating-icon")},success:function(t){t.success&&(u(".tutor-add-question-wrap").hide(),window.location.reload())},complete:function(){e.find(".tutor_ask_question_btn").removeClass("updating-icon")}})}),u(document).on("submit",".tutor-add-answer-form",function(t){t.preventDefault();var e=u(this),t=u(this).serializeObject();t.action="tutor_add_answer",u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.find(".tutor_add_answer_btn").addClass("updating-icon")},success:function(t){t.success&&window.location.reload()},complete:function(){e.find(".tutor_add_answer_btn").removeClass("updating-icon")}})}),u(document).on("focus",".tutor_add_answer_textarea",function(t){t.preventDefault();t=u(this).closest(".tutor_add_answer_wrap").attr("data-question-id");wp.editor.initialize("tutor_answer_"+t,{tinymce:{wpautop:!0,toolbar1:"bold italic underline bullist strikethrough numlist  blockquote  alignleft aligncenter alignright undo redo link unlink spellchecker fullscreen"}})}),u(document).on("click",".tutor_cancel_wp_editor",function(t){t.preventDefault(),u(this).closest(".tutor_wp_editor_wrap").toggle(),u(this).closest(".tutor_add_answer_wrap").find(".tutor_wp_editor_show_btn_wrap").toggle();t=u(this).closest(".tutor_add_answer_wrap").attr("data-question-id");wp.editor.remove("tutor_answer_"+t)}),u(document).on("click",".tutor_wp_editor_show_btn",function(t){t.preventDefault(),u(this).closest(".tutor_add_answer_wrap").find(".tutor_wp_editor_wrap").toggle(),u(this).closest(".tutor_wp_editor_show_btn_wrap").toggle()});var l,d,p,m=u("#tutor-quiz-time-update"),f=null;m.length&&(f=JSON.parse(m.attr("data-attempt-settings")),0<(h=JSON.parse(m.attr("data-attempt-meta"))).time_limit.time_limit_seconds?(l=new Date(f.attempt_started_at).getTime()+1e3*h.time_limit.time_limit_seconds,d=new Date(h.date_time_now).getTime(),p=setInterval(function(){var a,t=l-d,e=Math.floor(t/864e5),o=Math.floor(t%864e5/36e5),n=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3),i="";e&&(i+=e+"d "),o&&(i+=o+"h "),n&&(i+=n+"m "),r&&(i+=r+"s "),t<0&&(clearInterval(p),i="EXPIRED","autosubmit"===_tutorobject.quiz_options.quiz_when_time_expires?u("form#tutor-answering-quiz").submit():"autoabandon"===_tutorobject.quiz_options.quiz_when_time_expires&&(t=u("#tutor_quiz_id").val(),u("#tutor_quiz_remaining_time_secs").val(),t={quiz_id:t,action:"tutor_quiz_timeout"},a=u("#tutor-quiz-time-expire-wrapper").attr("data-attempt-remaining"),u(".tutor-quiz-answer-next-btn, .tutor-quiz-submit-btn, .tutor-quiz-answer-previous-btn").prop("disabled",!0),u(".time-remaining span").css("color","#F44337"),u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,success:function(t){var e=u("#tutor-quiz-time-expire-wrapper").data("attempt-allowed"),o=u("#tutor-quiz-time-expire-wrapper").data("attempt-remaining"),n="#tutor-quiz-time-expire-wrapper .tutor-alert";u(n).addClass("show"),0<a?u("".concat(n," .text")).html(s("Your time limit for this quiz has expired, please reattempt the quiz. Attempts remaining: "+o+"/"+e,"tutor")):(u(n).addClass("tutor-alert-danger"),u("#tutor-start-quiz").hide(),u("".concat(n," .text")).html("".concat(s("Unfortunately, you are out of time and quiz attempts. ","tutor"))))},complete:function(){}}))),d+=1e3,m.html(i)},1e3)):m.closest(".time-remaining").remove());var h=u("#tutor-quiz-body form#tutor-start-quiz");function _(){jQuery().sortable&&(u(".tutor-quiz-answers-wrap").sortable({handle:".answer-sorting-bar",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){}}).disableSelection(),u(".quiz-draggable-rand-answers, .quiz-answer-matching-droppable").sortable({connectWith:".quiz-answer-matching-droppable",placeholder:"drop-hover"}).disableSelection())}function v(o){var t,e,n=!0,a=o.find(".quiz-answer-required");return a.length&&((t=a.find("input")).length&&("radio"===(e=t.attr("type"))?0==a.find('input[type="radio"]:checked').length&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(s("Please select an option to answer","tutor"),"</p>")),n=!1):"checkbox"===e?0==a.find('input[type="checkbox"]:checked').length&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(s("Please select at least one option to answer.","tutor"),"</p>")),n=!1):"text"===e&&t.each(function(t,e){u(e).val().trim().length||(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(s("The answer for this question is required","tutor"),"</p>")),n=!1)})),a.find("textarea").length&&a.find("textarea").val().trim().length<1&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(s("The answer for this question is required","tutor"),"</p>")),n=!1),(a=a.find(".quiz-answer-matching-droppable")).length&&a.each(function(t,e){u(e).find(".quiz-draggable-answer-item").length||(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(s("Please match all the items","tutor"),"</p>")),n=!1)})),n}function g(o){var n=!1,a=JSON.parse(atob(window.tutor_quiz_context.split("").reverse().join("")));Array.isArray(a)||(a=[]);var t=o.attr("data-quiz-feedback-mode");u(".wrong-right-text").remove(),u(".quiz-answer-input-bottom").removeClass("wrong-answer right-answer");var r=!0,e=o.find("input"),i=o.find('input[type="radio"]:checked, input[type="checkbox"]:checked');return"retry"===t?(i.each(function(){var t=u(this),e=t.attr("type");"radio"!==e&&"checkbox"!==e||-1<a.indexOf(t.val())||(t.prop("checked")&&t.closest(".quiz-answer-input-bottom").addClass("wrong-answer").append('<span class="wrong-right-text"><i class="tutor-icon-line-cross"></i> '.concat(s("Incorrect, Please try again","tutor"),"</span>")),r=!1)}),e.each(function(){var t,e=u(this);"checkbox"===e.attr("type")&&(t=-1<a.indexOf(e.val()),e=e.is(":checked"),t&&!e&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(s("More answer for this question is required","tutor"),"</p>")),r=!1))})):"reveal"===t&&(i.each(function(){var t=u(this);-1<a.indexOf(t.val())||(r=!1)}),e.each(function(){var t,e=u(this),o=e.attr("type");"radio"!==o&&"checkbox"!==o||(t=-1<a.indexOf(e.val()),o=e.is(":checked"),t?e.closest(".quiz-answer-input-bottom").addClass("right-answer").append('<span class="wrong-right-text"><i class="tutor-icon-checkbox-pen-outline"></i>'.concat(s("Correct Answer","tutor"),"</span>")):e.prop("checked")&&e.closest(".quiz-answer-input-bottom").addClass("wrong-answer"),t&&!o&&(e.attr("disabled","disabled"),n=!(r=!1)))})),n=r?!0:n}h.length&&"1"===_tutorobject.quiz_options.quiz_auto_start&&h.submit(),u(document).on("click",".quiz-manual-review-action",function(t){t.preventDefault();var e=u(this),o=e.attr("data-attempt-id"),n=e.attr("data-attempt-answer-id"),t=e.attr("data-mark-as");u.ajax({url:_tutorobject.ajaxurl,type:"GET",data:{action:"review_quiz_answer",attempt_id:o,attempt_answer_id:n,mark_as:t},beforeSend:function(){e.find("i").addClass("updating-icon")},success:function(t){location.reload()},complete:function(){e.find("i").removeClass("updating-icon")}})}),u(".tooltip-btn").on("hover",function(t){u(this).toggleClass("active")}),u(".tutor-course-title h4 .toggle-information-icon").on("click",function(t){u(this).closest(".tutor-topics-in-single-lesson").find(".tutor-topics-summery").slideToggle(),t.stopPropagation()}),u(".tutor-course-topic.tutor-active").find(".tutor-course-lessons").slideDown(),u(".tutor-course-title").on("click",function(){var t=u(this).siblings(".tutor-course-lessons");u(this).closest(".tutor-course-topic").toggleClass("tutor-active"),t.slideToggle()}),u(document).on("click",".tutor-topics-title h3 .toggle-information-icon",function(t){u(this).closest(".tutor-topics-in-single-lesson").find(".tutor-topics-summery").slideToggle(),t.stopPropagation()}),u(document).on("click",".tutor-course-wishlist-btn",function(t){t.preventDefault();var e=u(this),t=e.attr("data-course-id");u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:t,action:"tutor_course_add_to_wishlist"},beforeSend:function(){e.addClass("updating-icon")},success:function(t){t.success?"added"===t.data.status?e.addClass("has-wish-listed"):e.removeClass("has-wish-listed"):window.location=t.data.redirect_to},complete:function(){e.removeClass("updating-icon")}})}),_tutorobject.enable_lesson_classic_editor||(u(document).on("click",".tutor-single-lesson-a",function(t){t.preventDefault();var e=u(this),t=e.attr("data-lesson-id"),o=u("#tutor-single-entry-content");u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{lesson_id:t,action:"tutor_render_lesson_content"},beforeSend:function(){var t=e.find(".lesson_title").text();u("head title").text(t),window.history.pushState("obj",t,e.attr("href")),o.addClass("loading-lesson"),u(".tutor-single-lesson-items").removeClass("active"),e.closest(".tutor-single-lesson-items").addClass("active")},success:function(t){o.html(t.data.html),i.init(),u(".tutor-lesson-sidebar").css("display",""),window.dispatchEvent(new window.Event("tutor_ajax_lesson_loaded"))},complete:function(){o.removeClass("loading-lesson")}})}),u(document).on("click",".sidebar-single-quiz-a",function(t){t.preventDefault();var e=u(this),t=e.attr("data-quiz-id"),o=e.find(".lesson_title").text(),n=u("#tutor-single-entry-content");u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{quiz_id:t,action:"tutor_render_quiz_content"},beforeSend:function(){u("head title").text(o),window.history.pushState("obj",o,e.attr("href")),n.addClass("loading-lesson"),u(".tutor-single-lesson-items").removeClass("active"),e.closest(".tutor-single-lesson-items").addClass("active")},success:function(t){n.html(t.data.html),_(),u(".tutor-lesson-sidebar").css("display","")},complete:function(){n.removeClass("loading-lesson")}})})),u(document).on("click",".tutor-lesson-sidebar-hide-bar",function(t){t.preventDefault(),u(".tutor-lesson-sidebar").toggle(),u("#tutor-single-entry-content").toggleClass("sidebar-hidden")}),u(".tutor-tabs-btn-group a").on("click touchstart",function(t){t.preventDefault();var e=u(this),t=e.attr("href");u(".tutor-lesson-sidebar-tab-item").hide(),u(t).show(),u(".tutor-tabs-btn-group a").removeClass("active"),e.addClass("active")}),_(),u(document).on("click",".tutor-quiz-answer-next-btn, .tutor-quiz-answer-previous-btn",function(t){var e,o;t.preventDefault(),u(this).hasClass("tutor-quiz-answer-previous-btn")?u(this).closest(".quiz-attempt-single-question").hide().prev().show():v(t=(e=u(this)).closest(".quiz-attempt-single-question"))&&g(t)&&(parseInt(e.closest(".quiz-attempt-single-question").attr("id").match(/\d+/)[0],10),!(e=e.closest(".quiz-attempt-single-question").attr("data-next-question-id"))||(o=u(e))&&o.length&&("reveal"===t.attr("data-quiz-feedback-mode")?setTimeout(function(){u(".quiz-attempt-single-question").hide(),o.show()},800):(u(".quiz-attempt-single-question").hide(),o.show()),u(".tutor-quiz-questions-pagination").length&&(u(".tutor-quiz-question-paginate-item").removeClass("active"),u('.tutor-quiz-questions-pagination a[href="'+e+'"]').addClass("active"))))}),u(document).on("submit","#tutor-answering-quiz",function(t){var e=u(".quiz-attempt-single-question"),o=!0;e.length&&e.each(function(t,e){o=v(u(e)),o=g(u(e))}),o||t.preventDefault()}),u(document).on("click",".tutor-quiz-question-paginate-item",function(t){t.preventDefault();var e=u(this),t=u(e.attr("href"));u(".quiz-attempt-single-question").hide(),t.show(),u(".tutor-quiz-question-paginate-item").removeClass("active"),e.addClass("active")}),u(document).on("keyup","textarea.question_type_short_answer, textarea.question_type_open_ended",function(t){var e=u(this),o=e.val(),n=e.hasClass("question_type_short_answer")?_tutorobject.quiz_options.short_answer_characters_limit:_tutorobject.quiz_options.open_ended_answer_characters_limit,a=n-o.length;a<1&&(e.val(o.substr(0,n)),a=0),e.closest(".tutor-quiz-answers-wrap").find(".characters_remaining").html(a)}),u(".quiz-draggable-rand-answers").length&&u(".quiz-draggable-rand-answers").each(function(){var t=u(this),e=t.height();t.css({height:e})}),u(document).on("submit click",".cart-required-login, .cart-required-login a, .cart-required-login form",function(t){t.preventDefault();t=u(this).data("login_page_url");t?window.location.assign(t):u(".tutor-cart-box-login-form").fadeIn(100)}),u(".tutor-popup-form-close, .login-overlay-close").on("click",function(){u(".tutor-cart-box-login-form").fadeOut(100)}),u(document).on("keyup",function(t){27===t.keyCode&&(u(".tutor-frontend-modal").hide(),u(".tutor-cart-box-login-form").fadeOut(100))}),!u.fn.ShareLink||(h=u(".tutor-social-share-wrap")).length&&(k=JSON.parse(h.attr("data-social-share-config")),u(".tutor_share").ShareLink({title:k.title,text:k.text,image:k.image,class_prefix:"s_",width:640,height:480})),jQuery.datepicker&&u(".tutor_report_datepicker").datepicker({dateFormat:"yy-mm-dd"}),u(document).on("submit","#tutor-withdraw-account-set-form",function(t){t.preventDefault();var e=u(this),o=e.find(".tutor_set_withdraw_account_btn"),t=e.serializeObject();u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.find(".tutor-success-msg").remove(),o.addClass("updating-icon")},success:function(t){t.success&&(t='<div class="tutor-success-msg" style="display: none;"><i class="tutor-icon-mark"></i> '+t.data.msg+" </div>",o.closest(".withdraw-account-save-btn-wrap").append(t),e.find(".tutor-success-msg").length&&e.find(".tutor-success-msg").slideDown(),setTimeout(function(){e.find(".tutor-success-msg").slideUp()},5e3))},complete:function(){o.removeClass("updating-icon")}})}),u(document).on("click",".open-withdraw-form-btn, .close-withdraw-form-btn",function(t){t.preventDefault(),"yes"!=u(this).data("reload")?(u(".tutor-earning-withdraw-form-wrap").toggle().find('[name="tutor_withdraw_amount"]').val(""),u(".tutor-withdrawal-pop-up-success").hide().next().show(),u("html, body").css("overflow",u(".tutor-earning-withdraw-form-wrap").is(":visible")?"hidden":"auto")):window.location.reload()}),u(document).on("submit","#tutor-earning-withdraw-form",function(t){t.preventDefault();var e=u(this),o=u("#tutor-earning-withdraw-btn"),n=u(".tutor-withdraw-form-response"),t=e.serializeObject();u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.find(".tutor-success-msg").remove(),o.addClass("updating-icon")},success:function(t){t.success?("undefined"!==t.data.available_balance&&u(".withdraw-balance-col .available_balance").html(t.data.available_balance),u(".tutor-withdrawal-pop-up-success").show().next().hide()):(t='<div class="tutor-error-msg inline-image-text is-inline-block">                            <img src="'+window._tutorobject.tutor_url+'assets/images/icon-cross.svg"/>                             <div>                                <b>Error</b><br/>                                <span>'+t.data.msg+"</span>                            </div>                        </div>",n.html(t),setTimeout(function(){n.html("")},5e3))},complete:function(){o.removeClass("updating-icon")}})});var w=u(".tutor-frontend-modal");function b(){u("ul.tutor-bp-enrolled-course-list").each(function(){var t,e=u(this),o=e.find(" > li");3<o.length&&(t=o.length-3,o.each(function(t,e){var o=u(this);3<=t&&o.hide()}),t='<a href="javascript:;" class="tutor_bp_plus_courses"><strong>+'+t+" More </strong></a> Courses",e.closest(".tutor-bp-enrolled-courses-wrap").find(".thread-participant-enrolled-info").html(t)),e.show()})}w.each(function(){var e=u(this),t=u(this).data("popup-rel");u('[href="'+t+'"]').on("click",function(t){e.fadeIn(),t.preventDefault()})}),u(document).on("click",".tm-close, .tutor-frontend-modal-overlay, .tutor-modal-btn-cancel",function(){w.fadeOut()}),u(document).on("click",".tutor-dashboard-element-delete-btn",function(t){t.preventDefault();t=u(this).attr("data-id");u("#tutor-dashboard-delete-element-id").val(t)}),u(document).on("submit","#tutor-dashboard-delete-element-form",function(t){t.preventDefault();var e=u("#tutor-dashboard-delete-element-id").val(),o=u(".tutor-modal-element-delete-btn"),t=u(this).serializeObject();u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){o.addClass("updating-icon")},success:function(t){t.success&&u("#tutor-dashboard-"+t.data.element+"-"+e).remove()},complete:function(){o.removeClass("updating-icon"),u(".tutor-frontend-modal").hide()}})}),u("#tutor_profile_photo_id").val()||u(".tutor-profile-photo-delete-btn").hide(),u(document).on("click",".tutor-profile-photo-delete-btn",function(){return u(".tutor-profile-photo-upload-wrap").find("img").attr("src",_tutorobject.placeholder_img_src),u("#tutor_profile_photo_id").val(""),u(".tutor-profile-photo-delete-btn").hide(),u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{action:"tutor_profile_photo_remove"}}),!1}),u(document).on("submit","#tutor_assignment_start_form",function(t){t.preventDefault();t=u(this).serializeObject();t.action="tutor_start_assignment",u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){u("#tutor_assignment_start_btn").addClass("updating-icon")},success:function(t){t.success&&location.reload()},complete:function(){u("#tutor_assignment_start_btn").removeClass("updating-icon")}})}),u(document).on("submit","#tutor_assignment_submit_form",function(t){u('textarea[name="assignment_answer"]').val().trim().length<1&&(u("#form_validation_response").html('<div class="tutor-error-msg">'+s("Assignment answer can not be empty","tutor")+"</div>"),t.preventDefault())}),u(document).on("click",".video_source_upload_wrap_html5 .video_upload_btn",function(t){t.preventDefault();var e,o=u(this);e||(e=wp.media({title:s("Select / Upload Media Of Your Chosen Persuasion","tutor"),button:{text:s("Use media","tutor")},library:{type:"video"},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();o.closest(".video_source_upload_wrap_html5").find("span.video_media_id").data("video_url",t.url).text(t.id).trigger("paste").closest("p").show(),o.closest(".video_source_upload_wrap_html5").find("input").val(t.id)}),e.open()}),u("form").on("change",".tutor-assignment-file-upload",function(){u(this).siblings("label").find("span").html(u(this).val().replace(/.*(\/|\\)/,""))}),u(document).on("click",".tutor-topics-in-single-lesson .tutor-topics-title h3, .tutor-single-lesson-topic-toggle",function(t){var e=u(this).closest(".tutor-topics-in-single-lesson");e.toggleClass("tutor-topic-active"),e.find(".tutor-lessons-under-topic").slideToggle()}),u(".tutor-single-lesson-items.active").closest(".tutor-lessons-under-topic").show(),u(".tutor-single-lesson-items.active").closest(".tutor-topics-in-single-lesson").addClass("tutor-topic-active"),u(".tutor-course-lesson.active").closest(".tutor-lessons-under-topic").show(),u(document).on("click",".add-assignment-attachments",function(t){t.preventDefault();var o,n=u(this);o||(o=wp.media({title:s("Select / Upload Media Of Your Chosen Persuasion","tutor"),button:{text:s("Use media","tutor")},multiple:!1})).on("select",function(){var t=o.state().get("selection").first().toJSON(),e='<div class="tutor-individual-attachment-file"><p class="attachment-file-name">'+t.filename+'</p><input type="hidden" name="tutor_assignment_attachments[]" value="'+t.id+'"><a href="javascript:;" class="remove-assignment-attachment-a text-muted"> &times; Remove</a></div>';u("#assignment-attached-file").append(e),n.closest(".video_source_upload_wrap_html5").find("input").val(t.id)}),o.open()}),u(document).on("click",".remove-assignment-attachment-a",function(t){t.preventDefault(),u(this).closest(".tutor-individual-attachment-file").remove()}),"tutor_add_course_builder"===u('input[name="tutor_action"]').val()&&setInterval(function(){var t=u("form#tutor-frontend-course-builder").serializeObject();t.tutor_ajax_action="tutor_course_builder_draft_save",u.ajax({type:"POST",data:t,beforeSend:function(){u(".tutor-dashboard-builder-draft-btn span").text(s("Saving...","tutor"))},success:function(t){},complete:function(){u(".tutor-dashboard-builder-draft-btn span").text(s("Save","tutor"))}})},3e4),u(".tutor-course-builder-section-title").on("click",function(){u(this).find("i").hasClass("tutor-icon-up")?u(this).find("i").removeClass("tutor-icon-up").addClass("tutor-icon-down"):u(this).find("i").removeClass("tutor-icon-down").addClass("tutor-icon-up"),u(this).next("div").slideToggle()}),u(document).on("click",".open-tutor-edit-review-modal",function(t){t.preventDefault();var e=u(this),o=e.attr("data-review-id"),n=_tutorobject.nonce_key,t={review_id:o,action:"tutor_load_edit_review_modal"};t[n]=_tutorobject[n],u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){void 0!==t.data&&(u(".tutor-edit-review-modal-wrap .modal-container").html(t.data.output),u(".tutor-edit-review-modal-wrap").attr("data-review-id",o).addClass("show"))},complete:function(){e.removeClass("tutor-updating-message")}})}),u(document).on("submit","#tutor_update_review_form",function(t){t.preventDefault();var e=u(this),o=e.closest(".tutor-edit-review-modal-wrap ").attr("data-review-id"),t=_tutorobject.nonce_key,o={review_id:o,rating:e.find('input[name="tutor_rating_gen_input"]').val(),review:e.find('textarea[name="review"]').val().trim(),action:"tutor_update_review_modal"};o[t]=_tutorobject[t],u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.find('button[type="submit"]').addClass("tutor-updating-message")},success:function(t){t.success&&(u(".tutor-edit-review-modal-wrap").removeClass("show"),location.reload(!0))},complete:function(){e.find('button[type="submit"]').removeClass("tutor-updating-message")}})}),u(document).on("click","#tutor_profile_photo_button",function(t){t.preventDefault(),u("#tutor_profile_photo_file").trigger("click")}),u(document).on("change","#tutor_profile_photo_file",function(t){t.preventDefault();this.files&&this.files[0]&&((t=new FileReader).onload=function(t){u(".tutor-profile-photo-upload-wrap").find("img").attr("src",t.target.result)},t.readAsDataURL(this.files[0]))}),u(document).on("click",".thread-content .subject",function(t){var e=u(this),o=parseInt(e.closest(".thread-content").attr("data-thread-id")),e=_tutorobject.nonce_key,o={thread_id:o,action:"tutor_bp_retrieve_user_records_for_thread"};o[e]=_tutorobject[e],u.ajax({type:"POST",url:window._tutorobject.ajaxurl,data:o,beforeSend:function(){u("#tutor-bp-thread-wrap").html("")},success:function(t){t.success&&(u("#tutor-bp-thread-wrap").html(t.data.thread_head_html),b())}})}),b(),u(document).on("click","a.tutor_bp_plus_courses",function(t){t.preventDefault();t=u(this);t.closest(".tutor-bp-enrolled-courses-wrap").find(".tutor-bp-enrolled-course-list li").show(),t.closest(".thread-participant-enrolled-info").html("")}),u(".tutor-dropbtn").click(function(){u(this).parent().find(".tutor-dropdown-content").slideToggle(100)}),u(document).on("click",function(t){var e=u(".tutor-dropdown"),o=e.find(".tutor-dropdown-content");e.is(t.target)||0!==e.has(t.target).length||o.slideUp(100)}),u(document).on("submit",".tutor-login-form-wrap #loginform",function(t){t.preventDefault();var t=u(this),e=u(".tutor-login-form-wrap"),t=t.serializeObject();t.action="tutor_user_login",u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,success:function(t){t.success?(location.assign(t.data.redirect),location.reload()):(t=t.data||s("Invalid username or password!","tutor"),e.find(".tutor-alert").length?e.find(".tutor-alert").html(t):e.prepend('<div class="tutor-alert tutor-alert-warning">'+t+"</div>"))}})});var y,k=u('.tutor-frontend-builder-course-price [name="tutor_course_price_type"]');0==k.length?u("#_tutor_is_course_public_meta_checkbox").show():k.change(function(){var t;u(this).prop("checked")&&(t="paid"==u(this).val()?"hide":"show",u("#_tutor_is_course_public_meta_checkbox")[t]())}).trigger("change"),(y=jQuery).fn.tutor_tooltip=function(){return this.on("mouseenter click",".tooltip",function(t){t.stopPropagation(),y(this).removeClass("isVisible")}).on("mouseenter focus",":has(>.tooltip)",function(t){y(this).prop("disabled")||y(this).find(".tooltip").addClass("isVisible")}).on("mouseleave blur keydown",":has(>.tooltip)",function(t){("keydown"!==t.type||27===t.which)&&y(this).find(".tooltip").removeClass("isVisible")}),this},jQuery(".tutor-tooltip-inside").tutor_tooltip();var j=u(".tutor-course-filter-container form"),x=u(".tutor-course-filter-loop-container"),q={};j.on("submit",function(t){t.preventDefault()}).find("input").change(function(t){var e=Object.assign(j.serializeObject(),q);e.action="tutor_course_filter_ajax",x.html('<center><img src="'+window._tutorobject.loading_icon_url+'"/></center>'),u(this).closest("form").find(".tutor-clear-all-filter").show(),u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:e,success:function(t){x.html(t).find(".tutor-pagination-wrap a").each(function(){u(this).attr("data-href",u(this).attr("href")).attr("href","#")})}})}),x.on("click",".tutor-pagination-wrap a",function(t){var e=u(this).data("href")||u(this).attr("href");!e||(e=(e=new URL(e)).searchParams.get("paged"))&&(t.preventDefault(),q.page=e,j.find("input:first").trigger("change"))}),x.on("change",'select[name="tutor_course_filter"]',function(){q.tutor_course_filter=u(this).val(),j.find("input:first").trigger("change")});k=u(".tutor-course-loop");0<k.length&&("yes"===window.sessionStorage.getItem("tutor_refresh_archive")&&window.location.reload(),window.sessionStorage.removeItem("tutor_refresh_archive"),k.on("click",".tutor-loop-cart-btn-wrap",function(){window.sessionStorage.setItem("tutor_refresh_archive","yes")}));k=u("#tutor_profile_cover_photo_editor");0<k.length&&new function(n){this.dialogue_box=n.find("#tutor_photo_dialogue_box"),this.open_dialogue_box=function(t){this.dialogue_box.attr("name",t),this.dialogue_box.trigger("click")},this.validate_image=function(t){return!0},this.upload_selected_image=function(t,e){var o,n,a;e&&this.validate_image(e)&&(o=tutor_get_nonce_data(!0),(n=this).toggle_loader(t,!0),(a=new FormData).append("action","tutor_user_photo_upload"),a.append("photo_type",t),a.append("photo_file",e,e.name),a.append(o.key,o.value),u.ajax({url:window._tutorobject.ajaxurl,data:a,type:"POST",processData:!1,contentType:!1,error:n.error_alert,complete:function(){n.toggle_loader(t,!1)}}))},this.accept_upload_image=function(t,e){var o=e.currentTarget.files[0]||null;t.update_preview(e.currentTarget.name,o),t.upload_selected_image(e.currentTarget.name,o),u(e.currentTarget).val("")},this.delete_image=function(t){var e=this;e.toggle_loader(t,!0),u.ajax({url:window._tutorobject.ajaxurl,data:{action:"tutor_user_photo_remove",photo_type:t},type:"POST",error:e.error_alert,complete:function(){e.toggle_loader(t,!1)}})},this.update_preview=function(t,e){var o=n.find("cover_photo"==t?"#tutor_cover_area":"#tutor_profile_area");if(!e)return o.css("background-image","url("+o.data("fallback")+")"),void this.delete_image(t);t=new FileReader;t.onload=function(t){o.css("background-image","url("+t.target.result+")")},t.readAsDataURL(e)},this.toggle_profile_pic_action=function(t){n[void 0===t?"toggleClass":t?"addClass":"removeClass"]("pop-up-opened")},this.error_alert=function(){alert("Something Went Wrong.")},this.toggle_loader=function(t,e){n.find("#tutor_photo_meta_area .loader-area").css("display",e?"block":"none")},this.initialize=function(){var e=this;this.dialogue_box.change(function(t){e.accept_upload_image(e,t)}),n.find("#tutor_profile_area .tutor_overlay, #tutor_pp_option>div:last-child").click(function(){e.toggle_profile_pic_action()}),n.find(".tutor_cover_uploader").click(function(){e.open_dialogue_box("cover_photo")}),n.find(".tutor_pp_uploader").click(function(){e.open_dialogue_box("profile_photo")}),n.find(".tutor_cover_deleter").click(function(){e.update_preview("cover_photo",null)}),n.find(".tutor_pp_deleter").click(function(){e.update_preview("profile_photo",null)})}}(k).initialize(),u(".tutor-instructor-filter").each(function(){var e,i=u(this),s={};function n(t,e,o){var n=i.find(".filter-result-container"),a=n.html(),r=i.data();r.current_page=o||1,t?s[t]=e:s={},s.attributes=r,s.action="load_filtered_instructor",n.html('<div style="text-align:center"><img src="'+window._tutorobject.loading_icon_url+'"/></div>'),u.ajax({url:window._tutorobject.ajaxurl,data:s,type:"POST",success:function(t){n.html(t)},error:function(){n.html(a),tutor_toast("Failed","Request Error","error")}})}i.on("change",'.course-category-filter [type="checkbox"]',function(){var e={};u(this).closest(".course-category-filter").find("input:checked").each(function(){e[u(this).val()]=u(this).parent().text()});var o=i.find(".selected-cate-list").empty(),t=Object.keys(e);t.forEach(function(t){o.append("<span>"+e[t]+' <span class="tutor-icon-line-cross" data-cat_id="'+t+'"></span></span>')}),t.length&&o.append('<span data-cat_id="0">Clear All</span>'),n(u(this).attr("name"),t)}).on("click",".selected-cate-list [data-cat_id]",function(){var t=u(this).data("cat_id"),e=i.find('.mobile-filter-popup [type="checkbox"]');(e=t?e.filter('[value="'+t+'"]'):e).prop("checked",!1).trigger("change")}).on("input",'.filter-pc [name="keyword"]',function(){var t=u(this).val();e&&window.clearTimeout(e),e=window.setTimeout(function(){n("keyword",t),e=null},500)}).on("click","[data-page_number]",function(t){t.preventDefault(),n(null,null,u(this).data("page_number"))}).on("click",".clear-instructor-filter",function(){var t=u(this).closest(".tutor-instructor-filter");t.find('input[type="checkbox"]').prop("checked",!1),t.find('[name="keyword"]').val(""),n()}).on("click",".mobile-filter-container i",function(){u(this).parent().next().addClass("is-opened")}).on("click",".mobile-filter-popup button",function(){u('.mobile-filter-popup [type="checkbox"]').trigger("change"),u(this).closest(".mobile-filter-popup").removeClass("is-opened")}).on("input",'.filter-mobile [name="keyword"]',function(){i.find('.filter-pc [name="keyword"]').val(u(this).val()).trigger("input")}).on("change",'.mobile-filter-popup [type="checkbox"]',function(t){var e,o;t.originalEvent||(e=u(this).attr("name"),o=u(this).val(),t=u(this).prop("checked"),i.find('.course-category-filter [name="'+e+'"]').filter('[value="'+o+'"]').prop("checked",t).trigger("change"))}).on("mousedown touchstart",".expand-instructor-filter",function(t){var e=u(window).height(),o=i.find(".mobile-filter-popup>div"),n=e-o.height(),a=((t.originalEvent.touches||[])[0]||t).clientY-n;i.on("mousemove touchmove",function(t){t=((t.originalEvent.touches||[])[0]||t).clientY,t=e-t+a;200<t&&t<=e&&o.css("height",t+"px")})}).on("mouseup touchend",function(){i.off("mousemove touchmove")}).on("click",".mobile-filter-popup>div",function(t){t.stopImmediatePropagation()}).on("click",".mobile-filter-popup",function(t){u(this).removeClass("is-opened")})}),u(".tutor-course-retake-button").click(function(t){t.preventDefault();var t=u(this),e=t.attr("href"),o=t.data("course_id"),t={title:s("Override Previous Progress","tutor"),description:s("Before continue, please decide whether to keep progress or reset.","tutor"),buttons:{reset:{title:s("Reset Data","tutor"),class:"secondary",callback:function(){var t=n.find(".tutor-button-secondary");t.prop("disabled",!0).append('<img style="margin-left: 7px" src="'+window._tutorobject.loading_icon_url+'"/>'),u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_reset_course_progress",course_id:o},success:function(t){t.success?window.location.assign(t.data.redirect_to):alert((t.data||{}).message||s("Something went wrong","tutor"))},complete:function(){t.prop("disabled",!1).find("img").remove()}})}},keep:{title:s("Keep Data","tutor"),class:"primary",callback:function(){window.location.assign(e)}}}},n=new window.tutor_popup(u,"icon-gear",40).popup(t)}),document.body.addEventListener("click",function(t){var e,o=t.target,n=o.tagName,a=o.parentElement.tagName;0<m.length&&"EXPIRED"!=m.html()&&("A"!==n&&"A"!==a||(t.preventDefault(),t.stopImmediatePropagation(),t={title:s("Abandon Quiz?","tutor"),description:s("Do you want to abandon this quiz? The quiz will be submitted partially up to this question if you leave this page.","tutor"),buttons:{keep:{title:s("Yes, leave quiz","tutor"),id:"leave",class:"secondary",callback:function(){var t=u("form#tutor-answering-quiz").serialize()+"&action=tutor_quiz_abandon";u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){document.querySelector("#tutor-popup-leave").innerHTML=s("Leaving...","tutor")},success:function(t){t.success?null==o.href?location.href=o.parentElement.href:location.href=o.href:alert(s("Something went wrong","tutor"))},error:function(){alert(s("Something went wrong","tutor")),e.remove()}})}},reset:{title:s("Stay here","tutor"),id:"reset",class:"primary",callback:function(){e.remove()}}}},e=new window.tutor_popup(u,"",40).popup(t)))}),u("body").on("submit","form#tutor-start-quiz",function(){u(this).find("button").prop("disabled",!0)})})})()})();