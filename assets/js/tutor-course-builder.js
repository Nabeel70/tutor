(()=>{var o={674:()=>{window.jQuery(document).ready(function(i){var t=wp.i18n,a=t.__;t._x,t._n,t._nx;i(document).on("click",".open-tutor-assignment-modal, .tutor-create-assignments-btn",function(t){t.preventDefault();var e=i(this),o=e.hasClass("tutor-create-assignments-btn")?0:e.attr("data-assignment-id"),a=e.closest(".tutor-topics-wrap").data("topic-id"),t=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{assignment_id:o,topic_id:a,course_id:t,action:"tutor_load_assignments_builder_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){i(".tutor-assignment-modal-wrap .modal-container").html(t.data.output),i(".tutor-assignment-modal-wrap").addClass("tutor-is-active"),i(document).trigger("assignment_modal_loaded"),tinymce.init(tinyMCEPreInit.mceInit.course_description),tinymce.execCommand("mceRemoveEditor",!1,"tutor_assignments_modal_editor"),tinyMCE.execCommand("mceAddEditor",!1,"tutor_assignments_modal_editor")},complete:function(){quicktags({id:"tutor_assignments_modal_editor"}),e.removeClass("tutor-updating-message")}})}),i(document).on("click",".update_assignment_modal_btn",function(t){t.preventDefault();var e=i(this),o="tutor_assignments_modal_editor",t=tinyMCE.get(o),t=t?t.getContent():i("#"+o).val(),o=i(this).closest(".tutor-modal").find("form.tutor_assignment_modal_form").serializeObject();o.assignment_content=t,i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(i("#tutor-course-content-wrap").html(t.data.course_contents),enable_sorting_topic_lesson(),i(".tutor-assignment-modal-wrap").removeClass("tutor-is-active"),tutor_toast(a("Success","tutor"),a("Assignment Updated","tutor"),"success"))},complete:function(){e.removeClass("tutor-updating-message")}})})})},417:()=>{window.jQuery(document).ready(function(e){var t=wp.i18n,s=t.__;t._x,t._n,t._nx;e(document).on("click",".tutor-attachment-cards .tutor-delete-attachment",function(t){t.preventDefault(),e(this).closest("[data-attachment_id]").remove()}),e(document).on("click",".tutorUploadAttachmentBtn",function(t){t.preventDefault();var a,i=e(this),n=i.data("name");a||(a=wp.media({title:s("Select or Upload Media Of Your Choice","tutor"),button:{text:s("Upload media","tutor")},multiple:!0})).on("select",function(){var t=a.state().get("selection").toJSON();if(t.length)for(var e=0;e<t.length;e++){var o=t[e],o='<div data-attachment_id="'.concat(o.id,'">\n                        <div>\n                            <a href="').concat(o.url,'" target="_blank">\n                                ').concat(o.filename,'\n                            </a>\n                            <input type="hidden" name="').concat(n,'" value="').concat(o.id,'">\n                        </div>\n                        <div>\n                            <span class="filesize">\n                                ').concat(s("Size","tutor"),": ").concat(o.filesizeHumanReadable,'\n                            </span>\n                            <span class="tutor-delete-attachment tutor-icon-line-cross"></span>\n                        </div>\n                    </div>');i.parent().find(".tutor-attachment-cards").append(o)}}),a.open()})})},470:()=>{function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s;s=window.jQuery,window.enable_sorting_topic_lesson=function(){jQuery().sortable&&(s(".course-contents").sortable({handle:".course-move-handle",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){tutor_sorting_topics_and_lesson()}}),s(".tutor-lessons:not(.drop-lessons)").sortable({connectWith:".tutor-lessons",items:"div.course-content-item",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){tutor_sorting_topics_and_lesson()}}))},window.tutor_sorting_topics_and_lesson=function(){var n={};s(".tutor-topics-wrap").each(function(t,e){var o=s(this),a=parseInt(o.attr("id").match(/\d+/)[0],10),i={};o.find(".course-content-item").each(function(t,e){var o=s(this),o=parseInt(o.attr("id").match(/\d+/)[0],10);i[t]=o}),n[t]={topic_id:a,lesson_ids:i}}),s("#tutor_topics_lessons_sorting").val(JSON.stringify(n))},window.jQuery(document).ready(function(c){var t=wp.i18n,a=t.__;t._x,t._n,t._nx;enable_sorting_topic_lesson(),c(document).on("click",".open-tutor-lesson-modal",function(t){t.preventDefault();var e=c(this),o=e.attr("data-lesson-id"),a=e.attr("data-topic-id"),i=c("#post_ID").val();c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:o,topic_id:a,course_id:i,action:"tutor_load_edit_lesson_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){c(".tutor-lesson-modal-wrap .modal-container").html(t.data.output),c(".tutor-lesson-modal-wrap").attr({"data-lesson-id":o,"data-topic-id":a}).addClass("show"),c(".tutor-lesson-modal-wrap").addClass("tutor-is-active");t=(t=tinyMCEPreInit.mceInit.tutor_editor_config)||tinyMCEPreInit.mceInit.course_description;tinymce.init(t),tinymce.execCommand("mceRemoveEditor",!1,"tutor_lesson_modal_editor"),tinyMCE.execCommand("mceAddEditor",!1,"tutor_lesson_modal_editor"),c(document).trigger("lesson_modal_loaded",{lesson_id:o,topic_id:a,course_id:i})},complete:function(){quicktags({id:"tutor_lesson_modal_editor"}),e.removeClass("tutor-updating-message")}})}),c(document).on("change",".tutor_lesson_video_source",function(t){c(this).nextAll().hide().filter(".video_source_wrap_"+c(this).val()).show()}),c(document).on("click",".update_lesson_modal_btn",function(t){t.preventDefault();var e=c(this),o="tutor_lesson_modal_editor",t=tinyMCE.get(o),t=t?t.getContent():c("#"+o).val(),o=c(this).closest(".tutor-modal").find("form").serializeObject();o.lesson_content=t,c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(c("#tutor-course-content-wrap").html(t.data.course_contents),enable_sorting_topic_lesson(),e.closest(".tutor-modal").removeClass("tutor-is-active"),tutor_toast(a("Success","tutor"),a("Lesson Updated","tutor"),"success"))},complete:function(){e.removeClass("tutor-updating-message")}})});var o,t=".video_source_wrap_external_url input, .video_source_wrap_vimeo input, .video_source_wrap_youtube input, .video_source_wrap_html5, .video_source_upload_wrap_html5";c("body").on("paste",t,function(t){t.stopImmediatePropagation();var s=c(this).closest(".tutor-lesson-modal-wrap").find(".tutor-option-field-video-duration"),e=s.find("label"),o=c(this).hasClass("video_source_wrap_html5")||c(this).hasClass("video_source_upload_wrap_html5"),a=c(this).data("autofill_url");c(this).data("autofill_url",null);function i(t){t?0==e.find("img").length&&e.append(' <img src="'+window._tutorobject.loading_icon_url+'" style="display:inline-block"/>'):e.find("img").remove()}function n(t){for(var e=Math.floor(t/3600),o=Math.floor((t-3600*e)/60),t=Math.round(t-3600*e-60*o),a=[e=e<10?"0"+e:e,o=o<10?"0"+o:o,t=t<10?"0"+t:t],i=s.find("input"),n=0;n<3;n++)i.eq(n).val(a[n])}var r,u,d,t=o?c(this).find("span").data("video_url"):a||t.originalEvent.clipboardData.getData("text");o||c(this).parent().hasClass("video_source_wrap_external_url")?((r=document.createElement("video")).addEventListener("loadedmetadata",function(){n(r.duration),i(!1)}),i(!0),r.src=t):c(this).parent().hasClass("video_source_wrap_vimeo")?(u=(d=t.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/))?d[5]:null)&&(i(!0),c.getJSON("http://vimeo.com/api/v2/video/"+u+"/json",function(t){Array.isArray(t)&&t[0]&&void 0!==t[0].duration&&n(t[0].duration),i(!1)})):c(this).parent().hasClass("video_source_wrap_youtube")&&(u=!(!(d=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=d[7].length)&&d[7],d=c(this).data("youtube_api_key"),u&&d&&(d="https://www.googleapis.com/youtube/v3/videos?id="+u+"&key="+d+"&part=contentDetails",i(!0),c.getJSON(d,function(t){"object"==l(t)&&t.items&&t.items[0]&&t.items[0].contentDetails&&t.items[0].contentDetails.duration&&n(function(t){t=(t=t.match(/PT(\d+H)?(\d+M)?(\d+S)?/)).slice(1).map(function(t){if(null!=t)return t.replace(/\D/,"")});return 3600*(parseInt(t[0])||0)+60*(parseInt(t[1])||0)+(parseInt(t[2])||0)}(t.items[0].contentDetails.duration)),i(!1)})))}).on("input",t,function(){o&&clearTimeout(o);var e=c(this);o=setTimeout(function(){var t=(t=e.val())?t.trim():"";console.log("Trigger",t),t&&e.data("autofill_url",t).trigger("paste")},700)})})},652:()=>{function e(e,t){var o,a=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)),a}function m(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,o;e=a,t=i[o=t],o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function u(){function t(t){t.classList.contains("disabled")||t.classList.add("disabled")}function e(t){t.classList.contains("disabled")&&t.classList.remove("disabled")}var o=document.querySelector(".tutor_select_value_holder").value,a=document.getElementById("tutor_quiz_question_answers"),i=document.getElementById("tutor_quiz_question_answer_form"),n=document.querySelector(".add_question_answers_option");("open_ended"===o||"short_answer"===o||("true_false"===o||"fill_in_the_blank"===o)&&(i.hasChildNodes()||a.hasChildNodes())?t:e)(n)}window.jQuery(document).ready(function(c){function l(t,e,o){var a=t.find(".tutor-modal-steps"),i=(n=a.find('li[data-tab="'+t.attr("data-target")+'"]')).next(),n=n.prev();if(e)return i.length?(i.addClass("tutor-is-completed"),t.attr("data-target",i.data("tab")),!0):(tutor_toast(s("Success","tutor"),s("Quiz Updated"),"success"),t.removeClass("tutor-is-active"),null);i=n.data("tab"),n.length&&t.attr("data-target",i),o&&a.find('li[data-tab="'+i+'"]').nextAll().removeClass("tutor-is-completed")}function _(){c(".tutor-field-slider").each(function(){var t=c(this),o=t.closest(".tutor-field-type-slider").find('input[type="hidden"]'),a=t.closest(".tutor-field-type-slider").find(".tutor-field-type-slider-value"),e=parseFloat(t.closest(".tutor-field-type-slider").attr("data-min")),i=parseFloat(t.closest(".tutor-field-type-slider").attr("data-max"));t.slider({range:"max",min:e,max:i,value:o.val(),slide:function(t,e){a.text(e.value),o.val(e.value)}})})}var s=wp.i18n.__;function p(){jQuery().sortable&&c(".quiz-builder-questions-wrap").sortable({handle:".question-sorting",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){var a;a={},c(".quiz-builder-question-wrap").each(function(t,e){var o=c(this),o=parseInt(o.attr("data-question-id"),10);a[t]=o}),c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_question_ids:a,action:"tutor_quiz_question_sorting"}})}})}function r(){jQuery().sortable&&c("#tutor_quiz_question_answers").sortable({handle:".tutor-quiz-answer-sort-icon",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){var a;a={},c(".tutor-quiz-answer-wrap").each(function(t,e){var o=c(this),o=parseInt(o.attr("data-answer-id"),10);a[t]=o}),c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_answer_ids:a,action:"tutor_quiz_answer_sorting"}})}})}({init:function(){c(document).on("click",".question-type-select .tutor-select-option",function(t){t.preventDefault();var e=c(this);"true"!==e.attr("data-is-pro")?(t=e.html().trim(),e.closest(".question-type-select").find(".select-header .lead-option").html(t),e.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(e.attr("data-value")).trigger("change"),e.closest(".tutor-select-options").hide(),u()):alert("Tutor Pro version required")}),c(document).on("click",".question-type-select .select-header",function(t){t.preventDefault(),c(this).closest(".question-type-select").find(".tutor-select-options").slideToggle()}),this.setValue(),this.hideOnOutSideClick()},setValue:function(){c(".question-type-select").each(function(){var t=c(this).find(".tutor-select-option");t.length&&t.each(function(){var t,e=c(this);"selected"===e.attr("data-selected")&&(t=e.html().trim(),e.closest(".question-type-select").find(".select-header .lead-option").html(t),e.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(e.attr("data-value")))})})},hideOnOutSideClick:function(){c(document).mouseup(function(t){var e=c(".tutor-select-options");c(t.target).closest(".select-header").length||e.is(t.target)||0!==e.has(t.target).length||e.hide()})},reInit:function(){this.setValue()}}).init(),_(),c(document).on("click",".tutor-add-quiz-btn, .open-tutor-quiz-modal, .back-to-quiz-questions-btn",function(t){t.preventDefault();var e=c(this),o=c(this).hasClass("open-tutor-quiz-modal"),a=c(".tutor-modal.tutor-quiz-builder-modal-wrap"),i=e.hasClass("tutor-add-quiz-btn")?0:e.attr("data-quiz-id"),n=e.closest(".tutor-topics-wrap").data("topic-id"),s=c("#post_ID").val();c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:i,topic_id:n,course_id:s,action:"tutor_load_quiz_builder_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){c(".tutor-quiz-builder-modal-wrap").addClass("tutor-is-active"),c(".tutor-quiz-builder-modal-wrap .modal-container").html(t.data.output),c(".tutor-quiz-builder-modal-wrap").attr("data-quiz-id",i).attr("quiz-for-post-id",n).addClass("show"),a.removeClass("tutor-has-question-from"),o&&(l(a,!1,!0),l(a,!1,!0)),c(document).trigger("quiz_modal_loaded",{quiz_id:i,topic_id:n,course_id:s}),_(),p()},complete:function(){e.removeClass("tutor-updating-message")}})}),c(document).on("click",".tutor-quiz-builder-modal-wrap button",function(t){var e,o,a,i,n,s=c(this),r=s.closest(".tutor-modal"),u=r.attr("data-target"),d=c(this).data("action");"back"!=d?"next"==d&&(e=c("#post_ID").val(),o=r.find('[name="topic_id"]').val(),a=r.find('[name="quiz_id"]').val(),"quiz-builder-tab-quiz-info"==u||"quiz-builder-tab-settings"==u?(i=r.find('[name="quiz_title"]').val(),n=r.find('[name="quiz_description"]').val(),d=r.find("#quiz-builder-tab-settings :input, #quiz-builder-tab-advanced-options :input").serializeObject(),c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:m(m({},d),{},{quiz_title:i,quiz_description:n,course_id:e,quiz_id:a,topic_id:o,action:"tutor_quiz_save"}),beforeSend:function(){s.addClass("tutor-updating-message")},success:function(t){a?c("#tutor-quiz-"+a).html(t.data.output_quiz_row):c("#tutor-topics-"+o+" .tutor-lessons").append(t.data.output_quiz_row),c(".tutor-quiz-builder-modal-wrap .modal-container").html(t.data.output),c(document).trigger("quiz_modal_loaded",{topic_id:o,course_id:e}),_(),l(r,!0),p()},complete:function(){s.removeClass("tutor-updating-message")}})):"quiz-builder-tab-questions"==u&&l(r,!0)):l(r,!1)}),c(document).on("click",".tutor-quiz-open-question-form",function(t){t.preventDefault();var e=c(this),o=e.closest(".tutor-modal"),a=o.find('[name="quiz_id"]').val(),i=o.find('[name="topic_id"]').val(),n=c("#post_ID").val(),t=e.attr("data-question-id"),n={quiz_id:a,topic_id:i,course_id:n,action:"tutor_quiz_builder_get_question_form"};t&&(n.question_id=t),c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:n,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){o.find(".modal-container").html(t.data.output),o.addClass("tutor-has-question-from"),r(),u()},complete:function(){e.removeClass("tutor-updating-message")}})}),c(document).on("click",".tutor-quiz-question-trash",function(t){t.preventDefault();var e=c(this),t=e.attr("data-question-id");c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:t,action:"tutor_quiz_builder_question_delete"},beforeSend:function(){e.closest(".quiz-builder-question-wrap").remove()}})}),c(document).on("click",".add_question_answers_option:not(.disabled)",function(t){t.preventDefault();var e=c(this),o=e.attr("data-question-id"),t=c("#tutor-quiz-question-wrapper :input").serializeObject();t.question_id=o,t.action="tutor_quiz_add_question_answers",c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){c("#tutor_quiz_question_answer_form").html(t.data.output),u()},complete:function(){e.removeClass("tutor-updating-message")}})}),c(document).on("click",".quiz-modal-question-save-btn",function(t){t.preventDefault();var e=c(this),o=e.closest(".tutor-modal"),t=c("#tutor-quiz-question-wrapper :input").serializeObject();t.action="tutor_quiz_modal_update_question",c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success?o.find(".back-to-quiz-questions-btn").trigger("click"):void 0!==t.data&&c("#quiz_validation_msg_wrap").html(t.data.validation_msg)},complete:function(){setTimeout(function(){return e.removeClass("tutor-updating-message")},2e3)}})}),c(document).on("refresh","#tutor_quiz_question_answers",function(t){t.preventDefault();var e=c(this),o=e.attr("data-question-id"),t=c(".tutor_select_value_holder").val();c.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:o,question_type:t,action:"tutor_quiz_builder_get_answers_by_question"},beforeSend:function(){e.addClass("tutor-updating-message"),c("#tutor_quiz_question_answer_form").html("")},success:function(t){t.success&&e.html(t.data.output)},complete:function(){e.removeClass("tutor-updating-message")}})}),c(document).on("change","input.tutor_select_value_holder",function(t){c(".add_question_answers_option").trigger("click"),c("#tutor_quiz_question_answers").trigger("refresh")})})},5:()=>{window.jQuery(document).ready(function(a){var i=wp.i18n.__;a(document).on("click","#tutor-add-topic-btn",function(t){t.preventDefault();var e=a(this),o=e.closest(".tutor-modal"),t=o.find("input, textarea").serializeObject();t.action="tutor_add_course_topic",a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(a("#tutor-course-content-wrap").html(t.data.course_contents),o.find('input[type!="hidden"], textarea').each(function(){a(this).val("")}),o.removeClass("tutor-is-active"),enable_sorting_topic_lesson())},complete:function(){e.removeClass("tutor-updating-message")}})}),a(document).on("click",".tutor-topics-wrap .tutor-icon-garbage",function(t){var e=a(this).closest(".tutor-topics-wrap"),o=e.attr("data-topic-id");confirm(i("Are you sure to delete?","tutor"))&&(e.fadeOut("fast"),a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_delete_topic",topic_id:o},success:function(t){t.success?e.remove():(e.fadeIn("fast"),alert((t.data||{}).msg||i("Something Went Wrong","tutor")))},error:function(){e.fadeIn("fast")}}))}),a(document).on("click",".topic-inner-title, .expand-collapse-wrap",function(t){t.preventDefault();t=a(this).closest(".tutor-topics-wrap");t.find(".tutor-topics-body").slideToggle(),t.find(".expand-collapse-wrap").toggleClass("is-expanded").find("i").toggleClass("tutor-icon-light-down tutor-icon-light-up")})})}},a={};function i(t){var e=a[t];if(void 0!==e)return e.exports;e=a[t]={exports:{}};return o[t](e,e.exports,i),e.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);(()=>{"use strict";i(5),i(470),i(652),i(674),i(417);window.jQuery(document).ready(function(t){t(".tutor-certificate-template-tab [data-tutor-tab-target]").click(function(){t(this).addClass("is-active").siblings().removeClass("is-active"),t("#"+t(this).data("tutor-tab-target")).show().siblings().hide()}),t(".").click(function(){t(this).siblings().filter("tutor-certificate-collapsible")})})})()})();