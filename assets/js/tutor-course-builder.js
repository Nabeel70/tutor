(()=>{var o={2674:()=>{window.jQuery(document).ready(function(a){var t=wp.i18n,n=t.__;t._x,t._n,t._nx;a(document).on("click",".open-tutor-assignment-modal, .tutor-create-assignments-btn",function(t){t.preventDefault();var e=a(this),o=e.hasClass("tutor-create-assignments-btn")?0:e.attr("data-assignment-id"),n=e.closest(".tutor-topics-wrap").data("topic-id"),t=a("#post_ID").val();a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{assignment_id:o,topic_id:n,course_id:t,action:"tutor_load_assignments_builder_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){a(".tutor-assignment-modal-wrap .modal-container").html(t.data.output),a(".tutor-assignment-modal-wrap").addClass("tutor-is-active"),tinymce.init(tinyMCEPreInit.mceInit.tutor_assignment_editor_config),tinymce.execCommand("mceRemoveEditor",!1,"tutor_assignments_modal_editor"),tinyMCE.execCommand("mceAddEditor",!1,"tutor_assignments_modal_editor"),window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function(){e.removeClass("tutor-updating-message"),quicktags({id:"tutor_assignments_modal_editor"})}})}),a(document).on("click",".update_assignment_modal_btn",function(t){t.preventDefault();var e=a(this),o="tutor_assignments_modal_editor",t=tinyMCE.get(o),t=t?t.getContent():a("#"+o).val(),o=a(this).closest(".tutor-modal").find("form.tutor_assignment_modal_form").serializeObject();o.assignment_content=t,a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(a("#tutor-course-content-wrap").html(t.data.course_contents),enable_sorting_topic_lesson(),a(".tutor-assignment-modal-wrap").removeClass("tutor-is-active"),tutor_toast(n("Success","tutor"),n("Assignment Updated","tutor"),"success"))},complete:function(){e.removeClass("tutor-updating-message")}})})})},4417:()=>{window.jQuery(document).ready(function(e){var t=wp.i18n,u=t.__;t._x,t._n,t._nx;e(document).on("click",".tutor-attachment-cards:not(.tutor-no-control) .tutor-delete-attachment",function(t){t.preventDefault(),e(this).closest("[data-attachment_id]").remove()}),e(document).on("click",".tutorUploadAttachmentBtn",function(t){t.preventDefault();var a,i=e(this),r=i.data("name"),s=!i.parent().find(".tutor-attachment-cards").hasClass("tutor-attachment-size-aside");a||(a=wp.media({title:u("Select or Upload Media Of Your Choice","tutor"),button:{text:u("Upload media","tutor")},multiple:!0})).on("select",function(){var t=a.state().get("selection").toJSON();if(t.length)for(var e=0;e<t.length;e++){var o=t[e],n='<span class="filesize">\n                                '.concat(u("Size","tutor"),": ").concat(o.filesizeHumanReadable,"\n                            </span>"),n='<div data-attachment_id="'.concat(o.id,'">\n                        <div>\n                            <a href="').concat(o.url,'" target="_blank">\n                                ').concat(o.filename,"\n                            </a>\n                            ").concat(s?n:"",'\n                            <input type="hidden" name="').concat(r,'" value="').concat(o.id,'">\n                        </div>\n                        <div>\n                            ').concat(s?"":n,'\n                            <span class="tutor-delete-attachment tutor-action-icon tutor-icon-line-cross"></span>\n                        </div>\n                    </div>');i.parent().find(".tutor-attachment-cards").append(n)}}),a.open()})})},7464:()=>{function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}window.jQuery(document).ready(function(o){console.log("Content drip sc"),o('#course_setting_content_drip, [name="_tutor_course_settings[content_drip_type]"]').change(function(){var t,e;"radio"==o(this).attr("type")&&!o(this).prop("checked")||(e="checkbox"==o(this).attr("type")?o(this).prop("checked")?1:0:o(this).val(),o.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:(n(t={},o(this).attr("name"),e),n(t,"course_id",o("#post_ID").val()),n(t,"action","tutor_content_drip_state_update"),t)}))})})},4498:()=>{window.jQuery(document).ready(function(a){wp.i18n.__;function t(o,n){i&&clearTimeout(i),i=setTimeout(function(){i=void 0;var t,e=(a('#tutor_course_instructor_modal input[type="text"]').val()||"").trim();e?(t=[],s.find("[data-instructor-id]").each(function(){t.push(a(this).data("instructor-id"))}),o&&!isNaN(o)&&t.push(o),a.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:u,search_terms:e,shortlisted:t,action:"tutor_course_instructor_search"},beforeSend:function(){n||r.html('<div class="tutor-text-center"><span class="tutor-updating-message"></span></div>')},success:function(t){var e=t.data||{},t=e.search_result,e=e.shortlisted;r.html(t),s.html(e),n&&n()}})):r.empty()},350)}var i,r=a("#tutor_course_instructor_modal .tutor-search-result"),s=a("#tutor_course_instructor_modal .tutor-selected-result"),u=a("#tutor_course_instructor_modal").data("course_id");a(document).on("input",'#tutor_course_instructor_modal input[type="text"]',t),a(document).on("focus",'#tutor_course_instructor_modal input[type="text"]',function(){r.show()}),a(document).on("click","#tutor_course_instructor_modal .tutor-shortlist-instructor",function(){a(this).addClass("tutor-updating-message"),t(a(this).closest("[data-user_id]").data("user_id"),function(){r.hide()})}),a(document).on("click","#tutor_course_instructor_modal .tutor-selected-result .instructor-control a",function(){a(this).closest(".added-instructor-item").fadeOut(function(){a(this).remove()})}),a(document).on("click",".add_instructor_to_course_btn",function(t){t.preventDefault();var e=a(this),t=a("#tutor_course_instructor_modal").data("course_id"),o=[];s.find("[data-instructor-id]").each(function(){o.push(a(this).data("instructor-id"))}),a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:t,tutor_instructor_ids:o,action:"tutor_add_instructors_to_course"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){if(t.success)return r.empty(),s.empty(),a("#tutor_course_instructor_modal").removeClass("tutor-is-active"),a(".tutor-course-instructors-metabox-wrap").parent().html(t.data.output),void a(".tutor-modal-wrap").removeClass("show");tutor_toast("Error!",get_response_message(t),"error")},complete:function(){e.removeClass("tutor-updating-message")}})}),a(document).on("click",".tutor-instructor-delete-btn",function(t){t.preventDefault();var e=a(this),o=a("#post_ID").val(),t=e.closest(".added-instructor-item").attr("data-instructor-id");a.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:o,instructor_id:t,action:"detach_instructor_from_course"},beforeSend:function(){return e.addClass("tutor-updating-message")},complete:function(){return e.removeClass("tutor-updating-message")},success:function(t){t.success?e.closest(".added-instructor-item").remove():tutor_toast("Error!",get_response_message(t),"error")}})})})},3470:()=>{function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=window.jQuery,window.enable_sorting_topic_lesson=function(){jQuery().sortable&&(r(".course-contents").sortable({handle:".course-move-handle",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){tutor_sorting_topics_and_lesson()}}),r(".tutor-lessons:not(.drop-lessons)").sortable({connectWith:".tutor-lessons",items:"div.course-content-item",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){tutor_sorting_topics_and_lesson()}}))},window.tutor_sorting_topics_and_lesson=function(){var i={};r(".tutor-topics-wrap").each(function(t,e){var o=r(this),n=parseInt(o.attr("id").match(/\d+/)[0],10),a={};o.find(".course-content-item").each(function(t,e){var o=r(this),o=parseInt(o.attr("id").match(/\d+/)[0],10);a[t]=o}),i[t]={topic_id:n,lesson_ids:a}}),r("#tutor_topics_lessons_sorting").val(JSON.stringify(i))},window.jQuery(document).ready(function(d){var n=wp.i18n.__;enable_sorting_topic_lesson(),d(document).on("click",".open-tutor-lesson-modal",function(t){t.preventDefault();var e=d(this),o=e.attr("data-lesson-id"),n=e.attr("data-topic-id"),t=d("#post_ID").val();d.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:o,topic_id:n,course_id:t,action:"tutor_load_edit_lesson_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){d(".tutor-lesson-modal-wrap .modal-container").html(t.data.output),d(".tutor-lesson-modal-wrap").attr({"data-lesson-id":o,"data-topic-id":n}),d(".tutor-lesson-modal-wrap").addClass("tutor-is-active");t=(t=tinyMCEPreInit.mceInit.tutor_lesson_editor_config)||tinyMCEPreInit.mceInit.course_description;tinymce.init(t),tinymce.execCommand("mceRemoveEditor",!1,"tutor_lesson_modal_editor"),tinyMCE.execCommand("mceAddEditor",!1,"tutor_lesson_modal_editor"),window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function(){console.log("ajax completed"),e.removeClass("tutor-updating-message"),quicktags({id:"tutor_lesson_modal_editor"})}})}),d(document).on("change",".tutor_lesson_video_source",function(t){d(this).nextAll().hide().filter(".video_source_wrap_"+d(this).val()).show()}),d(document).on("click",".update_lesson_modal_btn",function(t){t.preventDefault();var e=d(this),o="tutor_lesson_modal_editor",t=tinyMCE.get(o),t=t?t.getContent():d("#"+o).val(),o=d(this).closest(".tutor-modal").find("form").serializeObject();o.lesson_content=t,d.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success&&(d("#tutor-course-content-wrap").html(t.data.course_contents),enable_sorting_topic_lesson(),e.closest(".tutor-modal").removeClass("tutor-is-active"),tutor_toast(n("Success","tutor"),n("Lesson Updated","tutor"),"success"))},complete:function(){e.removeClass("tutor-updating-message")}})});var t,e=".video_source_wrap_external_url input, .video_source_wrap_vimeo input, .video_source_wrap_youtube input, .video_source_wrap_html5, .video_source_upload_wrap_html5";d(document).on("blur",e,function(){var t=d(this).val();t&&0==/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)&&(d(this).val(""),tutor_toast("Error!",n("Invalid Video URL","tutor"),"error"))}).on("paste",e,function(t){t.stopImmediatePropagation();var r=d(this).closest(".tutor-lesson-modal-wrap").find(".tutor-option-field-video-duration"),e=r.find("label"),o=d(this).hasClass("video_source_wrap_html5")||d(this).hasClass("video_source_upload_wrap_html5"),n=d(this).data("autofill_url");d(this).data("autofill_url",null);function a(t){t?0==e.find("img").length&&e.append(' <img src="'+window._tutorobject.loading_icon_url+'" style="display:inline-block"/>'):e.find("img").remove()}function i(t){for(var e=Math.floor(t/3600),o=Math.floor((t-3600*e)/60),t=Math.round(t-3600*e-60*o),n=[e=e<10?"0"+e:e,o=o<10?"0"+o:o,t=t<10?"0"+t:t],a=r.find("input"),i=0;i<3;i++)a.eq(i).val(n[i])}var s,u,c,t=o?d(this).find("span").data("video_url"):n||t.originalEvent.clipboardData.getData("text");o||d(this).parent().hasClass("video_source_wrap_external_url")?((s=document.createElement("video")).addEventListener("loadedmetadata",function(){i(s.duration),a(!1)}),a(!0),s.src=t):d(this).parent().hasClass("video_source_wrap_vimeo")?(u=(c=t.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/))?c[5]:null)&&(a(!0),d.getJSON("http://vimeo.com/api/v2/video/"+u+"/json",function(t){Array.isArray(t)&&t[0]&&void 0!==t[0].duration&&i(t[0].duration),a(!1)})):d(this).parent().hasClass("video_source_wrap_youtube")&&(u=!(!(c=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=c[7].length)&&c[7],c=d(this).data("youtube_api_key"),u&&c&&(c="https://www.googleapis.com/youtube/v3/videos?id="+u+"&key="+c+"&part=contentDetails",a(!0),d.getJSON(c,function(t){"object"==l(t)&&t.items&&t.items[0]&&t.items[0].contentDetails&&t.items[0].contentDetails.duration&&i(function(t){t=(t=t.match(/PT(\d+H)?(\d+M)?(\d+S)?/)).slice(1).map(function(t){if(null!=t)return t.replace(/\D/,"")});return 3600*(parseInt(t[0])||0)+60*(parseInt(t[1])||0)+(parseInt(t[2])||0)}(t.items[0].contentDetails.duration)),a(!1)})))}).on("input",e,function(){t&&clearTimeout(t);var e=d(this);t=setTimeout(function(){var t=(t=e.val())?t.trim():"";console.log("Trigger",t),t&&e.data("autofill_url",t).trigger("paste")},700)})})},8005:()=>{window.jQuery(document).ready(function(s){var u=wp.i18n.__;s(document).on("click",".tutor-save-topic-btn",function(t){t.preventDefault();var a=s(this),i=a.closest(".tutor-modal"),r=i.find('[name="topic_id"]').val(),e=i.find('[name="topic_title"]').val(),o=i.find('[name="topic_summery"]').val(),t=i.find('[name="topic_course_id"]').val();s.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{topic_title:e,topic_summery:o,topic_id:r,topic_course_id:t,action:"tutor_save_topic"},beforeSend:function(){a.addClass("tutor-updating-message")},success:function(t){var e=t.data,o=void 0===e?{}:e,n=t.success,e=o.message,t=void 0===e?u("Something Went Wrong!","tutor"):e,e=o.course_contents,o=o.topic_title;n?(i.removeClass("tutor-is-active",s("#tutor-course-content-wrap")),r?a.closest(".tutor-topics-wrap").find("span.topic-inner-title").text(o):(s("#tutor-course-content-wrap").html(e),i.find('[name="topic_title"]').val(""),i.find('[name="topic_summery"]').val("")),window.dispatchEvent(new Event(_tutorobject.content_change_event))):tutor_toast("Error!",t,"error")},complete:function(){a.removeClass("tutor-updating-message")}})}),s(document).on("click",".tutor-topics-wrap .topic-delete-btn",function(t){var e=s(this),o=s(this).closest(".tutor-topics-wrap"),n=o.attr("data-topic-id");confirm(u("Are you sure to delete the topic?","tutor"))&&s.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_delete_topic",topic_id:n},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success?o.remove():tutor_toast("Error!",(t.data||{}).message||u("Something Went Wrong","tutor"),"error")},complete:function(){e.removeClass("tutor-updating-message")}})}),s(document).on("click",".topic-inner-title, .expand-collapse-wrap",function(t){t.preventDefault();t=s(this).closest(".tutor-topics-wrap");t.find(".tutor-topics-body").slideToggle(),t.find(".expand-collapse-wrap").toggleClass("is-expanded").find("i").toggleClass("tutor-icon-light-down tutor-icon-light-up")})})},3008:()=>{window.jQuery(document).ready(function(a){var i=wp.i18n.__;a(document).on("click",".video_source_wrap_html5 .tutor-attachment-cards .tutor-delete-attachment",function(){a(this).closest(".video_source_wrap_html5").removeClass("tutor-has-video").find("input.input_source_video_id").val("")}),a(document).on("click",".video_source_wrap_html5 .video_upload_btn",function(t){t.preventDefault();var e,o=a(this).closest(".video_source_wrap_html5"),n=o.find(".tutor-attachment-cards");e||(e=wp.media({title:i("Select or Upload Media Of Your Choice","tutor"),button:{text:i("Upload media","tutor")},library:{type:"video"},multiple:!1})).on("select",function(){var t=e.state().get("selection").first().toJSON();n.find(".filename").text(t.name).attr("href",t.url),n.find(".filesize").text(t.filesizeHumanReadable),o.find("input.input_source_video_id").val(t.id),o.addClass("tutor-has-video")}),e.open()})})}},n={};function a(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={exports:{}};return o[t](e,e.exports,a),e.exports}(()=>{"use strict";function s(t,e){var o=wp.i18n.__;return void 0===(t=(void 0===(t=(t||{}).data)?{}:t).message)?e||o("Something Went Wrong!","tutor"):t}a(8005),a(3470);function e(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function h(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e(Object(a),!0).forEach(function(t){var e,o;e=n,t=a[o=t],o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}window.jQuery(document).ready(function(_){function p(t,e,o){var n=t.find(".tutor-modal-steps"),a=(i=n.find('li[data-tab="'+t.attr("data-target")+'"]')).next(),i=i.prev();if(e)return a.length?(a.addClass("tutor-is-completed"),t.attr("data-target",a.data("tab")),!0):(tutor_toast(f("Success","tutor"),f("Quiz Updated"),"success"),t.removeClass("tutor-is-active"),null);a=i.data("tab"),i.length&&t.attr("data-target",a),o&&n.find('li[data-tab="'+a+'"]').nextAll().removeClass("tutor-is-completed")}function m(){_(".tutor-field-slider").each(function(){var t=_(this),o=t.closest(".tutor-field-type-slider").find('input[type="hidden"]'),n=t.closest(".tutor-field-type-slider").find(".tutor-field-type-slider-value"),e=parseFloat(t.closest(".tutor-field-type-slider").attr("data-min")),a=parseFloat(t.closest(".tutor-field-type-slider").attr("data-max"));t.slider({range:"max",min:e,max:a,value:o.val(),slide:function(t,e){n.text(e.value),o.val(e.value)}})})}var f=wp.i18n.__;function v(){jQuery().sortable&&_(".quiz-builder-questions-wrap").sortable({handle:".question-sorting",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){var n;n={},_(".quiz-builder-question-wrap").each(function(t,e){var o=_(this),o=parseInt(o.attr("data-question-id"),10);n[t]=o}),_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_question_ids:n,action:"tutor_quiz_question_sorting"}})}})}function r(){jQuery().sortable&&_("#tutor_quiz_question_answers").sortable({handle:".tutor-quiz-answer-sort-icon",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){var n;n={},_(".tutor-quiz-answer-wrap").each(function(t,e){var o=_(this),o=parseInt(o.attr("data-answer-id"),10);n[t]=o}),_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_answer_ids:n,action:"tutor_quiz_answer_sorting"}})}})}({init:function(){_(document).on("click",".question-type-select .tutor-select-option",function(t){t.preventDefault();var e=_(this);"true"!==e.attr("data-is-pro")?(t=e.html().trim(),e.closest(".question-type-select").find(".select-header .lead-option").html(t),e.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(e.attr("data-value")).trigger("change"),e.closest(".tutor-select-options").hide()):alert("Tutor Pro version required")}),_(document).on("click",".question-type-select .select-header",function(t){t.preventDefault(),_(this).closest(".question-type-select").find(".tutor-select-options").slideToggle()}),this.setValue(),this.hideOnOutSideClick()},setValue:function(){_(".question-type-select").each(function(){var t=_(this).find(".tutor-select-option");t.length&&t.each(function(){var t,e=_(this);"selected"===e.attr("data-selected")&&(t=e.html().trim(),e.closest(".question-type-select").find(".select-header .lead-option").html(t),e.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(e.attr("data-value")))})})},hideOnOutSideClick:function(){_(document).mouseup(function(t){var e=_(".tutor-select-options");_(t.target).closest(".select-header").length||e.is(t.target)||0!==e.has(t.target).length||e.hide()})},reInit:function(){this.setValue()}}).init(),m(),_(document).on("click",".tutor-add-quiz-btn, .open-tutor-quiz-modal, .back-to-quiz-questions-btn",function(t){t.preventDefault();var e=_(this),o=_(this).hasClass("open-tutor-quiz-modal")||_(this).hasClass("tutor-add-quiz-btn"),n=_(".tutor-modal.tutor-quiz-builder-modal-wrap"),a=e.hasClass("tutor-add-quiz-btn")?0:e.attr("data-quiz-id"),i=e.closest(".tutor-topics-wrap").data("topic-id"),t=_("#post_ID").val();_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:a,topic_id:i,course_id:t,action:"tutor_load_quiz_builder_modal"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success?(_(".tutor-quiz-builder-modal-wrap").addClass("tutor-is-active"),_(".tutor-quiz-builder-modal-wrap .modal-container").html(t.data.output),_(".tutor-quiz-builder-modal-wrap").attr("data-quiz-id",a).attr("data-topic-id-of-quiz",i),n.removeClass("tutor-has-question-from"),o&&(p(n,!1,!0),p(n,!1,!0)),window.dispatchEvent(new Event(_tutorobject.content_change_event)),m(),v()):tutor_toast("Error",s(t),"error")},complete:function(){e.removeClass("tutor-updating-message")}})}),_(document).on("click",".tutor-quiz-builder-modal-wrap button",function(t){var e=_(this),o=e.closest(".tutor-modal"),n=o.attr("data-target"),a=_(this).data("action");if("back"!=a){if("next"==a){var i=_("#post_ID").val(),r=_(this).closest(".tutor-quiz-builder-modal-wrap").data("topic-id-of-quiz"),s=o.find('[name="quiz_id"]').val();if("quiz-builder-tab-quiz-info"==n||"quiz-builder-tab-settings"==n){var u,c=o.find('[name="quiz_title"]').val(),d=o.find('[name="quiz_description"]').val(),a=o.find("#quiz-builder-tab-settings :input, #quiz-builder-tab-advanced-options :input").serializeObject(),l={quiz_title:c,course_id:i,quiz_id:s,topic_id:r};for(u in l)if(!l[u])return console.log(l),void("quiz_title"==u&&tutor_toast("Error!",f("Quiz title required","tutor"),"error"));_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:h(h(h({},a),l),{},{quiz_description:d,action:"tutor_quiz_save"}),beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){console.log(s,0!=s),s&&0!=s?(_("#tutor-quiz-"+s).replaceWith(t.data.output_quiz_row),console.log(_("#tutor-quiz-"+s))):(_("#tutor-topics-"+r+" .tutor-lessons").append(t.data.output_quiz_row),console.log(_("#tutor-topics-"+r+" .tutor-lessons"))),_(".tutor-quiz-builder-modal-wrap .modal-container").html(t.data.output),window.dispatchEvent(new Event(_tutorobject.content_change_event)),m(),p(o,!0),v(),_('[name="quiz_option[feedback_mode]"]').trigger("change")},complete:function(){e.removeClass("tutor-updating-message")}})}else"quiz-builder-tab-questions"==n&&p(o,!0)}}else p(o,!1)}),_(document).on("click",".tutor-quiz-open-question-form",function(t){t.preventDefault();var e=_(this),o=e.closest(".tutor-modal"),n=o.find('[name="quiz_id"]').val(),a=o.find('[name="topic_id"]').val(),i=_("#post_ID").val(),t=e.attr("data-question-id");_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:n,topic_id:a,course_id:i,question_id:t,action:"tutor_quiz_builder_get_question_form"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){o.find(".modal-container").html(t.data.output),o.addClass("tutor-has-question-from"),r()},complete:function(){e.removeClass("tutor-updating-message")}})}),_(document).on("click",".tutor-quiz-question-trash",function(t){t.preventDefault();var e=_(this),t=e.attr("data-question-id");_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:t,action:"tutor_quiz_builder_question_delete"},beforeSend:function(){e.addClass("tutor-updating-message")},success:function(){e.closest(".quiz-builder-question-wrap").fadeOut(function(){_(this).remove()})},complete:function(){e.removeClass("tutor-updating-message")}})}),_(document).on("click",".add_question_answers_option, .tutor-quiz-answer-edit a",function(t){t.preventDefault();var e=_(this),o=e.closest("[data-question-id]").attr("data-question-id"),n=_(this).hasClass("add_question_answers_option")?null:e.closest(".tutor-quiz-answer-wrap").attr("data-answer-id"),t=_("#tutor-quiz-question-wrapper :input").serializeObject();t.question_id=o,t.answer_id=n,t.action="tutor_quiz_question_answer_editor",_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){_("#tutor_quiz_builder_answer_wrapper").html(t.data.output)},complete:function(){e.removeClass("tutor-updating-message")}})}),_(document).on("click",".quiz-modal-question-save-btn",function(t){t.preventDefault();var e=_(this),o=e.closest(".tutor-modal"),t=_("#tutor-quiz-question-wrapper :input").serializeObject();t.action="tutor_quiz_modal_update_question",_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success?o.find(".back-to-quiz-questions-btn").trigger("click"):tutor_toast("Error",s(t),"error")},complete:function(){setTimeout(function(){return e.removeClass("tutor-updating-message")},2e3)}})}),_(document).on("change","input.tutor_select_value_holder",function(t){var e=_("#tutor_quiz_builder_answer_wrapper");e.html('<div style="text-align:center">\n                <i class="tutor-updating-message"></i>\n            </div>'),e.get(0).scrollIntoView({block:"center",behavior:"smooth"});var o=_(this).closest("[data-question-id]").attr("data-question-id"),n=_(this).val();_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:o,question_type:n,action:"tutor_quiz_builder_change_type"},success:function(t){t.success?(_("#tutor_quiz_builder_answer_wrapper").html(t.data.output),e.get(0).scrollIntoView({block:"center",behavior:"smooth"})):tutor_toast("Error",s(t),"error")}})}),_(document).on("click","#quiz-answer-save-btn",function(t){t.preventDefault();var e=_(this),t=_("#tutor-quiz-question-wrapper :input").serializeObject();t.action=t.tutor_quiz_answer_id?"tutor_update_quiz_answer_options":"tutor_save_quiz_answer_options",_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("tutor-updating-message")},success:function(t){t.success?_(".tutor_select_value_holder").trigger("change"):tutor_toast("Error",s(t),"error")},complete:function(){e.removeClass("tutor-updating-message")}})}),_(document).on("change",".tutor-quiz-answers-mark-correct-wrap input",function(t){t.preventDefault();var e=_(this),o=e.val(),t=1;e.prop("checked")||(t=0),_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,inputValue:t,action:"tutor_mark_answer_as_correct"}})}),_(document).on("click",".tutor-quiz-answer-trash-wrap a.answer-trash-btn",function(t){t.preventDefault();var e=_(this),t=e.attr("data-answer-id");_.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:t,action:"tutor_quiz_builder_delete_answer"},beforeSend:function(){e.closest(".tutor-quiz-answer-wrap").remove()}})}),_(document).on("click",".tutor-quiz-advance-settings .tutor-quiz-advance-header",function(){_(this).parent().toggleClass("tutor-is-active").find(".ttr-angle-down-filled").toggleClass("ttr-angle-up-filled")}),_(document).on("change",'[name="quiz_option[feedback_mode]"]',function(){_(this).prop("checked")&&_(this).parent().addClass("tutor-bg-white").removeClass("tutor-bg-transparent").siblings().filter(".tutor-radio-select").addClass("tutor-bg-transparent").removeClass("tutor-bg-white")})});a(2674),a(4417),a(3008),a(4498),a(7464);window.jQuery(document).ready(function(t){t(".tutor-certificate-template-tab [data-tutor-tab-target]").click(function(){t(this).addClass("is-active").siblings().removeClass("is-active"),t("#"+t(this).data("tutor-tab-target")).show().siblings().hide()})});function t(){jQuery().select2&&jQuery(".select2_multiselect").select2({dropdownCssClass:"increasezindex"})}window.addEventListener("DOMContentLoaded",t),window.addEventListener(_tutorobject.content_change_event,t),window.addEventListener(_tutorobject.content_change_event,function(){return console.log(_tutorobject.content_change_event)})})()})();