(()=>{var e={674:()=>{window.jQuery(document).ready(function(n){var t=wp.i18n,s=t.__;t._x,t._n,t._nx;n(document).on("click",".update_assignment_modal_btn",function(t){t.preventDefault();var o=n(this),e="tutor_assignments_modal_editor",t=tinyMCE.get(e),t=t?t.getContent():n("#"+e).val(),e=n(this).closest("form").serializeObject();e.assignment_content=t,n.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:e,beforeSend:function(){o.addClass("tutor-updating-message")},success:function(t){t.success&&(n("#tutor-course-content-wrap").html(t.data.course_contents),enable_sorting_topic_lesson(),n(".tutor-lesson-modal-wrap").removeClass("show"),tutor_toast(s("Assignment Updated","tutor"),o.data("toast_success_message"),"success"))},complete:function(){o.removeClass("tutor-updating-message")}})})})},470:()=>{var a;a=window.jQuery,window.enable_sorting_topic_lesson=function(){jQuery().sortable&&(a(".course-contents").sortable({handle:".course-move-handle",start:function(t,o){o.placeholder.css("visibility","visible")},stop:function(t,o){tutor_sorting_topics_and_lesson()}}),a(".tutor-lessons:not(.drop-lessons)").sortable({connectWith:".tutor-lessons",items:"div.course-content-item",start:function(t,o){o.placeholder.css("visibility","visible")},stop:function(t,o){tutor_sorting_topics_and_lesson()}}))},window.tutor_sorting_topics_and_lesson=function(){var i={};a(".tutor-topics-wrap").each(function(t,o){var e=a(this),n=parseInt(e.attr("id").match(/\d+/)[0],10),s={};e.find(".course-content-item").each(function(t,o){var e=a(this),e=parseInt(e.attr("id").match(/\d+/)[0],10);s[t]=e}),i[t]={topic_id:n,lesson_ids:s}}),a("#tutor_topics_lessons_sorting").val(JSON.stringify(i))},window.jQuery(document).ready(function(i){var t=wp.i18n,n=t.__;t._x,t._n,t._nx;enable_sorting_topic_lesson(),i(document).on("click",".open-tutor-lesson-modal",function(t){t.preventDefault();var o=i(this),e=o.attr("data-lesson-id"),n=o.attr("data-topic-id"),s=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:e,topic_id:n,course_id:s,action:"tutor_load_edit_lesson_modal"},beforeSend:function(){o.addClass("tutor-updating-message")},success:function(t){i(".tutor-lesson-modal-wrap .modal-container").html(t.data.output),i(".tutor-lesson-modal-wrap").attr({"data-lesson-id":e,"data-topic-id":n}).addClass("show"),i(".tutor-lesson-modal-wrap").addClass("tutor-is-active");t=(t=tinyMCEPreInit.mceInit.tutor_editor_config)||tinyMCEPreInit.mceInit.course_description;tinymce.init(t),tinymce.execCommand("mceRemoveEditor",!1,"tutor_lesson_modal_editor"),tinyMCE.execCommand("mceAddEditor",!1,"tutor_lesson_modal_editor"),i(document).trigger("lesson_modal_loaded",{lesson_id:e,topic_id:n,course_id:s})},complete:function(){quicktags({id:"tutor_lesson_modal_editor"}),o.removeClass("tutor-updating-message")}})}),i(document).on("click",".lesson_thumbnail_upload_btn",function(t){t.preventDefault();var o,e=i(this);o||(o=wp.media({title:n("Select or Upload Media Of Your Chosen Persuasion","tutor"),button:{text:n("Use this media","tutor")},multiple:!1})).on("select",function(){var t=o.state().get("selection").first().toJSON();e.closest(".tutor-thumbnail-wrap").find("img.upload_preview").attr("src",t.url),e.closest(".tutor-thumbnail-wrap").find('input[name="_lesson_thumbnail_id"]').val(t.id),e.closest(".tutor-thumbnail-wrap").find(".delete-btn").show()}),o.open()}),i(document).on("click",".update_lesson_modal_btn",function(t){t.preventDefault();var o=i(this),e="tutor_lesson_modal_editor",t=tinyMCE.get(e),t=t?t.getContent():i("#"+e).val(),e=i(this).closest(".tutor-modal").find("form").serializeObject();e.lesson_content=t,i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:e,beforeSend:function(){o.addClass("tutor-updating-message")},success:function(t){t.success&&(i("#tutor-course-content-wrap").html(t.data.course_contents),enable_sorting_topic_lesson(),o.closest(".tutor-modal").removeClass("tutor-is-active"),tutor_toast(n("Success","tutor"),n("Lesson Updated","tutor"),"success"))},complete:function(){o.removeClass("tutor-updating-message")}})})})},5:()=>{window.jQuery(document).ready(function(n){n(document).on("click","#tutor-add-topic-btn",function(t){t.preventDefault();var o=n(this),e=o.closest(".tutor-metabox-add-topics"),t=e.find("input, textarea").serializeObject();t.action="tutor_add_course_topic",n.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){o.addClass("tutor-updating-message")},success:function(t){t.success&&(n("#tutor-course-content-wrap").html(t.data.course_contents),e.find('input[type!="hidden"], textarea').each(function(){n(this).val("")}),e.removeClass("tutor-is-active"),enable_sorting_topic_lesson())},complete:function(){o.removeClass("tutor-updating-message")}})}),n(document).on("click",".topic-delete-btn a",function(t){n(this).attr("data-topic-id");confirm(__("Are you sure to delete?","tutor"))||t.preventDefault()}),n(document).on("click",".tutor-expand-all-topic",function(t){t.preventDefault(),n(".tutor-topics-body").slideDown(),n(".expand-collapse-wrap i").removeClass("tutor-icon-light-down").addClass("tutor-icon-light-up")}),n(document).on("click",".tutor-collapse-all-topic",function(t){t.preventDefault(),n(".tutor-topics-body").slideUp(),n(".expand-collapse-wrap i").removeClass("tutor-icon-light-up").addClass("tutor-icon-light-down")}),n(document).on("click",".topic-inner-title, .expand-collapse-wrap",function(t){t.preventDefault();t=n(this);t.closest(".tutor-topics-wrap").find(".tutor-topics-body").slideToggle(),t.closest(".tutor-topics-wrap").find(".expand-collapse-wrap i").toggleClass("tutor-icon-light-down tutor-icon-light-up")})})}},n={};function s(t){var o=n[t];if(void 0!==o)return o.exports;o=n[t]={exports:{}};return e[t](o,o.exports,s),o.exports}s.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return s.d(o,{a:o}),o},s.d=(t,o)=>{for(var e in o)s.o(o,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},s.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o);(()=>{"use strict";s(5),s(470),s(674)})()})();