(()=>{var o={6853:()=>{console.log("Course spotlight JS loaded")},1626:()=>{function r(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==o.return||o.return()}finally{if(a)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}document.addEventListener("DOMContentLoaded",function(){var t,e=wp.i18n,o=(e.__,e._x,e._n,e._nx,r(document.querySelectorAll(".tutor-export-purchase-history")));try{for(o.s();!(t=o.n()).done;){var n=t.value;n&&(n.onclick=function(t){var o,e=t.currentTarget,n="order-".concat(e.dataset.order,"-purchase-history.csv"),t=[{"Order ID ":e.dataset.order,"Course Name":e.dataset.courseName,Price:e.dataset.price,Date:e.dataset.date,Status:e.dataset.status}];e=t,t=n,o=Object.keys(e[0]),n=[o.join(","),e.map(function(e){return o.map(function(t){return e[t]}).join(",")}).join("\n")].join("\n"),e=new Blob([n],{type:"text/csv;charset=utf-8"}),n=URL.createObjectURL(e),(e=document.createElement("a")).setAttribute("href",n),e.setAttribute("download",t),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)})}}catch(t){o.e(t)}finally{o.f()}})},6966:()=>{document.addEventListener("DOMContentLoaded",function(){var e=window.jQuery;e(".tutor-dashboard .tutor-dashboard-menu-toggler").click(function(){var t=e(".tutor-dashboard-left-menu");t.closest(".tutor-dashboard").toggleClass("is-sidebar-expanded"),"none"!==t.css("display")&&t.get(0).scrollIntoView({block:"start"})})})},6344:()=>{window.jQuery(document).ready(function(e){e('.tutor-settings-pass-field [name="confirm_new_password"]').on("input",function(){var t=(e('[name="new_password"]').val()||"").trim(),t=t&&e(this).val()===t;e(this).next()[t?"show":"hide"]()})})},1974:()=>{window.jQuery(document).ready(function(i){var t=i("#tutor_profile_cover_photo_editor");0<t.length&&new function(n){this.dialogue_box=n.find("#tutor_photo_dialogue_box"),this.open_dialogue_box=function(t){this.dialogue_box.attr("name",t),this.dialogue_box.trigger("click")},this.validate_image=function(t){return!0},this.upload_selected_image=function(t,e){var o,n,r;e&&this.validate_image(e)&&(o=tutor_get_nonce_data(!0),(n=this).toggle_loader(t,!0),(r=new FormData).append("action","tutor_user_photo_upload"),r.append("photo_type",t),r.append("photo_file",e,e.name),r.append(o.key,o.value),i.ajax({url:window._tutorobject.ajaxurl,data:r,type:"POST",processData:!1,contentType:!1,error:n.error_alert,complete:function(){n.toggle_loader(t,!1)}}))},this.accept_upload_image=function(t,e){var o=e.currentTarget.files[0]||null;t.update_preview(e.currentTarget.name,o),t.upload_selected_image(e.currentTarget.name,o),i(e.currentTarget).val("")},this.delete_image=function(t){var e=this;e.toggle_loader(t,!0),i.ajax({url:window._tutorobject.ajaxurl,data:{action:"tutor_user_photo_remove",photo_type:t},type:"POST",error:e.error_alert,complete:function(){e.toggle_loader(t,!1)}})},this.update_preview=function(t,e){var o=n.find("cover_photo"==t?"#tutor_cover_area":"#tutor_profile_area");if(!e)return o.css("background-image","url("+o.data("fallback")+")"),void this.delete_image(t);t=new FileReader;t.onload=function(t){o.css("background-image","url("+t.target.result+")")},t.readAsDataURL(e)},this.toggle_profile_pic_action=function(t){n[void 0===t?"toggleClass":t?"addClass":"removeClass"]("pop-up-opened")},this.error_alert=function(){alert("Something Went Wrong.")},this.toggle_loader=function(t,e){n.find("#tutor_photo_meta_area .loader-area").css("display",e?"block":"none")},this.initialize=function(){var e=this;this.dialogue_box.change(function(t){e.accept_upload_image(e,t)}),n.find("#tutor_profile_area .tutor_overlay, #tutor_pp_option>div:last-child").click(function(){e.toggle_profile_pic_action()}),n.find(".tutor_cover_uploader").click(function(){e.open_dialogue_box("cover_photo")}),n.find(".tutor_pp_uploader").click(function(){e.open_dialogue_box("profile_photo")}),n.find(".tutor_cover_deleter").click(function(){e.update_preview("cover_photo",null)}),n.find(".tutor_pp_deleter").click(function(){e.update_preview("profile_photo",null)})}}(t).initialize()})},787:()=>{document.addEventListener("DOMContentLoaded",function(){var n=window.jQuery;n('.tutor-dashboard-setting-withdraw input[name="tutor_selected_withdraw_method"]').on("change",function(t){var e=n(this),o=e.closest("form");o.find(".withdraw-method-form").hide(),o.find(".withdraw-method-form").hide().filter('[data-withdraw-form="'+e.val()+'"]').show()})})},9834:()=>{window.jQuery(document).ready(function(r){var i=window.wp.i18n.__;r(".tutor-course-retake-button").click(function(t){t.preventDefault();var t=r(this),e=t.attr("href"),o=t.data("course_id"),t={title:i("Override Previous Progress","tutor"),description:i("Before continue, please decide whether to keep progress or reset.","tutor"),buttons:{reset:{title:i("Reset Data","tutor"),class:"tutor-btn tutor-is-outline tutor-is-default",callback:function(){var t=n.find(".tutor-button-secondary");t.prop("disabled",!0).append('<img style="margin-left: 7px" src="'+window._tutorobject.loading_icon_url+'"/>'),r.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_reset_course_progress",course_id:o},success:function(t){t.success?window.location.assign(t.data.redirect_to):alert((t.data||{}).message||i("Something went wrong","tutor"))},complete:function(){t.prop("disabled",!1).find("img").remove()}})}},keep:{title:i("Keep Data","tutor"),class:"tutor-btn",callback:function(){window.location.assign(e)}}}},n=new window.tutor_popup(r,"icon-gear",40).popup(t)})})},1033:()=>{function l(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==o.return||o.return()}finally{if(a)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}jQuery(document).ready(function(u){u(".tutor-instructor-filter").each(function(){var e,a=u(this),s={};function r(t,e,o){var n=a.find(".filter-result-container"),r=n.html(),i=a.data();i.current_page=o||1,t?s[t]=e:s={},s.attributes=i,s.action="load_filtered_instructor",n.html('<div style="text-align:center"><img src="'+window._tutorobject.loading_icon_url+'"/></div>'),u.ajax({url:window._tutorobject.ajaxurl,data:s,type:"POST",success:function(t){n.html(t)},error:function(){n.html(r),tutor_toast("Failed","Request Error","error")}})}a.on("change",'.course-category-filter [type="checkbox"]',function(){var e={};u(this).closest(".course-category-filter").find("input:checked").each(function(){e[u(this).val()]=u(this).parent().text()});var o=a.find(".selected-cate-list").empty(),t=Object.keys(e);t.forEach(function(t){o.append("<span>"+e[t]+' <span class="tutor-icon-line-cross" data-cat_id="'+t+'"></span></span>')}),t.length&&o.append('<span data-cat_id="0">Clear All</span>'),r(u(this).attr("name"),t)}).on("click",".tutor-instructor-ratings i",function(t){r("rating_filter",t.target.dataset.value)}).on("change","#tutor-instructor-relevant-sort",function(t){r("short_by",t.target.value)}).on("click",".selected-cate-list [data-cat_id]",function(){var t=u(this).data("cat_id"),e=a.find('.mobile-filter-popup [type="checkbox"]');(e=t?e.filter('[value="'+t+'"]'):e).prop("checked",!1).trigger("change")}).on("input",'.filter-pc [name="keyword"]',function(){var t=u(this).val();e&&window.clearTimeout(e),e=window.setTimeout(function(){r("keyword",t),e=null},500)}).on("click","[data-page_number]",function(t){t.preventDefault(),r(null,null,u(this).data("page_number"))}).on("click",".clear-instructor-filter",function(){var t=u(this).closest(".tutor-instructor-filter");t.find('input[type="checkbox"]').prop("checked",!1),t.find('[name="keyword"]').val("");var e,o=l(document.querySelectorAll(".tutor-instructor-ratings i"));try{for(o.s();!(e=o.n()).done;){var n=e.value;n.classList.contains("active")&&n.classList.remove("active"),n.classList.contains("ttr-star-full-filled")&&(n.classList.remove("ttr-star-full-filled"),n.classList.add("ttr-star-line-filled"))}}catch(t){o.e(t)}finally{o.f()}c.innerHTML="",r()}).on("click",".mobile-filter-container i",function(){u(this).parent().next().addClass("is-opened")}).on("click",".mobile-filter-popup button",function(){u('.mobile-filter-popup [type="checkbox"]').trigger("change"),u(this).closest(".mobile-filter-popup").removeClass("is-opened")}).on("input",'.filter-mobile [name="keyword"]',function(){a.find('.filter-pc [name="keyword"]').val(u(this).val()).trigger("input")}).on("change",'.mobile-filter-popup [type="checkbox"]',function(t){var e,o;t.originalEvent||(e=u(this).attr("name"),o=u(this).val(),t=u(this).prop("checked"),a.find('.course-category-filter [name="'+e+'"]').filter('[value="'+o+'"]').prop("checked",t).trigger("change"))}).on("mousedown touchstart",".expand-instructor-filter",function(t){var e=u(window).height(),o=a.find(".mobile-filter-popup>div"),n=e-o.height(),r=((t.originalEvent.touches||[])[0]||t).clientY-n;a.on("mousemove touchmove",function(t){t=((t.originalEvent.touches||[])[0]||t).clientY,t=e-t+r;200<t&&t<=e&&o.css("height",t+"px")})}).on("mouseup touchend",function(){a.off("mousemove touchmove")}).on("click",".mobile-filter-popup>div",function(t){t.stopImmediatePropagation()}).on("click",".mobile-filter-popup",function(t){u(this).removeClass("is-opened")}).on("click",".tutor-instructor-category-show-more > .text-medium-caption",function(t){var e=t.target.parentNode.dataset.id;console.log(t.target.tagName),console.log(e),u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"show_more",term_id:e},beforeSend:function(){u(".tutor-show-more-loading").html("<img src='".concat(window._tutorobject.loading_icon_url,"'>"))},success:function(t){if(console.log(t),t.success&&t.data.categories.length){u(".tutor-instructor-category-show-more").css("display","block");var e,o=l(t.data.categories);try{for(o.s();!(e=o.n()).done;){var n=e.value,r=u(".tutor-instructor-categories-wrapper .course-category-filter");u(".tutor-instructor-category-show-more .text-medium-caption").attr("data-id",n.term_id),r.append('<div class="tutor-form-check tutor-mb-25">\n                                    <input\n                                        id="item-a"\n                                        type="checkbox"\n                                        class="tutor-form-check-input tutor-form-check-square"\n                                        name="category"\n                                        value="'.concat(n.term_id,'"/>\n                                    <label for="item-a">\n                                        ').concat(n.name,"\n                                    </label>\n                                </div>\n                                "))}}catch(t){o.e(t)}finally{o.f()}}!1===t.data.show_more&&(u(".tutor-instructor-category-show-more").css("display","none"),document.querySelector(".course-category-filter").classList.contains("tutor-show-more-blur")&&document.querySelector(".course-category-filter").classList.remove("tutor-show-more-blur"))},complete:function(){u(".tutor-show-more-loading").html("")},error:function(t){alert(t)}})})});var t,a=document.querySelectorAll(".tutor-instructor-ratings i"),c=document.querySelector(".tutor-instructor-rating-filter"),e=l(a);try{for(e.s();!(t=e.n()).done;)t.value.onclick=function(t){var e,o=l(a);try{for(o.s();!(e=o.n()).done;){var n=e.value;n.classList.contains("active")&&n.classList.remove("active"),n.classList.contains("ttr-star-full-filled")&&(n.classList.remove("ttr-star-full-filled"),n.classList.add("ttr-star-line-filled"))}}catch(t){o.e(t)}finally{o.f()}for(var r=t.target.dataset.value,i=0;i<r;i++)a[i].classList.add("active"),a[i].classList.remove("ttr-star-line-filled"),a[i].classList.add("ttr-star-full-filled");c.innerHTML="0.0 - ".concat(r,".0")}}catch(t){e.e(t)}finally{e.f()}})}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={exports:{}};return o[t](e,e.exports,r),e.exports}(()=>{"use strict";r(6966),r(787),r(1974),r(6344),r(1033),r(9834),r(6853),r(1626);jQuery(document).ready(function(s){var e,o,n,r,t=wp.i18n,u=t.__;t._x,t._n,t._nx;function i(t,e){var o,n;1<t.originalEvent.touches.length||(t.preventDefault(),o=t.originalEvent.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(e,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n))}jQuery().select2&&s(".tutor_select2").select2({escapeMarkup:function(t){return t}}),(e=jQuery).support.touch="ontouchend"in document,e.support.touch&&(h=e.ui.mouse.prototype,n=h._mouseInit,r=h._mouseDestroy,h._touchStart=function(t){!o&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(o=!0,this._touchMoved=!1,i(t,"mouseover"),i(t,"mousemove"),i(t,"mousedown"))},h._touchMove=function(t){o&&(this._touchMoved=!0,i(t,"mousemove"))},h._touchEnd=function(t){o&&(i(t,"mouseup"),i(t,"mouseout"),this._touchMoved||i(t,"click"),o=!1)},h._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),n.call(t)},h._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)});var a={ajaxurl:window._tutorobject.ajaxurl,nonce_key:window._tutorobject.nonce_key,video_data:function(){var t=s("#tutor_video_tracking_information").val();return t?JSON.parse(t):{}},track_player:function(){var t,o,e,n=this;"undefined"!=typeof Plyr&&(t=new Plyr("#tutorPlayer"),o=n.video_data(),t.on("ready",function(t){var e=t.detail.plyr,t=o.best_watch_time;0<t&&e.duration>Math.round(t)&&(e.media.currentTime=t),n.sync_time(e)}),e=0,t.on("timeupdate",function(t){t=t.detail.plyr;30<=e/4&&(n.sync_time(t),e=0),e++}),t.on("ended",function(t){var e=n.video_data(),t=t.detail.plyr;n.sync_time(t,{is_ended:!0}),e.autoload_next_course_content&&n.autoload_content()}))},sync_time:function(t,e){var o=this.video_data().post_id,t={action:"sync_video_playback",currentTime:t.currentTime,duration:t.duration,post_id:o};t[this.nonce_key]=_tutorobject[this.nonce_key];o=t;e&&(o=Object.assign(t,e)),s.post(this.ajaxurl,o)},autoload_content:function(){var t={action:"autoload_next_course_content",post_id:this.video_data().post_id};t[this.nonce_key]=_tutorobject[this.nonce_key],s.post(this.ajaxurl,t).done(function(t){t.success&&t.data.next_url&&(location.href=t.data.next_url)})},init:function(){this.track_player()}};s("#tutorPlayer").length&&a.init(),s(document).on("change keyup paste",".tutor_user_name",function(){s(this).val(s(this).val().toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),s(document).on("click",".tutor_question_cancel",function(t){t.preventDefault(),s(".tutor-add-question-wrap").toggle()});var c,l,d,p=s("#tutor-quiz-time-update"),h=null;p.length&&(h=JSON.parse(p.attr("data-attempt-settings")),0<(f=JSON.parse(p.attr("data-attempt-meta"))).time_limit.time_limit_seconds?(c=new Date(h.attempt_started_at).getTime()+1e3*f.time_limit.time_limit_seconds,l=new Date(f.date_time_now).getTime(),d=setInterval(function(){var r,t=c-l,e=Math.floor(t/864e5),o=Math.floor(t%864e5/36e5),n=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3),a="";e&&(a+=e+"d "),o&&(a+=o+"h "),n&&(a+=n+"m "),i&&(a+=i+"s "),t<0&&(clearInterval(d),a="EXPIRED","autosubmit"===_tutorobject.quiz_options.quiz_when_time_expires?s("form#tutor-answering-quiz").submit():"autoabandon"===_tutorobject.quiz_options.quiz_when_time_expires&&(t=s("#tutor_quiz_id").val(),s("#tutor_quiz_remaining_time_secs").val(),t={quiz_id:t,action:"tutor_quiz_timeout"},r=s("#tutor-quiz-time-expire-wrapper").attr("data-attempt-remaining"),s(".tutor-quiz-answer-next-btn, .tutor-quiz-submit-btn, .tutor-quiz-answer-previous-btn").prop("disabled",!0),s(".time-remaining span").css("color","#F44337"),s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,success:function(t){var e=s("#tutor-quiz-time-expire-wrapper").data("attempt-allowed"),o=s("#tutor-quiz-time-expire-wrapper").data("attempt-remaining"),n="#tutor-quiz-time-expire-wrapper .tutor-alert";s(n).addClass("show"),0<r?s("".concat(n," .text")).html(u("Your time limit for this quiz has expired, please reattempt the quiz. Attempts remaining: "+o+"/"+e,"tutor")):(s(n).addClass("tutor-alert-danger"),s("#tutor-start-quiz").hide(),s("".concat(n," .text")).html("".concat(u("Unfortunately, you are out of time and quiz attempts. ","tutor"))))},complete:function(){}}))),l+=1e3,p.html(a)},1e3)):p.closest(".time-remaining").remove());var f=s("#tutor-quiz-body form#tutor-start-quiz");function m(){jQuery().sortable&&(s(".tutor-quiz-answers-wrap").sortable({handle:".answer-sorting-bar",start:function(t,e){e.placeholder.css("visibility","visible")},stop:function(t,e){}}).disableSelection(),s(".quiz-draggable-rand-answers, .quiz-answer-matching-droppable").sortable({connectWith:".quiz-answer-matching-droppable",placeholder:"drop-hover"}).disableSelection())}function _(o){var t,e,n=!0,r=o.find(".quiz-answer-required");return r.length&&((t=r.find("input")).length&&("radio"===(e=t.attr("type"))?0==r.find('input[type="radio"]:checked').length&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(u("Please select an option to answer","tutor"),"</p>")),n=!1):"checkbox"===e?0==r.find('input[type="checkbox"]:checked').length&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(u("Please select at least one option to answer.","tutor"),"</p>")),n=!1):"text"===e&&t.each(function(t,e){s(e).val().trim().length||(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(u("The answer for this question is required","tutor"),"</p>")),n=!1)})),r.find("textarea").length&&r.find("textarea").val().trim().length<1&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(u("The answer for this question is required","tutor"),"</p>")),n=!1),(r=r.find(".quiz-answer-matching-droppable")).length&&r.each(function(t,e){s(e).find(".quiz-draggable-answer-item").length||(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(u("Please match all the items","tutor"),"</p>")),n=!1)})),n}function g(o){var n=!1,r=JSON.parse(atob(window.tutor_quiz_context.split("").reverse().join("")));Array.isArray(r)||(r=[]);var t=o.attr("data-quiz-feedback-mode");s(".wrong-right-text").remove(),s(".quiz-answer-input-bottom").removeClass("wrong-answer right-answer");var i=!0,e=o.find("input"),a=o.find('input[type="radio"]:checked, input[type="checkbox"]:checked');return"retry"===t?(a.each(function(){var t=s(this),e=t.attr("type");"radio"!==e&&"checkbox"!==e||-1<r.indexOf(t.val())||(t.prop("checked")&&t.closest(".quiz-answer-input-bottom").addClass("wrong-answer").append('<span class="wrong-right-text"><i class="tutor-icon-line-cross"></i> '.concat(u("Incorrect, Please try again","tutor"),"</span>")),i=!1)}),e.each(function(){var t,e=s(this);"checkbox"===e.attr("type")&&(t=-1<r.indexOf(e.val()),e=e.is(":checked"),t&&!e&&(o.find(".answer-help-block").html('<p style="color: #dc3545">'.concat(u("More answer for this question is required","tutor"),"</p>")),i=!1))})):"reveal"===t&&(a.each(function(){var t=s(this);-1<r.indexOf(t.val())||(i=!1)}),e.each(function(){var t,e=s(this),o=e.attr("type");"radio"!==o&&"checkbox"!==o||(t=-1<r.indexOf(e.val()),o=e.is(":checked"),t?e.closest(".quiz-answer-input-bottom").addClass("right-answer").append('<span class="wrong-right-text"><i class="tutor-icon-checkbox-pen-outline"></i>'.concat(u("Correct Answer","tutor"),"</span>")):e.prop("checked")&&e.closest(".quiz-answer-input-bottom").addClass("wrong-answer"),t&&!o&&(e.attr("disabled","disabled"),n=!(i=!1)))})),n=i?!0:n}function v(){s("ul.tutor-bp-enrolled-course-list").each(function(){var t,e=s(this),o=e.find(" > li");3<o.length&&(t=o.length-3,o.each(function(t,e){var o=s(this);3<=t&&o.hide()}),t='<a href="javascript:;" class="tutor_bp_plus_courses"><strong>+'+t+" More </strong></a> Courses",e.closest(".tutor-bp-enrolled-courses-wrap").find(".thread-participant-enrolled-info").html(t)),e.show()})}f.length&&"1"===_tutorobject.quiz_options.quiz_auto_start&&f.submit(),s(".tooltip-btn").on("hover",function(t){s(this).toggleClass("active")}),s(".tutor-course-title h4 .toggle-information-icon").on("click",function(t){s(this).closest(".tutor-topics-in-single-lesson").find(".tutor-topics-summery").slideToggle(),t.stopPropagation()}),s(".tutor-course-topic.tutor-active").find(".tutor-course-lessons").slideDown(),s(".tutor-course-title").on("click",function(){var t=s(this).siblings(".tutor-course-lessons");s(this).closest(".tutor-course-topic").toggleClass("tutor-active"),t.slideToggle()}),s(document).on("click",".tutor-topics-title h3 .toggle-information-icon",function(t){s(this).closest(".tutor-topics-in-single-lesson").find(".tutor-topics-summery").slideToggle(),t.stopPropagation()}),s(document).on("click",".tutor-course-wishlist-btn",function(t){t.preventDefault();var e=s(this),t=e.attr("data-course-id");s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:t,action:"tutor_course_add_to_wishlist"},beforeSend:function(){e.addClass("updating-icon")},success:function(t){t.success?"added"===t.data.status?e.addClass("has-wish-listed"):e.removeClass("has-wish-listed"):window.location=t.data.redirect_to},complete:function(){e.removeClass("updating-icon")}})}),_tutorobject.enable_lesson_classic_editor||(s(document).on("click",".tutor-single-lesson-a",function(t){t.preventDefault();var e=s(this),t=e.attr("data-lesson-id"),o=s("#tutor-single-entry-content");s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{lesson_id:t,action:"tutor_render_lesson_content"},beforeSend:function(){var t=e.find(".lesson_title").text();s("head title").text(t),window.history.pushState("obj",t,e.attr("href")),o.addClass("loading-lesson"),s(".tutor-single-lesson-items").removeClass("active"),e.closest(".tutor-single-lesson-items").addClass("active")},success:function(t){o.html(t.data.html),a.init(),s(".tutor-lesson-sidebar").css("display",""),window.dispatchEvent(new window.Event("tutor_ajax_lesson_loaded"))},complete:function(){o.removeClass("loading-lesson")}})}),s(document).on("click",".sidebar-single-quiz-a",function(t){t.preventDefault();var e=s(this),t=e.attr("data-quiz-id"),o=e.find(".lesson_title").text(),n=s("#tutor-single-entry-content");s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{quiz_id:t,action:"tutor_render_quiz_content"},beforeSend:function(){s("head title").text(o),window.history.pushState("obj",o,e.attr("href")),n.addClass("loading-lesson"),s(".tutor-single-lesson-items").removeClass("active"),e.closest(".tutor-single-lesson-items").addClass("active")},success:function(t){n.html(t.data.html),m(),s(".tutor-lesson-sidebar").css("display","")},complete:function(){n.removeClass("loading-lesson")}})})),s(document).on("click",".tutor-lesson-sidebar-hide-bar",function(t){t.preventDefault(),s(".tutor-lesson-sidebar").toggle(),s("#tutor-single-entry-content").toggleClass("sidebar-hidden")}),s(".tutor-tabs-btn-group a").on("click touchstart",function(t){t.preventDefault();var e=s(this),t=e.attr("href");s(".tutor-lesson-sidebar-tab-item").hide(),s(t).show(),s(".tutor-tabs-btn-group a").removeClass("active"),e.addClass("active")}),m(),s(document).on("click",".tutor-quiz-answer-next-btn, .tutor-quiz-answer-previous-btn",function(t){var e,o;t.preventDefault(),s(this).hasClass("tutor-quiz-answer-previous-btn")?s(this).closest(".quiz-attempt-single-question").hide().prev().show():_(t=(e=s(this)).closest(".quiz-attempt-single-question"))&&g(t)&&(parseInt(e.closest(".quiz-attempt-single-question").attr("id").match(/\d+/)[0],10),!(e=e.closest(".quiz-attempt-single-question").attr("data-next-question-id"))||(o=s(e))&&o.length&&("reveal"===t.attr("data-quiz-feedback-mode")?setTimeout(function(){s(".quiz-attempt-single-question").hide(),o.show()},800):(s(".quiz-attempt-single-question").hide(),o.show()),s(".tutor-quiz-questions-pagination").length&&(s(".tutor-quiz-question-paginate-item").removeClass("active"),s('.tutor-quiz-questions-pagination a[href="'+e+'"]').addClass("active"))))}),s(document).on("submit","#tutor-answering-quiz",function(t){var e=s(".quiz-attempt-single-question"),o=!0;e.length&&e.each(function(t,e){o=_(s(e)),o=g(s(e))}),o||t.preventDefault()}),s(document).on("click",".tutor-quiz-question-paginate-item",function(t){t.preventDefault();var e=s(this),t=s(e.attr("href"));s(".quiz-attempt-single-question").hide(),t.show(),s(".tutor-quiz-question-paginate-item").removeClass("active"),e.addClass("active")}),s(document).on("keyup","textarea.question_type_short_answer, textarea.question_type_open_ended",function(t){var e=s(this),o=e.val(),n=e.hasClass("question_type_short_answer")?_tutorobject.quiz_options.short_answer_characters_limit:_tutorobject.quiz_options.open_ended_answer_characters_limit,r=n-o.length;r<1&&(e.val(o.substr(0,n)),r=0),e.closest(".tutor-quiz-answers-wrap").find(".characters_remaining").html(r)}),s(".quiz-draggable-rand-answers").length&&s(".quiz-draggable-rand-answers").each(function(){var t=s(this),e=t.height();t.css({height:e})}),s(document).on("submit click",".cart-required-login, .cart-required-login a, .cart-required-login form",function(t){t.preventDefault();t=s(this).data("login_page_url");t?window.location.assign(t):s(".tutor-cart-box-login-form").fadeIn(100)}),s(".tutor-popup-form-close, .login-overlay-close").on("click",function(){s(".tutor-cart-box-login-form").fadeOut(100)}),s(document).on("keyup",function(t){27===t.keyCode&&s(".tutor-cart-box-login-form").fadeOut(100)}),!s.fn.ShareLink||(f=s(".tutor-social-share-wrap")).length&&(w=JSON.parse(f.attr("data-social-share-config")),s(".tutor_share").ShareLink({title:w.title,text:w.text,image:w.image,class_prefix:"s_",width:640,height:480})),jQuery.datepicker&&s(".tutor_report_datepicker").datepicker({dateFormat:"yy-mm-dd"}),s(document).on("submit","#tutor-withdraw-account-set-form",function(t){t.preventDefault();var t=s(this),e=t.find(".tutor_set_withdraw_account_btn"),t=t.serializeObject();s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.addClass("updating-icon")},success:function(t){t.success&&tutor_toast("Success!",t.data.msg,"success",!1)},complete:function(){e.removeClass("updating-icon")}})}),s(document).on("click",".open-withdraw-form-btn, .close-withdraw-form-btn",function(t){t.preventDefault(),"yes"!=s(this).data("reload")?(s(".tutor-earning-withdraw-form-wrap").toggle().find('[name="tutor_withdraw_amount"]').val(""),s(".tutor-withdrawal-pop-up-success").hide().next().show(),s("html, body").css("overflow",s(".tutor-earning-withdraw-form-wrap").is(":visible")?"hidden":"auto")):window.location.reload()}),s(document).on("submit","#tutor-earning-withdraw-form",function(t){t.preventDefault();var e=s(this),o=s("#tutor-earning-withdraw-btn"),n=s(".tutor-withdraw-form-response"),t=e.serializeObject();s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){e.find(".tutor-success-msg").remove(),o.addClass("updating-icon")},success:function(t){t.success?("undefined"!==t.data.available_balance&&s(".withdraw-balance-col .available_balance").html(t.data.available_balance),s(".tutor-withdrawal-pop-up-success").show().next().hide()):(t='<div class="tutor-error-msg inline-image-text is-inline-block">                            <img src="'+window._tutorobject.tutor_url+'assets/images/icon-cross.svg"/>                             <div>                                <b>Error</b><br/>                                <span>'+t.data.msg+"</span>                            </div>                        </div>",n.html(t),setTimeout(function(){n.html("")},5e3))},complete:function(){o.removeClass("updating-icon")}})}),s(document).on("click",".tutor-dashboard-element-delete-btn",function(t){t.preventDefault();t=s(this).attr("data-id");s("#tutor-dashboard-delete-element-id").val(t)}),s(document).on("submit","#tutor-dashboard-delete-element-form",function(t){t.preventDefault();var e=s("#tutor-dashboard-delete-element-id").val(),o=s(".tutor-modal-element-delete-btn"),t=s(this).serializeObject();s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){o.addClass("updating-icon")},success:function(t){t.success&&s("#tutor-dashboard-"+t.data.element+"-"+e).remove()},complete:function(){o.removeClass("updating-icon")}})}),s("#tutor_profile_photo_id").val()||s(".tutor-profile-photo-delete-btn").hide(),s(document).on("click",".tutor-profile-photo-delete-btn",function(){return s(".tutor-profile-photo-upload-wrap").find("img").attr("src",_tutorobject.placeholder_img_src),s("#tutor_profile_photo_id").val(""),s(".tutor-profile-photo-delete-btn").hide(),s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{action:"tutor_profile_photo_remove"}}),!1}),s(document).on("submit","#tutor_assignment_start_form",function(t){t.preventDefault();t=s(this).serializeObject();t.action="tutor_start_assignment",s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){s("#tutor_assignment_start_btn").addClass("updating-icon")},success:function(t){t.success&&location.reload()},complete:function(){s("#tutor_assignment_start_btn").removeClass("updating-icon")}})}),s(document).on("submit","#tutor_assignment_submit_form",function(t){s('textarea[name="assignment_answer"]').val().trim().length<1&&(s("#form_validation_response").html('<div class="tutor-error-msg">'+u("Assignment answer can not be empty","tutor")+"</div>"),t.preventDefault())}),s("form").on("change",".tutor-assignment-file-upload",function(){s(this).siblings("label").find("span").html(s(this).val().replace(/.*(\/|\\)/,""))}),s(document).on("click",".tutor-topics-in-single-lesson .tutor-topics-title h3, .tutor-single-lesson-topic-toggle",function(t){var e=s(this).closest(".tutor-topics-in-single-lesson");e.toggleClass("tutor-topic-active"),e.find(".tutor-lessons-under-topic").slideToggle()}),s(".tutor-single-lesson-items.active").closest(".tutor-lessons-under-topic").show(),s(".tutor-single-lesson-items.active").closest(".tutor-topics-in-single-lesson").addClass("tutor-topic-active"),s(".tutor-course-lesson.active").closest(".tutor-lessons-under-topic").show(),s(document).on("click",".add-assignment-attachments",function(t){t.preventDefault();var o,n=s(this);o||(o=wp.media({title:u("Select / Upload Media Of Your Chosen Persuasion","tutor"),button:{text:u("Use media","tutor")},multiple:!1})).on("select",function(){var t=o.state().get("selection").first().toJSON(),e='<div class="tutor-individual-attachment-file"><p class="attachment-file-name">'+t.filename+'</p><input type="hidden" name="tutor_assignment_attachments[]" value="'+t.id+'"><a href="javascript:;" class="remove-assignment-attachment-a text-muted"> &times; Remove</a></div>';s("#assignment-attached-file").append(e),n.closest(".video_source_upload_wrap_html5").find("input").val(t.id)}),o.open()}),s(document).on("click",".remove-assignment-attachment-a",function(t){t.preventDefault(),s(this).closest(".tutor-individual-attachment-file").remove()}),"tutor_add_course_builder"===s('input[name="tutor_action"]').val()&&setInterval(function(){var t=s("form#tutor-frontend-course-builder").serializeObject();t.tutor_ajax_action="tutor_course_builder_draft_save",s.ajax({type:"POST",data:t,beforeSend:function(){s(".tutor-dashboard-builder-draft-btn span").text(u("Saving...","tutor"))},success:function(t){},complete:function(){s(".tutor-dashboard-builder-draft-btn span").text(u("Save","tutor"))}})},3e4),s(".tutor-course-builder-section-title").on("click",function(){s(this).find("i").hasClass("tutor-icon-up")?s(this).find("i").removeClass("tutor-icon-up").addClass("tutor-icon-down"):s(this).find("i").removeClass("tutor-icon-down").addClass("tutor-icon-up"),s(this).next("div").slideToggle()}),s(document).on("click","#tutor_profile_photo_button",function(t){t.preventDefault(),s("#tutor_profile_photo_file").trigger("click")}),s(document).on("change","#tutor_profile_photo_file",function(t){t.preventDefault();this.files&&this.files[0]&&((t=new FileReader).onload=function(t){s(".tutor-profile-photo-upload-wrap").find("img").attr("src",t.target.result)},t.readAsDataURL(this.files[0]))}),s(document).on("click",".thread-content .subject",function(t){var e=s(this),o=parseInt(e.closest(".thread-content").attr("data-thread-id")),e=_tutorobject.nonce_key,o={thread_id:o,action:"tutor_bp_retrieve_user_records_for_thread"};o[e]=_tutorobject[e],s.ajax({type:"POST",url:window._tutorobject.ajaxurl,data:o,beforeSend:function(){s("#tutor-bp-thread-wrap").html("")},success:function(t){t.success&&(s("#tutor-bp-thread-wrap").html(t.data.thread_head_html),v())}})}),v(),s(document).on("click","a.tutor_bp_plus_courses",function(t){t.preventDefault();t=s(this);t.closest(".tutor-bp-enrolled-courses-wrap").find(".tutor-bp-enrolled-course-list li").show(),t.closest(".thread-participant-enrolled-info").html("")}),s(".tutor-dropbtn").click(function(){s(this).parent().find(".tutor-dropdown-content").slideToggle(100)}),s(document).on("click",function(t){var e=s(".tutor-dropdown"),o=e.find(".tutor-dropdown-content");e.is(t.target)||0!==e.has(t.target).length||o.slideUp(100)}),s(document).on("submit",".tutor-login-form-wrap #loginform",function(t){t.preventDefault();var t=s(this),e=s(".tutor-login-form-wrap"),t=t.serializeObject();t.action="tutor_user_login",s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:t,success:function(t){t.success?(location.assign(t.data.redirect),location.reload()):(t=t.data||u("Invalid username or password!","tutor"),e.find(".tutor-alert").length?e.find(".tutor-alert").html(t):e.prepend('<div class="tutor-alert tutor-alert-warning">'+t+"</div>"))}})});var b,w=s('.tutor-frontend-builder-course-price [name="tutor_course_price_type"]');0==w.length?s("#_tutor_is_course_public_meta_checkbox").show():w.change(function(){var t;s(this).prop("checked")&&(t="paid"==s(this).val()?"hide":"show",s("#_tutor_is_course_public_meta_checkbox")[t]())}).trigger("change"),(b=jQuery).fn.tutor_tooltip=function(){return this.on("mouseenter click",".tooltip",function(t){t.stopPropagation(),b(this).removeClass("isVisible")}).on("mouseenter focus",":has(>.tooltip)",function(t){b(this).prop("disabled")||b(this).find(".tooltip").addClass("isVisible")}).on("mouseleave blur keydown",":has(>.tooltip)",function(t){("keydown"!==t.type||27===t.which)&&b(this).find(".tooltip").removeClass("isVisible")}),this},jQuery(".tutor-tooltip-inside").tutor_tooltip();var y=s(".tutor-course-filter-container form"),x=s(".tutor-course-filter-loop-container"),k={};y.on("submit",function(t){t.preventDefault()}).find("input").change(function(t){var e=Object.assign(y.serializeObject(),k);e.action="tutor_course_filter_ajax",x.html('<center><img src="'+window._tutorobject.loading_icon_url+'"/></center>'),s(this).closest("form").find(".tutor-clear-all-filter").show(),s.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:e,success:function(t){x.html(t).find(".tutor-pagination-wrap a").each(function(){s(this).attr("data-href",s(this).attr("href")).attr("href","#")})}})}),x.on("click",".tutor-pagination-wrap a",function(t){var e=s(this).data("href")||s(this).attr("href");!e||(e=(e=new URL(e)).searchParams.get("paged"))&&(t.preventDefault(),k.page=e,y.find("input:first").trigger("change"))}),x.on("change",'select[name="tutor_course_filter"]',function(){k.tutor_course_filter=s(this).val(),y.find("input:first").trigger("change")});w=s(".tutor-course-loop");0<w.length&&("yes"===window.sessionStorage.getItem("tutor_refresh_archive")&&window.location.reload(),window.sessionStorage.removeItem("tutor_refresh_archive"),w.on("click",".tutor-loop-cart-btn-wrap",function(){window.sessionStorage.setItem("tutor_refresh_archive","yes")})),document.body.addEventListener("click",function(t){var e,o=t.target,n=o.tagName,r=o.parentElement.tagName;0<p.length&&"EXPIRED"!=p.html()&&("A"!==n&&"A"!==r||(t.preventDefault(),t.stopImmediatePropagation(),t={title:u("Abandon Quiz?","tutor"),description:u("Do you want to abandon this quiz? The quiz will be submitted partially up to this question if you leave this page.","tutor"),buttons:{keep:{title:u("Yes, leave quiz","tutor"),id:"leave",class:"tutor-btn tutor-is-outline tutor-is-default",callback:function(){var t=s("form#tutor-answering-quiz").serialize()+"&action=tutor_quiz_abandon";s.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:t,beforeSend:function(){document.querySelector("#tutor-popup-leave").innerHTML=u("Leaving...","tutor")},success:function(t){t.success?null==o.href?location.href=o.parentElement.href:location.href=o.href:alert(u("Something went wrong","tutor"))},error:function(){alert(u("Something went wrong","tutor")),e.remove()}})}},reset:{title:u("Stay here","tutor"),id:"reset",class:"tutor-btn",callback:function(){e.remove()}}}},e=new window.tutor_popup(s,"",40).popup(t)))}),s("body").on("submit","form#tutor-start-quiz",function(){s(this).find("button").prop("disabled",!0)})})})()})();